"use strict";var e,t=require("react"),n=require("react-dom"),r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i={},o={};var s,l={};var a,c="development"===process.env.NODE_ENV?function(){if(e)return o;e=1;var n=t;const r=n.createContext(null);return o.LexicalComposerContext=r,o.createLexicalComposerContext=function(e,t){let n=null;return null!=e&&(n=e[1]),{getTheme:function(){return null!=t?t:null!=n?n.getTheme():null}}},o.useLexicalComposerContext=function(){const e=n.useContext(r);if(null==e)throw Error("LexicalComposerContext.useLexicalComposerContext: cannot find a LexicalComposerContext");return e},o}():function(){if(s)return l;s=1;var e=t;let n=e.createContext(null);return l.LexicalComposerContext=n,l.createLexicalComposerContext=function(e,t){let n=null;return null!=e&&(n=e[1]),{getTheme:function(){return null!=t?t:null!=n?n.getTheme():null}}},l.useLexicalComposerContext=function(){let t=e.useContext(n);if(null==t)throw Error("Minified Lexical error #8; visit https://lexical.dev/docs/error?code=8 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return t},l}(),u={};var d,g={};var f,h="development"===process.env.NODE_ENV?function(){if(a)return u;function e(e){return{type:e}}a=1;const t=e("SELECTION_CHANGE_COMMAND"),n=e("CLICK_COMMAND"),r=e("DELETE_CHARACTER_COMMAND"),i=e("INSERT_LINE_BREAK_COMMAND"),o=e("INSERT_PARAGRAPH_COMMAND"),s=e("CONTROLLED_TEXT_INSERTION_COMMAND"),l=e("PASTE_COMMAND"),c=e("REMOVE_TEXT_COMMAND"),d=e("DELETE_WORD_COMMAND"),g=e("DELETE_LINE_COMMAND"),f=e("FORMAT_TEXT_COMMAND"),h=e("UNDO_COMMAND"),p=e("REDO_COMMAND"),m=e("KEYDOWN_COMMAND"),_=e("KEY_ARROW_RIGHT_COMMAND"),N=e("MOVE_TO_END"),y=e("KEY_ARROW_LEFT_COMMAND"),E=e("MOVE_TO_START"),C=e("KEY_ARROW_UP_COMMAND"),x=e("KEY_ARROW_DOWN_COMMAND"),v=e("KEY_ENTER_COMMAND"),T=e("KEY_SPACE_COMMAND"),S=e("KEY_BACKSPACE_COMMAND"),b=e("KEY_ESCAPE_COMMAND"),O=e("KEY_DELETE_COMMAND"),w=e("KEY_TAB_COMMAND"),A=e("INDENT_CONTENT_COMMAND"),D=e("OUTDENT_CONTENT_COMMAND"),k=e("DROP_COMMAND"),R=e("FORMAT_ELEMENT_COMMAND"),M=e("DRAGSTART_COMMAND"),$=e("DRAGOVER_COMMAND"),L=e("DRAGEND_COMMAND"),P=e("COPY_COMMAND"),I=e("CUT_COMMAND"),F=e("CLEAR_EDITOR_COMMAND"),B=e("CLEAR_HISTORY_COMMAND"),z=e("CAN_REDO_COMMAND"),K=e("CAN_UNDO_COMMAND"),H=e("FOCUS_COMMAND"),W=e("BLUR_COMMAND"),U=e("KEY_MODIFIER_COMMAND"),Y="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,G=Y&&"documentMode"in document?document.documentMode:null,V=Y&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),j=Y&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),J=!(!Y||!("InputEvent"in window)||G)&&"getTargetRanges"in new window.InputEvent("input"),X=Y&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),q=Y&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Z=Y&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Q=Y&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Z,ee=0,te=1,ne=2,re=1,ie=2,oe=3,se=4,le=5,ae=6,ce=X||q||Q?" ":"​",ue="\n\n",de=j?" ":ce,ge="֑-߿יִ-﷽ﹰ-ﻼ",fe="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",he=new RegExp("^[^"+fe+"]*["+ge+"]"),pe=new RegExp("^[^"+ge+"]*["+fe+"]"),me={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},_e={directionless:1,unmergeable:2},Ne={center:2,end:6,justify:4,left:1,right:3,start:5},ye={[ie]:"center",[ae]:"end",[se]:"justify",[re]:"left",[oe]:"right",[le]:"start"},Ee={normal:0,segmented:2,token:1},Ce={[ee]:"normal",[ne]:"segmented",[te]:"token"};let xe=!1,ve=0;function Te(e){ve=e.timeStamp}function Se(e,t,n){return t.__lexicalLineBreak===e||void 0!==e[`__lexicalKey_${n._key}`]}function be(e,t,n){const r=$t(n._window);let i=null,o=null;null!==r&&r.anchorNode===e&&(i=r.anchorOffset,o=r.focusOffset);const s=e.nodeValue;null!==s&&lt(t,s,i,o,!1)}function Oe(e,t,n){if(Zn(e)){const t=e.anchor.getNode();if(t.is(n)&&e.format!==t.getFormat())return!1}return 3===t.nodeType&&n.isAttached()}function we(e,t,n){xe=!0;const r=performance.now()-ve>100;try{Wr(e,()=>{const i=hr()||function(e){return e.getEditorState().read(()=>{const e=hr();return null!==e?e.clone():null})}(e),o=new Map,s=e.getRootElement(),l=e._editorState,a=e._blockCursorElement;let c=!1,u="";for(let n=0;n<t.length;n++){const d=t[n],g=d.type,f=d.target;let h=je(f,l);if(!(null===h&&f!==s||Vr(h)))if("characterData"===g)r&&Ei(h)&&Oe(i,f,h)&&be(f,h,e);else if("childList"===g){c=!0;const t=d.addedNodes;for(let n=0;n<t.length;n++){const r=t[n],i=Ve(r),o=r.parentNode;if(null!=o&&r!==a&&null===i&&("BR"!==r.nodeName||!Se(r,o,e))){if(j){const e=r.innerText||r.nodeValue;e&&(u+=e)}o.removeChild(r)}}const n=d.removedNodes,r=n.length;if(r>0){let t=0;for(let i=0;i<r;i++){const r=n[i];("BR"===r.nodeName&&Se(r,f,e)||a===r)&&(f.appendChild(r),t++)}r!==t&&(f===s&&(h=Ze(l)),o.set(f,h))}}}if(o.size>0)for(const[t,n]of o)if(Jr(n)){const r=n.getChildrenKeys();let i=t.firstChild;for(let n=0;n<r.length;n++){const o=r[n],s=e.getElementByKey(o);null!==s&&(null==i?(t.appendChild(s),i=s):i!==s&&t.replaceChild(s,i),i=i.nextSibling)}}else Ei(n)&&n.markDirty();const d=n.takeRecords();if(d.length>0){for(let t=0;t<d.length;t++){const n=d[t],r=n.addedNodes,i=n.target;for(let t=0;t<r.length;t++){const n=r[t],o=n.parentNode;null==o||"BR"!==n.nodeName||Se(n,i,e)||o.removeChild(n)}}n.takeRecords()}null!==i&&(c&&(i.dirty=!0,Qe(i)),j&&yt(e)&&i.insertRawText(u))})}finally{xe=!1}}function Ae(e){const t=e._observer;if(null!==t){we(e,t.takeRecords(),t)}}function De(e){!function(e){0===ve&&St(e).addEventListener("textInput",Te,!0)}(e),e._observer=new MutationObserver((t,n)=>{we(e,t,n)})}let ke=1;const Re="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function Me(e){const t=document.activeElement;if(null===t)return!1;const n=t.nodeName;return Vr(je(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==t.__lexicalEditor)}function $e(e,t,n){const r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!Me(t)&&Le(t)===e}catch(e){return!1}}function Le(e){let t=e;for(;null!=t;){const e=t.__lexicalEditor;if(null!=e)return e;t=vt(t)}return null}function Pe(e){return e.isToken()||e.isSegmented()}function Ie(e){return 3===e.nodeType}function Fe(e){let t=e;for(;null!=t;){if(Ie(t))return t;t=t.firstChild}return null}function Be(e,t,n){const r=me[t];return!(e&r)||null!==n&&0!==(n&r)?null===n||n&r?e|r:e:e^r}function ze(e){return Ei(e)||oi(e)||Vr(e)}function Ke(e,t){if(null!=t)return void(e.__key=t);wr(),Ar();const n=kr(),r=Dr(),i=""+ke++;r._nodeMap.set(i,e),Jr(e)?n._dirtyElements.set(i,!0):n._dirtyLeaves.add(i),n._cloneNotNeeded.add(i),n._dirtyType=1,e.__key=i}function He(e){const t=e.getParent();if(null!==t){const n=e.getWritable(),r=t.getWritable(),i=e.getPreviousSibling(),o=e.getNextSibling();if(null===i)if(null!==o){const e=o.getWritable();r.__first=o.__key,e.__prev=null}else r.__first=null;else{const e=i.getWritable();if(null!==o){const t=o.getWritable();t.__prev=e.__key,e.__next=t.__key}else e.__next=null;n.__prev=null}if(null===o)if(null!==i){const e=i.getWritable();r.__last=i.__key,e.__next=null}else r.__last=null;else{const e=o.getWritable();if(null!==i){const t=i.getWritable();t.__next=e.__key,e.__prev=t.__key}else e.__prev=null;n.__next=null}r.__size--,n.__parent=null}}function We(e){Ar();const t=e.getLatest(),n=t.__parent,r=Dr(),i=kr(),o=r._nodeMap,s=i._dirtyElements;null!==n&&function(e,t,n){let r=e;for(;null!==r;){if(n.has(r))return;const e=t.get(r);if(void 0===e)break;n.set(r,!1),r=e.__parent}}(n,o,s);const l=t.__key;i._dirtyType=1,Jr(e)?s.set(l,!0):i._dirtyLeaves.add(l)}function Ue(e){wr();const t=kr(),n=t._compositionKey;if(e!==n){if(t._compositionKey=e,null!==n){const e=Ge(n);null!==e&&e.getWritable()}if(null!==e){const t=Ge(e);null!==t&&t.getWritable()}}}function Ye(){if(Or())return null;return kr()._compositionKey}function Ge(e,t){const n=(t||Dr())._nodeMap.get(e);return void 0===n?null:n}function Ve(e,t){const n=e[`__lexicalKey_${kr()._key}`];return void 0!==n?Ge(n,t):null}function je(e,t){let n=e;for(;null!=n;){const e=Ve(n,t);if(null!==e)return e;n=vt(n)}return null}function Je(e){const t=e._decorators,n=Object.assign({},t);return e._pendingDecorators=n,n}function Xe(e){return e.read(()=>qe().getTextContent())}function qe(){return Ze(Dr())}function Ze(e){return e._nodeMap.get("root")}function Qe(e){wr();const t=Dr();if(null!==e){if(Object.isFrozen(e))throw Error("$setSelection called on frozen selection object. Ensure selection is cloned before passing in.");e.dirty=!0,e._cachedNodes=null}t._selection=e}function et(e){const t=kr(),n=function(e,t){let n=e;for(;null!=n;){const e=n[`__lexicalKey_${t._key}`];if(void 0!==e)return e;n=vt(n)}return null}(e,t);if(null===n){return e===t.getRootElement()?Ge("root"):null}return Ge(n)}function tt(e,t){return t?e.getTextContentSize():0}function nt(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function rt(e){const t=[];let n=e;for(;null!==n;)t.push(n),n=n._parentEditor;return t}function it(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function ot(e){return 3===e.nodeType?e.nodeValue:null}function st(e,t,n){const r=$t(t._window);if(null===r)return;const i=r.anchorNode;let{anchorOffset:o,focusOffset:s}=r;if(null!==i){let t=ot(i);const r=je(i);if(null!==t&&Ei(r)){if(r.canContainTabs()){const e=t.includes("\t");if(n&&n.length>0&&e){const e=n.length,r=o+e-1,i=t.slice(0,r),l=t.slice(r,t.length);t=`${i}${n}${l}`,o+=e,s+=e}}if(t===ce&&n){const e=n.length;t=n,o=e,s=e}null!==t&&lt(r,t,o,s,e)}}}function lt(e,t,n,r,i){let o=e;if(o.isAttached()&&(i||!o.isDirty())){const e=o.isComposing();let s=t;(e||i)&&t[t.length-1]===ce&&(s=t.slice(0,-1));const l=o.getTextContent();if(i||s!==l){if(""===s){if(Ue(null),X||q||Q)o.remove();else{const e=kr();setTimeout(()=>{e.update(()=>{o.isAttached()&&o.remove()})},20)}return}const t=o.getParent(),i=pr(),l=Ye(),a=o.getKey();if(o.isToken()||null!==l&&a===l&&!e||null!==t&&Zn(i)&&!t.canInsertTextBefore()&&0===i.anchor.offset)return void o.markDirty();const c=hr();if(!Zn(c)||null===n||null===r)return void o.setTextContent(s);if(c.setTextNodeRange(o,n,o,r),o.isSegmented()){const e=yi(o.getTextContent());o.replace(e),o=e}o.setTextContent(s)}}}function at(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;const n=e.anchor.offset,r=t.getParentOrThrow(),i=t.isToken();return 0===n?!t.canInsertTextBefore()||!r.canInsertTextBefore()||i||function(e){const t=e.getPreviousSibling();return(Ei(t)||Jr(t)&&t.isInline())&&!t.canInsertTextAfter()}(t):n===t.getTextContentSize()&&(!t.canInsertTextAfter()||!r.canInsertTextAfter()||i)}function ct(e){return 37===e}function ut(e){return 39===e}function dt(e,t){return V?e:t}function gt(e){return 13===e}function ft(e){return 8===e}function ht(e){return 46===e}function pt(e,t){const n=e[t];if("string"==typeof n){const r=n.split(" ");return e[t]=r,r}return n}function mt(e,t,n,r,i){if(0===n.size)return;const o=r.__type,s=r.__key,l=t.get(o);if(void 0===l)throw Error(`Type ${o} not in registeredNodes`);const a=l.klass;let c=e.get(a);void 0===c&&(c=new Map,e.set(a,c));const u=c.get(s),d="destroyed"===u&&"created"===i;(void 0===u||d)&&c.set(s,d?"updated":i)}function _t(e,t,n){const r=e.getParent();let i=n,o=e;return null!==r&&(t&&0===n?(i=o.getIndexWithinParent(),o=r):t||n!==o.getChildrenSize()||(i=o.getIndexWithinParent()+1,o=r)),o.getChildAtIndex(t?i-1:i)}function Nt(e,t){const n=e.offset;if("element"===e.type){return _t(e.getNode(),t,n)}{const r=e.getNode();if(t&&0===n||!t&&n===r.getTextContentSize()){const e=t?r.getPreviousSibling():r.getNextSibling();return null===e?_t(r.getParentOrThrow(),t,r.getIndexWithinParent()+(t?0:1)):e}}return null}function yt(e){const t=St(e).event,n=t&&t.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n}function Et(e,t,n){return zr(e,t,n)}function Ct(e){return!Zr(e)&&!e.isLastChild()&&!e.isInline()}function xt(e,t){const n=e._keyToDOMMap.get(t);if(void 0===n)throw Error(`Reconciliation: could not find DOM element for node key ${t}`);return n}function vt(e){const t=e.assignedSlot||e.parentElement;return null!==t&&11===t.nodeType?t.host:t}function Tt(e,t){let n=e.getParent();for(;null!==n;){if(n.is(t))return!0;n=n.getParent()}return!1}function St(e){const t=e._window;if(null===t)throw Error("window object not found");return t}function bt(e){let t=e.getParentOrThrow();for(;null!==t;){if(Ot(t))return t;t=t.getParentOrThrow()}return t}function Ot(e){return Zr(e)||Jr(e)&&e.isShadowRoot()}function wt(e){const t=e.constructor.clone(e);return Ke(t,null),t}function At(e){const t=kr(),n=e.constructor.getType(),r=t._nodes.get(n);if(void 0===r)throw Error('$initializeNode failed. Ensure node has been registered to the editor. You can do this by passing the node class via the "nodes" array in the editor config.');const i=r.replace;if(null!==i){const t=i(e);if(!(t instanceof e.constructor))throw Error("$initializeNode failed. Ensure replacement node is a subclass of the original node.");return t}return e}function Dt(e,t){if(Zr(e.getParent())&&!Jr(t)&&!Vr(t))throw Error("Only element or decorator nodes can be inserted in to the root node")}function kt(e){return(Vr(e)||Jr(e)&&!e.canBeEmpty())&&!e.isInline()}function Rt(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null;const r=e.parentElement;null!==r&&r.removeChild(e)}function Mt(e,t,n){let r=e._blockCursorElement;if(Zn(n)&&n.isCollapsed()&&"element"===n.anchor.type&&t.contains(document.activeElement)){const i=n.anchor,o=i.getNode(),s=i.offset;let l=!1,a=null;if(s===o.getChildrenSize()){kt(o.getChildAtIndex(s-1))&&(l=!0)}else{const t=o.getChildAtIndex(s);if(kt(t)){const n=t.getPreviousSibling();(null===n||kt(n))&&(l=!0,a=e.getElementByKey(t.__key))}}if(l){const n=e.getElementByKey(o.__key);return null===r&&(e._blockCursorElement=r=function(e){const t=e.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");let r=t.blockCursor;if(void 0!==r){if("string"==typeof r){const e=r.split(" ");r=t.blockCursor=e}void 0!==r&&n.classList.add(...r)}return n}(e._config)),t.style.caretColor="transparent",void(null===a?n.appendChild(r):n.insertBefore(r,a))}}null!==r&&Rt(r,e,t)}function $t(e){return Y?(e||window).getSelection():null}function Lt(e,t){let n=e.getChildAtIndex(t);if(null==n&&(n=e),Ot(e))throw Error("Can not call $splitNode() on root element");const r=e=>{const t=e.getParentOrThrow(),i=Ot(t),o=e!==n||i?wt(e):e;if(i)return e.insertAfter(o),[e,o,o];{const[n,i,s]=r(t),l=e.getNextSiblings();return s.append(o,...l),[n,i,o]}},[i,o]=r(n);return[i,o]}function Pt(e,t,n,r,i){let o=e.getFirstChild();for(;null!==o;){const e=o.__key;void 0!==o&&o.__parent===t&&(Jr(o)&&Pt(o,e,n,r,i),n.has(e)||i.delete(e),r.delete(e)),o=o.isAttached()?o.getNextSibling():null}}function It(e,t){const n=e.__mode,r=e.__format,i=e.__style,o=t.__mode,s=t.__format,l=t.__style;return!(null!==n&&n!==o||null!==r&&r!==s||null!==i&&i!==l)}function Ft(e,t){const n=e.mergeWithSibling(t),r=kr()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function Bt(e){let t,n,r=e;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(t=r.getPreviousSibling())&&Ei(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){if(It(t,r)){r=Ft(t,r);break}break}t.remove()}for(;null!==(n=r.getNextSibling())&&Ei(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(It(r,n)){r=Ft(r,n);break}break}n.remove()}}else r.remove()}function zt(e){return Kt(e.anchor),Kt(e.focus),e}function Kt(e){for(;"element"===e.type;){const t=e.getNode(),n=e.offset;let r,i;if(n===t.getChildrenSize()?(r=t.getChildAtIndex(n-1),i=!0):(r=t.getChildAtIndex(n),i=!1),Ei(r)){e.set(r.__key,i?r.getTextContentSize():0,"text");break}if(!Jr(r))break;e.set(r.__key,i?r.getChildrenSize():0,"element")}}let Ht,Wt,Ut,Yt,Gt,Vt,jt,Jt,Xt,qt,Zt="",Qt="",en="",tn=!1,nn=!1,rn=null;function on(e,t){const n=jt.get(e);if(null!==t){const n=xn(e);n.parentNode===t&&t.removeChild(n)}if(Jt.has(e)||Wt._keyToDOMMap.delete(e),Jr(n)){const e=_n(n,jt);sn(e,0,e.length-1,null)}void 0!==n&&mt(qt,Ut,Yt,n,"destroyed")}function sn(e,t,n,r){let i=t;for(;i<=n;++i){const t=e[i];void 0!==t&&on(t,r)}}function ln(e,t){e.setProperty("text-align",t)}const an="20px";function cn(e,t){const n=Ht.theme.indent;if("string"==typeof n){const r=e.classList.contains(n);t>0&&!r?e.classList.add(n):t<1&&r&&e.classList.remove(n)}const r=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||an;e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${r})`)}function un(e,t){const n=e.style;0===t?ln(n,""):1===t?ln(n,"left"):2===t?ln(n,"center"):3===t?ln(n,"right"):4===t?ln(n,"justify"):5===t?ln(n,"start"):6===t&&ln(n,"end")}function dn(e,t,n){const r=Jt.get(e);if(void 0===r)throw Error("createNode: node does not exist in nodeMap");const i=r.createDOM(Ht,Wt);if(function(e,t,n){const r=n._keyToDOMMap;t["__lexicalKey_"+n._key]=e,r.set(e,t)}(e,i,Wt),Ei(r)?i.setAttribute("data-lexical-text","true"):Vr(r)&&i.setAttribute("data-lexical-decorator","true"),Jr(r)){const e=r.__indent,t=r.__size;if(0!==e&&cn(i,e),0!==t){const e=t-1;!function(e,t,n,r){const i=Qt;Qt="",gn(e,n,0,t,r,null),pn(n,r),Qt=i}(_n(r,Jt),e,r,i)}const n=r.__format;0!==n&&un(i,n),r.isInline()||hn(null,r,i),Ct(r)&&(Zt+=ue,en+=ue)}else{const t=r.getTextContent();if(Vr(r)){const t=r.decorate(Wt,Ht);null!==t&&yn(e,t),i.contentEditable="false"}else Ei(r)&&(r.isDirectionless()||(Qt+=t));Zt+=t,en+=t}if(null!==t)if(null!=n)t.insertBefore(i,n);else{const e=t.__lexicalLineBreak;null!=e?t.insertBefore(i,e):t.appendChild(i)}return Object.freeze(r),mt(qt,Ut,Yt,r,"created"),i}function gn(e,t,n,r,i,o){const s=Zt;Zt="";let l=n;for(;l<=r;++l)dn(e[l],i,o);Ct(t)&&(Zt+=ue),i.__lexicalTextContent=Zt,Zt=s+Zt}function fn(e,t){const n=t.get(e);return oi(n)||Vr(n)&&n.isInline()}function hn(e,t,n){const r=null!==e&&(0===e.__size||fn(e.__last,jt)),i=0===t.__size||fn(t.__last,Jt);if(r){if(!i){const e=n.__lexicalLineBreak;null!=e&&n.removeChild(e),n.__lexicalLineBreak=null}}else if(i){const e=document.createElement("br");n.__lexicalLineBreak=e,n.appendChild(e)}}function pn(e,t){const n=t.__lexicalDirTextContent,r=t.__lexicalDir;if(n!==Qt||r!==rn){const n=""===Qt,o=n?rn:(i=Qt,he.test(i)?"rtl":pe.test(i)?"ltr":null);if(o!==r){const i=t.classList,s=Ht.theme;let l=null!==r?s[r]:void 0,a=null!==o?s[o]:void 0;if(void 0!==l){if("string"==typeof l){const e=l.split(" ");l=s[r]=e}i.remove(...l)}if(null===o||n&&"ltr"===o)t.removeAttribute("dir");else{if(void 0!==a){if("string"==typeof a){const e=a.split(" ");a=s[o]=e}void 0!==a&&i.add(...a)}t.dir=o}if(!nn){e.getWritable().__dir=o}}rn=o,t.__lexicalDirTextContent=Qt,t.__lexicalDir=o}var i}function mn(e,t,n){const r=Qt;Qt="",function(e,t,n){const r=Zt,i=e.__size,o=t.__size;if(Zt="",1===i&&1===o){const r=e.__first,i=t.__first;if(r===i)Nn(r,n);else{const e=xn(r),t=dn(i,null,null);n.replaceChild(t,e),on(r,null)}}else{const r=_n(e,jt),s=_n(t,Jt);if(0===i)0!==o&&gn(s,t,0,o-1,n,null);else if(0===o){if(0!==i){const e=null==n.__lexicalLineBreak;sn(r,0,i-1,e?null:n),e&&(n.textContent="")}}else!function(e,t,n,r,i,o){const s=r-1,l=i-1;let a,c,u=(f=o,f.firstChild),d=0,g=0;var f;for(;d<=s&&g<=l;){const e=t[d],r=n[g];if(e===r)u=En(Nn(r,o)),d++,g++;else{void 0===a&&(a=new Set(t)),void 0===c&&(c=new Set(n));const i=c.has(e),s=a.has(r);if(i)if(s){const e=xt(Wt,r);e===u?u=En(Nn(r,o)):(null!=u?o.insertBefore(e,u):o.appendChild(e),Nn(r,o)),d++,g++}else dn(r,o,u),g++;else u=En(xn(e)),on(e,o),d++}}const h=d>s,p=g>l;if(h&&!p){const t=n[l+1];gn(n,e,g,l,o,void 0===t?null:Wt.getElementByKey(t))}else p&&!h&&sn(t,d,s,o)}(t,r,s,i,o,n)}Ct(t)&&(Zt+=ue);n.__lexicalTextContent=Zt,Zt=r+Zt}(e,t,n),pn(t,n),Qt=r}function _n(e,t){const n=[];let r=e.__first;for(;null!==r;){const e=t.get(r);if(void 0===e)throw Error("createChildrenArray: node does not exist in nodeMap");n.push(r),r=e.__next}return n}function Nn(e,t){const n=jt.get(e);let r=Jt.get(e);if(void 0===n||void 0===r)throw Error("reconcileNode: prevNode or nextNode does not exist in nodeMap");const i=tn||Vt.has(e)||Gt.has(e),o=xt(Wt,e);if(n===r&&!i){if(Jr(n)){const e=o.__lexicalTextContent;void 0!==e&&(Zt+=e,en+=e);const t=o.__lexicalDirTextContent;void 0!==t&&(Qt+=t)}else{const e=n.getTextContent();Ei(n)&&!n.isDirectionless()&&(Qt+=e),en+=e,Zt+=e}return o}if(n!==r&&i&&mt(qt,Ut,Yt,r,"updated"),r.updateDOM(n,o,Ht)){const n=dn(e,null,null);if(null===t)throw Error("reconcileNode: parentDOM is null");return t.replaceChild(n,o),on(e,null),n}if(Jr(n)&&Jr(r)){const e=r.__indent;e!==n.__indent&&cn(o,e);const t=r.__format;t!==n.__format&&un(o,t),i&&(mn(n,r,o),Zr(r)||r.isInline()||hn(n,r,o)),Ct(r)&&(Zt+=ue,en+=ue)}else{const t=r.getTextContent();if(Vr(r)){const t=r.decorate(Wt,Ht);null!==t&&yn(e,t)}else Ei(r)&&!r.isDirectionless()&&(Qt+=t);Zt+=t,en+=t}return!nn&&Zr(r)&&r.__cachedText!==en&&(r=r.getWritable(),r.__cachedText=en),Object.freeze(r),o}function yn(e,t){let n=Wt._pendingDecorators;const r=Wt._decorators;if(null===n){if(r[e]===t)return;n=Je(Wt)}n[e]=t}function En(e){let t=e.nextSibling;return null!==t&&t===Wt._blockCursorElement&&(t=t.nextSibling),t}function Cn(e,t,n,r,i,o){Zt="",en="",Qt="",tn=2===r,rn=null,Wt=n,Ht=n._config,Ut=n._nodes,Yt=Wt._listeners.mutation,Gt=i,Vt=o,jt=e._nodeMap,Jt=t._nodeMap,nn=t._readOnly,Xt=new Map(n._keyToDOMMap);const s=new Map;return qt=s,Nn("root",null),Wt=void 0,Ut=void 0,Gt=void 0,Vt=void 0,jt=void 0,Jt=void 0,Ht=void 0,Xt=void 0,qt=void 0,s}function xn(e){const t=Xt.get(e);if(void 0===t)throw Error(`Reconciliation: could not find DOM element for node key ${e}`);return t}const vn=Object.freeze({}),Tn=[["keydown",function(e,t){if(Sn=e.timeStamp,bn=e.keyCode,t.isComposing())return;const{keyCode:n,shiftKey:o,ctrlKey:s,metaKey:l,altKey:a}=e;if(Et(t,m,e))return;if(function(e,t,n,r){return ut(e)&&!t&&!r&&!n}(n,s,a,l))Et(t,_,e);else if(function(e,t,n,r,i){return ut(e)&&!r&&!n&&(t||i)}(n,s,o,a,l))Et(t,N,e);else if(function(e,t,n,r){return ct(e)&&!t&&!r&&!n}(n,s,a,l))Et(t,y,e);else if(function(e,t,n,r,i){return ct(e)&&!r&&!n&&(t||i)}(n,s,o,a,l))Et(t,E,e);else if(function(e,t,n){return function(e){return 38===e}(e)&&!t&&!n}(n,s,l))Et(t,C,e);else if(function(e,t,n){return function(e){return 40===e}(e)&&!t&&!n}(n,s,l))Et(t,x,e);else if(function(e,t){return gt(e)&&t}(n,o))Rn=!0,Et(t,v,e);else if(function(e){return 32===e}(n))Et(t,T,e);else if(function(e,t){return V&&t&&79===e}(n,s))e.preventDefault(),Rn=!0,Et(t,i,!0);else if(function(e,t){return gt(e)&&!t}(n,o))Rn=!1,Et(t,v,e);else if(function(e,t,n,r){return V?!t&&!n&&(ft(e)||72===e&&r):!(r||t||n)&&ft(e)}(n,a,l,s))ft(n)?Et(t,S,e):(e.preventDefault(),Et(t,r,!0));else if(function(e){return 27===e}(n))Et(t,b,e);else if(function(e,t,n,r,i){return V?!(n||r||i)&&(ht(e)||68===e&&t):!(t||r||i)&&ht(e)}(n,s,o,a,l))ht(n)?Et(t,O,e):(e.preventDefault(),Et(t,r,!1));else if(function(e,t,n){return ft(e)&&(V?t:n)}(n,a,s))e.preventDefault(),Et(t,d,!0);else if(function(e,t,n){return ht(e)&&(V?t:n)}(n,a,s))e.preventDefault(),Et(t,d,!1);else if(function(e,t){return V&&t&&ft(e)}(n,l))e.preventDefault(),Et(t,g,!0);else if(function(e,t){return V&&t&&ht(e)}(n,l))e.preventDefault(),Et(t,g,!1);else if(function(e,t,n,r){return 66===e&&!t&&dt(n,r)}(n,a,l,s))e.preventDefault(),Et(t,f,"bold");else if(function(e,t,n,r){return 85===e&&!t&&dt(n,r)}(n,a,l,s))e.preventDefault(),Et(t,f,"underline");else if(function(e,t,n,r){return 73===e&&!t&&dt(n,r)}(n,a,l,s))e.preventDefault(),Et(t,f,"italic");else if(function(e,t,n,r){return 9===e&&!t&&!n&&!r}(n,a,s,l))Et(t,w,e);else if(function(e,t,n,r){return 90===e&&!t&&dt(n,r)}(n,o,l,s))e.preventDefault(),Et(t,h,void 0);else if(function(e,t,n,r){return V?90===e&&n&&t:89===e&&r||90===e&&r&&t}(n,o,l,s))e.preventDefault(),Et(t,p,void 0);else{nr(t._editorState._selection)&&(!function(e,t,n,r){return!t&&67===e&&(V?n:r)}(n,o,l,s)?function(e,t,n,r){return!t&&88===e&&(V?n:r)}(n,o,l,s)&&(e.preventDefault(),Et(t,I,e)):(e.preventDefault(),Et(t,P,e)))}(function(e,t,n,r){return e||t||n||r})(s,o,a,l)&&Et(t,U,e)}],["pointerdown",function(e,t){const n=e.target,r=e.pointerType;n instanceof Node&&"touch"!==r&&Wr(t,()=>{Vr(je(n))||(kn=!0)})}],["compositionstart",function(e,t){Wr(t,()=>{const n=hr();if(Zn(n)&&!t.isComposing()){const r=n.anchor,i=n.anchor.getNode();Ue(r.key),(e.timeStamp<Sn+30||"element"===r.type||!n.isCollapsed()||i.getFormat()!==n.format||i.getStyle()!==n.style)&&Et(t,s,de)}})}],["compositionend",function(e,t){j?Mn=!0:Wr(t,()=>{Fn(t,e.data)})}],["input",function(e,t){e.stopPropagation(),Wr(t,()=>{const n=hr(),r=e.data;if(null!=r&&Zn(n)&&Ln(n,r,e.timeStamp,!1)){Mn&&(Fn(t,r),Mn=!1);const i=n.anchor,o=i.getNode(),l=$t(t._window);if(null===l)return;const a=i.offset;J&&!n.isCollapsed()&&Ei(o)&&null!==l.anchorNode&&o.getTextContent().slice(0,a)+r+o.getTextContent().slice(a+n.focus.offset)===ot(l.anchorNode)||Et(t,s,r);const c=r.length;j&&c>1&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=c),X||q||Q||!t.isComposing()||(Sn=0,Ue(null))}else{st(!1,t,null!==r?r:void 0),Mn&&(Fn(t,r||void 0),Mn=!1)}wr(),Ae(kr())}),wn=null}],["click",function(e,t){Wr(t,()=>{const r=hr(),i=$t(t._window),o=pr();if(Zn(r)){const e=r.anchor,t=e.getNode();i&&"element"===e.type&&0===e.offset&&r.isCollapsed()&&!Zr(t)&&1===qe().getChildrenSize()&&t.getTopLevelElementOrThrow().isEmpty()&&null!==o&&r.is(o)&&(i.removeAllRanges(),r.dirty=!0)}Et(t,n,e)})}],["cut",vn],["copy",vn],["dragstart",vn],["dragover",vn],["dragend",vn],["paste",vn],["focus",vn],["blur",vn],["drop",vn]];J&&Tn.push(["beforeinput",(e,t)=>function(e,t){const n=e.inputType;if("deleteCompositionText"===n||j&&yt(t))return;if("insertCompositionText"===n)return;Wr(t,()=>{const a=hr();if("deleteContentBackward"===n){if(null===a){const e=pr();if(!Zn(e))return;Qe(e.clone())}if(Zn(a)){if(u=e.timeStamp,229===bn&&u<Sn+30&&t.isComposing()&&a.anchor.key===a.focus.key){if(Ue(null),Sn=0,setTimeout(()=>{Wr(t,()=>{Ue(null)})},30),Zn(a)){const e=a.anchor.getNode();e.markDirty(),a.format=e.getFormat(),a.style=e.getStyle()}}else e.preventDefault(),Et(t,r,!0);return}}var u;if(!Zn(a))return;const m=e.data;null!==wn&&st(!1,t,wn),a.dirty&&null===wn||!a.isCollapsed()||Zr(a.anchor.getNode())||function(e,t){if(t.getTargetRanges){const n=t.getTargetRanges()[0];n&&e.applyDOMRange(n)}}(a,e),wn=null;const _=a.anchor,N=a.focus,y=_.getNode(),E=N.getNode();if("insertText"!==n&&"insertTranspose"!==n)switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Et(t,s,e);break;case"insertFromComposition":Ue(null),Et(t,s,e);break;case"insertLineBreak":Ue(null),Et(t,i,!1);break;case"insertParagraph":Ue(null),Rn?(Rn=!1,Et(t,i,!1)):Et(t,o,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Et(t,l,e);break;case"deleteByComposition":(function(e,t){return e!==t||Jr(e)||Jr(t)||!e.isToken()||!t.isToken()})(y,E)&&Et(t,c,void 0);break;case"deleteByDrag":case"deleteByCut":Et(t,c,void 0);break;case"deleteContent":Et(t,r,!1);break;case"deleteWordBackward":Et(t,d,!0);break;case"deleteWordForward":Et(t,d,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Et(t,g,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Et(t,g,!1);break;case"formatStrikeThrough":Et(t,f,"strikethrough");break;case"formatBold":Et(t,f,"bold");break;case"formatItalic":Et(t,f,"italic");break;case"formatUnderline":Et(t,f,"underline");break;case"historyUndo":Et(t,h,void 0);break;case"historyRedo":Et(t,p,void 0)}else{if("\n"===m)e.preventDefault(),Et(t,i,!1);else if(m===ue)e.preventDefault(),Et(t,o,void 0);else if(null==m&&e.dataTransfer){const t=e.dataTransfer.getData("text/plain");e.preventDefault(),a.insertRawText(t)}else null!=m&&Ln(a,m,e.timeStamp,!0)?(e.preventDefault(),Et(t,s,m)):wn=m;On=e.timeStamp}})}(e,t)]);let Sn=0,bn=0,On=0,wn=null,An=0,Dn=!1,kn=!1,Rn=!1,Mn=!1,$n=[0,"",0,"root",0];function Ln(e,t,n,r){const i=e.anchor,o=e.focus,s=i.getNode(),l=kr(),a=$t(l._window),c=null!==a?a.anchorNode:null,u=i.key,d=l.getElementByKey(u),g=t.length;return u!==o.key||!Ei(s)||(!r&&(!J||On<n+50)||s.isDirty()&&g<2||nt(t))&&i.offset!==o.offset&&!s.isComposing()||Pe(s)||s.isDirty()&&g>1||(r||!J)&&null!==d&&!s.isComposing()&&c!==Fe(d)||s.getFormat()!==e.format||s.getStyle()!==e.style||at(e,s)}function Pn(e,t){return null!==e&&null!==e.nodeValue&&3===e.nodeType&&0!==t&&t!==e.nodeValue.length}function In(e,n,r){const{anchorNode:i,anchorOffset:o,focusNode:s,focusOffset:l}=e;Dn&&(Dn=!1,Pn(i,o)&&Pn(s,l))||Wr(n,()=>{if(!r)return void Qe(null);if(!$e(n,i,s))return;const o=hr();if(Zn(o)){const t=o.anchor,r=t.getNode();if(o.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(o.dirty=!0);const i=St(n).event,s=i?i.timeStamp:performance.now(),[l,a,c,u,d]=$n;s<d+200&&t.offset===c&&t.key===u?(o.format=l,o.style=a):"text"===t.type?(o.format=r.getFormat(),o.style=r.getStyle()):"element"===t.type&&(o.format=0,o.style="")}else{let e=255,t=!1;const n=o.getNodes(),r=n.length;for(let i=0;i<r;i++){const r=n[i];if(Ei(r)&&(t=!0,e&=r.getFormat(),0===e))break}o.format=t?e:0}}Et(n,t,void 0)})}function Fn(e,t){const n=e._compositionKey;if(Ue(null),null!==n&&null!=t){if(""===t){const t=Ge(n),r=Fe(e.getElementByKey(n));return void(null!==r&&null!==r.nodeValue&&Ei(t)&&lt(t,r.nodeValue,null,null,!0))}if("\n"===t[t.length-1]){const t=hr();if(Zn(t)){const n=t.focus;return t.anchor.set(n.key,n.offset,n.type),void Et(e,v,null)}}}st(!0,e,t)}function Bn(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}const zn=new Map;function Kn(e){const t=e.target,n=$t(null==t?null:9===t.nodeType?t.defaultView:t.ownerDocument.defaultView);if(null===n)return;const r=Le(n.anchorNode);if(null===r)return;kn&&(kn=!1,Wr(r,()=>{const e=pr(),t=n.anchorNode;if(null===t)return;const i=t.nodeType;if(1!==i&&3!==i)return;Qe(fr(e,n,r))}));const i=rt(r),o=i[i.length-1],s=o._key,l=zn.get(s),a=l||o;a!==r&&In(n,a,!1),In(n,r,!0),r!==o?zn.set(s,r):l&&zn.delete(s)}function Hn(e){e._lexicalHandled=!0}function Wn(e){return!0===e._lexicalHandled}function Un(e){if(0!==An&&(An--,0===An)){e.ownerDocument.removeEventListener("selectionchange",Kn)}const t=e.__lexicalEditor;null!=t&&(!function(e){if(null!==e._parentEditor){const t=rt(e),n=t[t.length-1]._key;zn.get(n)===e&&zn.delete(n)}else zn.delete(e._key)}(t),e.__lexicalEditor=null);const n=Bn(e);for(let e=0;e<n.length;e++)n[e]();e.__lexicalEventHandles=[]}class Yn{constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let t=this.getNode(),n=e.getNode();const r=this.offset,i=e.offset;if(Jr(t)){const e=t.getDescendantByIndex(r);t=null!=e?e:t}if(Jr(n)){const e=n.getDescendantByIndex(i);n=null!=e?e:n}return t===n?r<i:t.isBefore(n)}getNode(){const e=Ge(this.key);if(null===e)throw Error("Point.getNode: node not found");return e}set(e,t,n){const r=this._selection,i=this.key;this.key=e,this.offset=t,this.type=n,Or()||(Ye()===i&&Ue(e),null!==r&&(r._cachedNodes=null,r.dirty=!0))}}function Gn(e,t,n){return new Yn(e,t,n)}function Vn(e,t){let n=t.__key,r=e.offset,i="element";if(Ei(t)){i="text";const e=t.getTextContentSize();r>e&&(r=e)}else if(!Jr(t)){const e=t.getNextSibling();if(Ei(e))n=e.__key,r=0,i="text";else{const e=t.getParent();e&&(n=e.__key,r=t.getIndexWithinParent()+1)}}e.set(n,r,i)}function jn(e,t){if(Jr(t)){const n=t.getLastDescendant();Jr(n)||Ei(n)?Vn(e,n):Vn(e,t)}else Vn(e,t)}function Jn(e,t,n,r){const i=e.getNode(),o=i.getChildAtIndex(e.offset),s=yi(),l=Zr(i)?vi().append(s):s;s.setFormat(n),s.setStyle(r),null===o?i.append(l):o.insertBefore(l),e.is(t)&&t.set(s.__key,0,"text"),e.set(s.__key,0,"text")}function Xn(e,t,n,r){e.key=t,e.offset=n,e.type=r}class qn{constructor(e){this.dirty=!1,this._nodes=e,this._cachedNodes=null}is(e){if(!nr(e))return!1;const t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every(e=>n.has(e))}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new qn(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e,t){const n=this.getNodes(),r=n.length,i=n[r-1];let o;if(Ei(i))o=i.select();else{const e=i.getIndexWithinParent()+1;o=i.getParentOrThrow().select(e,e)}o.insertNodes(e,t);for(let e=0;e<r;e++)n[e].remove();return!0}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=this._nodes,n=[];for(const e of t){const t=Ge(e);null!==t&&n.push(t)}return Or()||(this._cachedNodes=n),n}getTextContent(){const e=this.getNodes();let t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function Zn(e){return e instanceof tr}class Qn{constructor(e,t,n){this.gridKey=e,this.anchor=t,this.focus=n,this.dirty=!1,this._cachedNodes=null,t._selection=this,n._selection=this}is(e){return!!er(e)&&(this.gridKey===e.gridKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus))}set(e,t,n){this.dirty=!0,this.gridKey=e,this.anchor.key=t,this.focus.key=n,this._cachedNodes=null}clone(){return new Qn(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return ir(this)}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e,t){const n=this.focus.getNode();return zt(n.select(0,n.getChildrenSize())).insertNodes(e,t)}getShape(){const e=Ge(this.anchor.key);if(null===e)throw Error("getNodes: expected to find AnchorNode");const t=e.getIndexWithinParent(),n=e.getParentOrThrow().getIndexWithinParent(),r=Ge(this.focus.key);if(null===r)throw Error("getNodes: expected to find FocusNode");const i=r.getIndexWithinParent(),o=r.getParentOrThrow().getIndexWithinParent(),s=Math.min(t,i),l=Math.max(t,i),a=Math.min(n,o),c=Math.max(n,o);return{fromX:Math.min(s,l),fromY:Math.min(a,c),toX:Math.max(s,l),toY:Math.max(a,c)}}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=new Set,{fromX:n,fromY:r,toX:i,toY:o}=this.getShape(),s=Ge(this.gridKey);if(!Ai(s))throw Error("getNodes: expected to find GridNode");t.add(s);const l=s.getChildren();for(let e=r;e<=o;e++){const r=l[e];if(t.add(r),!ki(r))throw Error("getNodes: expected to find GridRowNode");const o=r.getChildren();for(let e=n;e<=i;e++){const n=o[e];if(!Oi(n))throw Error("getNodes: expected to find GridCellNode");t.add(n);const r=n.getChildren();for(;r.length>0;){const e=r.shift();t.add(e),Jr(e)&&r.unshift(...e.getChildren())}}}const a=Array.from(t);return Or()||(this._cachedNodes=a),a}getTextContent(){const e=this.getNodes();let t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function er(e){return e instanceof Qn}class tr{constructor(e,t,n,r){this.anchor=e,this.focus=t,this.dirty=!1,this.format=n,this.style=r,this._cachedNodes=null,e._selection=this,t._selection=this}is(e){return!!Zn(e)&&(this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style)}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=this.anchor,n=this.focus;let r,i=t.getNode(),o=n.getNode();if(Jr(i)){const e=i.getDescendantByIndex(t.offset);i=null!=e?e:i}if(Jr(o)){let e=o.getDescendantByIndex(n.offset);null!==e&&e!==i&&o.getChildAtIndex(n.offset)===e&&(e=e.getPreviousSibling()),o=null!=e?e:o}return r=i.is(o)?Jr(i)&&i.getChildrenSize()>0?[]:[i]:i.getNodesBetween(o),Or()||(this._cachedNodes=r),r}setTextNodeRange(e,t,n,r){Xn(this.anchor,e.__key,t,"text"),Xn(this.focus,n.__key,r,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){const e=this.getNodes();if(0===e.length)return"";const t=e[0],n=e[e.length-1],r=this.anchor,i=this.focus,o=r.isBefore(i),[s,l]=ir(this);let a="",c=!0;for(let u=0;u<e.length;u++){const d=e[u];if(Jr(d)&&!d.isInline())c||(a+="\n"),c=!d.isEmpty();else if(c=!1,Ei(d)){let e=d.getTextContent();d===t?d===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(e=s<l?e.slice(s,l):e.slice(l,s)):e=o?e.slice(s):e.slice(l):d===n&&(e=o?e.slice(0,l):e.slice(0,s)),a+=e}else!Vr(d)&&!oi(d)||d===n&&this.isCollapsed()||(a+=d.getTextContent())}return a}applyDOMRange(e){const t=kr(),n=t.getEditorState()._selection,r=cr(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n);if(null===r)return;const[i,o]=r;Xn(this.anchor,i.key,i.offset,i.type),Xn(this.focus,o.key,o.offset,o.type),this._cachedNodes=null}clone(){const e=this.anchor,t=this.focus;return new tr(Gn(e.key,e.offset,e.type),Gn(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=Be(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=me[e];return 0!==(this.format&t)}insertRawText(e){const t=e.split(/\r?\n/);if(1===t.length)this.insertText(e);else{const e=[],n=t.length;for(let r=0;r<n;r++){const i=t[r];""!==i&&e.push(yi(i)),r!==n-1&&e.push(ii())}this.insertNodes(e)}}insertText(e){const t=this.anchor,n=this.focus,r=this.isCollapsed()||t.isBefore(n),i=this.format,o=this.style;r&&"element"===t.type?Jn(t,n,i,o):r||"element"!==n.type||Jn(n,t,i,o);const s=this.getNodes(),l=s.length,a=r?n:t,c=(r?t:n).offset,u=a.offset;let d=s[0];if(!Ei(d))throw Error("insertText: first node is not a text node");const g=d.getTextContent().length,f=d.getParentOrThrow();let h=s[l-1];if(this.isCollapsed()&&c===g&&(d.isSegmented()||d.isToken()||!d.canInsertTextAfter()||!f.canInsertTextAfter()&&null===d.getNextSibling())){let t=d.getNextSibling();if(Ei(t)&&!Pe(t)||(t=yi(),t.setFormat(i),f.canInsertTextAfter()?d.insertAfter(t):f.insertAfter(t)),t.select(0,0),d=t,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===c&&(d.isSegmented()||d.isToken()||!d.canInsertTextBefore()||!f.canInsertTextBefore()&&null===d.getPreviousSibling())){let t=d.getPreviousSibling();if(Ei(t)&&!Pe(t)||(t=yi(),t.setFormat(i),f.canInsertTextBefore()?d.insertBefore(t):f.insertBefore(t)),t.select(),d=t,""!==e)return void this.insertText(e)}else if(d.isSegmented()&&c!==g){const e=yi(d.getTextContent());e.setFormat(i),d.replace(e),d=e}else if(!this.isCollapsed()&&""!==e){const t=h.getParent();if(!f.canInsertTextBefore()||!f.canInsertTextAfter()||Jr(t)&&(!t.canInsertTextBefore()||!t.canInsertTextAfter()))return this.insertText(""),ar(this.anchor,this.focus,null),void this.insertText(e)}if(1===l){if(d.isToken()){const t=yi(e);return t.select(),void d.replace(t)}const t=d.getFormat(),n=d.getStyle();if(c===u&&(t!==i||n!==o)){if(""!==d.getTextContent()){const t=yi(e);if(t.setFormat(i),t.setStyle(o),t.select(),0===c)d.insertBefore(t,!1);else{const[e]=d.splitText(c);e.insertAfter(t,!1)}return void(t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length))}d.setFormat(i),d.setStyle(o)}const r=u-c;d=d.spliceText(c,r,e,!0),""===d.getTextContent()?d.remove():"text"===this.anchor.type&&(d.isComposing()?this.anchor.offset-=e.length:(this.format=t,this.style=n))}else{const t=new Set([...d.getParentKeys(),...h.getParentKeys()]),n=Jr(d)?d:d.getParentOrThrow();let r=Jr(h)?h:h.getParentOrThrow(),i=h;if(!n.is(r)&&r.isInline())do{i=r,r=r.getParentOrThrow()}while(r.isInline());if("text"===a.type&&(0!==u||""===h.getTextContent())||"element"===a.type&&h.getIndexWithinParent()<u)if(Ei(h)&&!h.isToken()&&u!==h.getTextContentSize()){if(h.isSegmented()){const e=yi(h.getTextContent());h.replace(e),h=e}h=h.spliceText(0,u,""),t.add(h.__key)}else{const e=h.getParentOrThrow();e.canBeEmpty()||1!==e.getChildrenSize()?h.remove():e.remove()}else t.add(h.__key);const o=r.getChildren(),f=new Set(s),p=n.is(r),m=n.isInline()&&null===d.getNextSibling()?n:d;for(let e=o.length-1;e>=0;e--){const t=o[e];if(t.is(d)||Jr(t)&&t.isParentOf(d))break;t.isAttached()&&(!f.has(t)||t.is(i)?p||m.insertAfter(t,!1):t.remove())}if(!p){let e=r,n=null;for(;null!==e;){const r=e.getChildren(),i=r.length;(0===i||r[i-1].is(n))&&(t.delete(e.__key),n=e),e=e.getParent()}}if(d.isToken())if(c===g)d.select();else{const t=yi(e);t.select(),d.replace(t)}else d=d.spliceText(c,g-c,e,!0),""===d.getTextContent()?d.remove():d.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(let e=1;e<l;e++){const n=s[e],r=n.__key;t.has(r)||n.remove()}}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())return this.toggleFormat(e),void Ue(null);const t=this.getNodes(),n=[];for(const e of t)Ei(e)&&n.push(e);const r=n.length;if(0===r)return this.toggleFormat(e),void Ue(null);const i=this.anchor,o=this.focus,s=this.isBackward(),l=s?o:i,a=s?i:o;let c=0,u=n[0],d="element"===l.type?0:l.offset;if("text"===l.type&&d===u.getTextContentSize()&&(c=1,u=n[1],d=0),null==u)return;const g=u.getFormatFlags(e,null),f=r-1;let h=n[f];const p="text"===a.type?a.offset:h.getTextContentSize();if(u.is(h)){if(d===p)return;if(0===d&&p===u.getTextContentSize())u.setFormat(g);else{const e=u.splitText(d,p),t=0===d?e[0]:e[1];t.setFormat(g),"text"===l.type&&l.set(t.__key,0,"text"),"text"===a.type&&a.set(t.__key,p-d,"text")}return void(this.format=g)}0!==d&&([,u]=u.splitText(d),d=0),u.setFormat(g);const m=h.getFormatFlags(e,g);p>0&&(p!==h.getTextContentSize()&&([h]=h.splitText(p)),h.setFormat(m));for(let t=c+1;t<f;t++){const r=n[t];if(!r.isToken()){const t=r.getFormatFlags(e,m);r.setFormat(t)}}"text"===l.type&&l.set(u.__key,d,"text"),"text"===a.type&&a.set(h.__key,p,"text"),this.format=g|m}insertNodes(e,t){if(!this.isCollapsed()){const e=this.isBackward()?this.anchor:this.focus,t=e.getNode().getNextSibling(),n=t?t.getKey():null,r=e.getNode().getPreviousSibling(),i=r?r.getKey():null;if(this.removeText(),this.isCollapsed()&&"element"===this.focus.type){let e;this.focus.key===n&&0===this.focus.offset?(e=yi(),this.focus.getNode().insertBefore(e)):this.focus.key===i&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(e=yi(),this.focus.getNode().insertAfter(e)),e&&(this.focus.set(e.__key,0,"text"),this.anchor.set(e.__key,0,"text"))}}const n=this.anchor,r=n.offset,i=n.getNode();let o=i;if("element"===n.type){const e=n.getNode(),t=e.getChildAtIndex(r-1);o=null===t?e:t}const s=[],l=i.getNextSiblings(),a=Ot(i)?null:i.getTopLevelElementOrThrow();if(Ei(i)){const e=i.getTextContent().length;if(0===r&&0!==e){const e=i.getPreviousSibling();o=null!==e?e:i.getParentOrThrow(),s.push(i)}else if(r===e)o=i;else{if(i.isToken())return!1;{let e;[o,e]=i.splitText(r),s.push(e)}}}const c=o;s.push(...l);const u=e[0];let d=!1,g=null;for(let t=0;t<e.length;t++){const n=e[t];if(Ot(o)||Vr(o)||!Jr(n)||n.isInline()){if(d&&!Vr(n)&&Ot(o.getParent()))throw Error("insertNodes: cannot insert a non-element into a root node")}else{if(n.is(u)){if(Jr(o)&&o.isEmpty()&&o.canReplaceWith(n)){o.replace(n),o=n,d=!0;continue}const e=n.getFirstDescendant();if(ze(e)){let t=e.getParentOrThrow();for(;t.isInline();)t=t.getParentOrThrow();const r=t.getChildren(),i=r.length;if(Jr(o)){let e=o.getFirstChild();for(let t=0;t<i;t++){const n=r[t];null===e?o.append(n):e.insertAfter(n),e=n}}else{for(let e=i-1;e>=0;e--)o.insertAfter(r[e]);o=o.getParentOrThrow()}if(g=r[i-1],t.remove(),d=!0,t.is(n))continue}}if(Ei(o)){if(null===a)throw Error("insertNode: topLevelElement is root node");o=a}}if(d=!1,Jr(o)&&!o.isInline())if(g=n,Vr(n)&&!n.isInline())o=o.insertAfter(n,!1);else if(Jr(n)){if(!n.canBeEmpty()&&n.isEmpty())continue;if(Zr(o)){const e=o.getChildAtIndex(r);null!==e?e.insertBefore(n):o.append(n),o=n}else o=o.insertAfter(n,!1)}else{const e=o.getFirstChild();null!==e?e.insertBefore(n):o.append(n),o=n}else{if(!(!Jr(n)||Jr(n)&&n.isInline()||Vr(o)&&!o.isInline())){const e=o.getParentOrThrow();oi(o)&&o.remove(),o=e,t--;continue}if(g=n,Zn(this)&&Vr(n)&&(Jr(o)||Ei(o))&&!n.isInline()){let e,t;if(Ei(o)){e=o.getParentOrThrow();const[n]=o.splitText(r);t=n.getIndexWithinParent()+1}else e=o,t=r;const[,i]=Lt(e,t);o=i.insertBefore(n)}else o=o.insertAfter(n,!1)}}if(t)if(Ei(c))c.select();else{const e=o.getPreviousSibling();if(Ei(e))e.select();else{const e=o.getIndexWithinParent();o.getParentOrThrow().select(e,e)}}if(Jr(o)){const e=Ei(g)?g:Jr(g)&&g.isInline()?g.getLastDescendant():o.getLastDescendant();if(t||(null===e?o.select():Ei(e)?""===e.getTextContent()?e.selectPrevious():e.select():e.selectNext()),0!==s.length){const e=o;for(let t=s.length-1;t>=0;t--){const n=s[t],r=n.getParentOrThrow();if(!Jr(o)||ur(n)||Vr(n)&&(!n.isInline()||n.isIsolated()))if(Jr(o)||ur(n))if(Jr(n)&&!n.canInsertAfter(o)){const e=r.constructor.clone(r);if(!Jr(e))throw Error("insertNodes: cloned parent clone is not an element");e.append(n),o.insertAfter(e)}else o.insertAfter(n);else o.insertBefore(n),o=n;else e===o?o.append(n):o.insertBefore(n),o=n;r.isEmpty()&&!r.canBeEmpty()&&r.remove()}}}else if(!t)if(Ei(o))o.select();else{const e=o.getParentOrThrow(),t=o.getIndexWithinParent()+1;e.select(t,t)}return!0}insertParagraph(){this.isCollapsed()||this.removeText();const e=this.anchor,t=e.offset;let n,r=[],i=[];if("text"===e.type){const o=e.getNode();r=o.getNextSiblings().reverse(),n=o.getParentOrThrow();const s=n.isInline(),l=s?n.getTextContentSize():o.getTextContentSize();if(0===t)r.push(o);else if(s&&(i=n.getNextSiblings()),t!==l&&(!s||t!==o.getTextContentSize())){const[,e]=o.splitText(t);r.push(e)}}else{if(n=e.getNode(),Ot(n)){const e=vi(),r=n.getChildAtIndex(t);return e.select(),void(null!==r?r.insertBefore(e,!1):n.append(e))}r=n.getChildren().slice(t).reverse()}const o=r.length;if(0===t&&o>0&&n.isInline()){const e=n.getParentOrThrow(),t=e.insertNewAfter(this,!1);if(Jr(t)){const n=e.getChildren();for(let e=0;e<n.length;e++)t.append(n[e])}return}const s=n.insertNewAfter(this,!1);if(null===s)this.insertLineBreak();else if(Jr(s)){const l=n.getFirstChild();if(0===t&&(n.is(e.getNode())||l&&l.is(e.getNode()))&&o>0)return void n.insertBefore(s);let a=null;const c=i.length,u=s.getParentOrThrow();if(c>0)for(let e=0;e<c;e++){const t=i[e];u.append(t)}if(0!==o)for(let e=0;e<o;e++){const t=r[e];null===a?s.append(t):a.insertBefore(t),a=t}s.canBeEmpty()||0!==s.getChildrenSize()?s.selectStart():(s.selectPrevious(),s.remove())}}insertLineBreak(e){const t=ii(),n=this.anchor;if("element"===n.type){Zr(n.getNode())&&this.insertParagraph()}e?this.insertNodes([t],!0):this.insertNodes([t])&&t.selectNext(0,0)}getCharacterOffsets(){return ir(this)}extract(){const e=this.getNodes(),t=e.length,n=t-1,r=this.anchor,i=this.focus;let o=e[0],s=e[n];const[l,a]=ir(this);if(0===t)return[];if(1===t){if(Ei(o)&&!this.isCollapsed()){const e=l>a?a:l,t=l>a?l:a,n=o.splitText(e,t),r=0===e?n[0]:n[1];return null!=r?[r]:[]}return[o]}const c=r.isBefore(i);if(Ei(o)){const t=c?l:a;t===o.getTextContentSize()?e.shift():0!==t&&([,o]=o.splitText(t),e[0]=o)}if(Ei(s)){const t=s.getTextContent().length,r=c?a:l;0===r?e.pop():r!==t&&([s]=s.splitText(r),e[n]=s)}return e}modify(e,t,n){const r=this.focus,i=this.anchor,o="move"===e,s=Nt(r,t);if(Vr(s)&&!s.isIsolated()){if(o&&s.isKeyboardSelectable()){const e=gr();return e.add(s.__key),void Qe(e)}const e=t?s.getPreviousSibling():s.getNextSibling();if(Ei(e)){const n=e.__key,s=t?e.getTextContent().length:0;return r.set(n,s,"text"),void(o&&i.set(n,s,"text"))}{const n=s.getParentOrThrow();let l,a;return Jr(e)?(a=e.__key,l=t?e.getChildrenSize():0):(l=s.getIndexWithinParent(),a=n.__key,t||l++),r.set(a,l,"element"),void(o&&i.set(a,l,"element"))}}const l=kr(),a=$t(l._window);if(!a)return;const c=l._blockCursorElement,u=l._rootElement;if(null===u||null===c||!Jr(s)||s.isInline()||s.canBeEmpty()||Rt(c,l,u),function(e,t,n,r){e.modify(t,n,r)}(a,e,t?"backward":"forward",n),a.rangeCount>0){const e=a.getRangeAt(0),n=this.anchor.getNode(),r=Zr(n)?n:bt(n);if(this.applyDOMRange(e),this.dirty=!0,!o){const n=this.getNodes(),i=[];let o=!1;for(let e=0;e<n.length;e++){const t=n[e];Tt(t,r)?i.push(t):o=!0}if(o&&i.length>0)if(t){const e=i[0];Jr(e)?e.selectStart():e.getParentOrThrow().selectStart()}else{const e=i[i.length-1];Jr(e)?e.selectEnd():e.getParentOrThrow().selectEnd()}a.anchorNode===e.startContainer&&a.anchorOffset===e.startOffset||function(e){const t=e.focus,n=e.anchor,r=n.key,i=n.offset,o=n.type;Xn(n,t.key,t.offset,t.type),Xn(t,r,i,o),e._cachedNodes=null}(this)}}}deleteCharacter(e){if(this.isCollapsed()){const t=this.anchor,n=this.focus;let r=t.getNode();if(!e&&("element"===t.type&&Jr(r)&&t.offset===r.getChildrenSize()||"text"===t.type&&t.offset===r.getTextContentSize())){const e=r.getParent(),t=r.getNextSibling()||(null===e?null:e.getNextSibling());if(Jr(t)&&!t.canExtractContents())return}const i=Nt(n,e);if(Vr(i)&&!i.isIsolated()){if(i.isKeyboardSelectable()&&Jr(r)&&0===r.getChildrenSize()){r.remove();const e=gr();e.add(i.__key),Qe(e)}else i.remove();return}if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===t.offset){if(("element"===t.type?t.getNode():t.getNode().getParentOrThrow()).collapseAtStart(this))return}}else{const i="text"===n.type?n.getNode():null;if(r="text"===t.type?t.getNode():null,null!==i&&i.isSegmented()){const t=n.offset,o=i.getTextContentSize();if(i.is(r)||e&&t!==o||!e&&0!==t)return void or(i,e,t)}else if(null!==r&&r.isSegmented()){const n=t.offset,o=r.getTextContentSize();if(r.is(i)||e&&0!==n||!e&&n!==o)return void or(r,e,n)}!function(e,t){const n=e.anchor,r=e.focus,i=n.getNode(),o=r.getNode();if(i===o&&"text"===n.type&&"text"===r.type){const e=n.offset,o=r.offset,s=e<o,l=s?e:o,a=s?o:e,c=a-1;if(l!==c){nt(i.getTextContent().slice(l,a))||(t?r.offset=c:n.offset=c)}}}(this,e)}}const t=this.isCollapsed();if(this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){const e=this.anchor.getNode();e.isEmpty()&&Zr(e.getParent())&&0===e.getIndexWithinParent()&&e.collapseAtStart(this)}}deleteLine(e){if(this.isCollapsed()){"text"===this.anchor.type&&this.modify("extend",e,"lineboundary");0===(e?this.focus:this.anchor).offset&&this.modify("extend",e,"character")}this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function nr(e){return e instanceof qn}function rr(e){const t=e.offset;if("text"===e.type)return t;const n=e.getNode();return t===n.getChildrenSize()?n.getTextContent().length:0}function ir(e){const t=e.anchor,n=e.focus;return"element"===t.type&&"element"===n.type&&t.key===n.key&&t.offset===n.offset?[0,0]:[rr(t),rr(n)]}function or(e,t,n){const r=e,i=r.getTextContent().split(/(?=\s)/g),o=i.length;let s=0,l=0;for(let e=0;e<o;e++){const r=e===o-1;if(l=s,s+=i[e].length,t&&s===n||s>n||r){i.splice(e,1),r&&(l=void 0);break}}const a=i.join("").trim();""===a?r.remove():(r.setTextContent(a),r.select(l,l))}function sr(e,t,n,r){let i,o=t;if(1===e.nodeType){let s=!1;const l=e.childNodes,a=l.length;o===a&&(s=!0,o=a-1);let c=l[o],u=!1;if(c===r._blockCursorElement?(c=l[o+1],u=!0):null!==r._blockCursorElement&&o--,i=et(c),Ei(i))o=tt(i,s);else{let r=et(e);if(null===r)return null;if(Jr(r)){let e=r.getChildAtIndex(o);if(Jr(e)&&function(e,t,n){const r=e.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode()}(e,0,n)){const t=s?e.getLastDescendant():e.getFirstDescendant();null===t?(r=e,o=0):(e=t,r=Jr(e)?e:e.getParentOrThrow())}Ei(e)?(i=e,r=null,o=tt(e,s)):e!==r&&s&&!u&&o++}else{const n=r.getIndexWithinParent();o=0===t&&Vr(r)&&et(e)===r?n:n+1,r=r.getParentOrThrow()}if(Jr(r))return Gn(r.__key,o,"element")}}else i=et(e);return Ei(i)?Gn(i.__key,o,"text"):null}function lr(e,t,n){const r=e.offset,i=e.getNode();if(0===r){const r=i.getPreviousSibling(),o=i.getParent();if(t){if((n||!t)&&null===r&&Jr(o)&&o.isInline()){const t=o.getPreviousSibling();Ei(t)&&(e.key=t.__key,e.offset=t.getTextContent().length)}}else Jr(r)&&!n&&r.isInline()?(e.key=r.__key,e.offset=r.getChildrenSize(),e.type="element"):Ei(r)&&(e.key=r.__key,e.offset=r.getTextContent().length)}else if(r===i.getTextContent().length){const r=i.getNextSibling(),o=i.getParent();if(t&&Jr(r)&&r.isInline())e.key=r.__key,e.offset=0,e.type="element";else if((n||t)&&null===r&&Jr(o)&&o.isInline()&&!o.canInsertTextAfter()){const t=o.getNextSibling();Ei(t)&&(e.key=t.__key,e.offset=0)}}}function ar(e,t,n){if("text"===e.type&&"text"===t.type){const r=e.isBefore(t),i=e.is(t);lr(e,r,i),lr(t,!r,i),i&&(t.key=e.key,t.offset=e.offset,t.type=e.type);const o=kr();if(o.isComposing()&&o._compositionKey!==e.key&&Zn(n)){const r=n.anchor,i=n.focus;Xn(e,r.key,r.offset,r.type),Xn(t,i.key,i.offset,i.type)}}}function cr(e,t,n,r,i,o){if(null===e||null===n||!$e(i,e,n))return null;const s=sr(e,t,Zn(o)?o.anchor:null,i);if(null===s)return null;const l=sr(n,r,Zn(o)?o.focus:null,i);if(null===l)return null;if("element"===s.type&&"element"===l.type){const t=et(e),r=et(n);if(Vr(t)&&Vr(r))return null}return ar(s,l,o),[s,l]}function ur(e){return Jr(e)&&!e.isInline()}function dr(e,t,n,r,i,o){const s=Dr(),l=new tr(Gn(e,t,i),Gn(n,r,o),0,"");return l.dirty=!0,s._selection=l,l}function gr(){return new qn(new Set)}function fr(e,t,n){const r=n._window;if(null===r)return null;const i=r.event,o=i?i.type:void 0,s="selectionchange"===o,l=!xe&&(s||"beforeinput"===o||"compositionstart"===o||"compositionend"===o||"click"===o&&i&&3===i.detail||"drop"===o||void 0===o);let a,c,u,d;if(Zn(e)&&!l)return e.clone();if(null===t)return null;if(a=t.anchorNode,c=t.focusNode,u=t.anchorOffset,d=t.focusOffset,s&&Zn(e)&&!$e(n,a,c))return e.clone();const g=cr(a,u,c,d,n,e);if(null===g)return null;const[f,h]=g;return new tr(f,h,Zn(e)?e.format:0,Zn(e)?e.style:"")}function hr(){return Dr()._selection}function pr(){return kr()._editorState._selection}function mr(e,t,n,r=1){const i=e.anchor,o=e.focus,s=i.getNode(),l=o.getNode();if(!t.is(s)&&!t.is(l))return;const a=t.__key;if(e.isCollapsed()){const t=i.offset;if(n<=t){const n=Math.max(0,t+r);i.set(a,n,"element"),o.set(a,n,"element"),_r(e)}return}const c=e.isBackward(),u=c?o:i,d=u.getNode(),g=c?i:o,f=g.getNode();if(t.is(d)){const e=u.offset;n<=e&&u.set(a,Math.max(0,e+r),"element")}if(t.is(f)){const e=g.offset;n<=e&&g.set(a,Math.max(0,e+r),"element")}_r(e)}function _r(e){const t=e.anchor,n=t.offset,r=e.focus,i=r.offset,o=t.getNode(),s=r.getNode();if(e.isCollapsed()){if(!Jr(o))return;const e=o.getChildrenSize(),i=n>=e,s=i?o.getChildAtIndex(e-1):o.getChildAtIndex(n);if(Ei(s)){let e=0;i&&(e=s.getTextContentSize()),t.set(s.__key,e,"text"),r.set(s.__key,e,"text")}return}if(Jr(o)){const e=o.getChildrenSize(),r=n>=e,i=r?o.getChildAtIndex(e-1):o.getChildAtIndex(n);if(Ei(i)){let e=0;r&&(e=i.getTextContentSize()),t.set(i.__key,e,"text")}}if(Jr(s)){const e=s.getChildrenSize(),t=i>=e,n=t?s.getChildAtIndex(e-1):s.getChildAtIndex(i);if(Ei(n)){let e=0;t&&(e=n.getTextContentSize()),r.set(n.__key,e,"text")}}}function Nr(e,t,n,r,i){let o=null,s=0,l=null;null!==r?(o=r.__key,Ei(r)?(s=r.getTextContentSize(),l="text"):Jr(r)&&(s=r.getChildrenSize(),l="element")):null!==i&&(o=i.__key,Ei(i)?l="text":Jr(i)&&(l="element")),null!==o&&null!==l?e.set(o,s,l):(s=t.getIndexWithinParent(),-1===s&&(s=n.getChildrenSize()),e.set(n.__key,s,"element"))}function yr(e,t,n,r,i){"text"===e.type?(e.key=n,t||(e.offset+=i)):e.offset>r.getIndexWithinParent()&&(e.offset-=1)}function Er(e,t,n,r,i,o,s){const l=r.anchorNode,a=r.focusNode,c=r.anchorOffset,u=r.focusOffset,d=document.activeElement;if(i.has("collaboration")&&d!==o||null!==d&&Me(d))return;if(!Zn(t))return void(null!==e&&$e(n,l,a)&&r.removeAllRanges());const g=t.anchor,f=t.focus,h=g.key,p=f.key,m=xt(n,h),_=xt(n,p),N=g.offset,y=f.offset,E=t.format,C=t.style,x=t.isCollapsed();let v=m,T=_,S=!1;if("text"===g.type){v=Fe(m);const e=g.getNode();S=e.getFormat()!==E||e.getStyle()!==C}else Zn(e)&&"text"===e.anchor.type&&(S=!0);var b,O,w,A,D;if(("text"===f.type&&(T=Fe(_)),null!==v&&null!==T)&&(x&&(null===e||S||Zn(e)&&(e.format!==E||e.style!==C))&&(b=E,O=C,w=N,A=h,D=performance.now(),$n=[b,O,w,A,D]),c!==N||u!==y||l!==v||a!==T||"Range"===r.type&&x||(null!==d&&o.contains(d)||o.focus({preventScroll:!0}),"element"===g.type))){try{Z&&s>1e3?window.requestAnimationFrame(()=>r.setBaseAndExtent(v,N,T,y)):r.setBaseAndExtent(v,N,T,y)}catch(e){}if(!i.has("skip-scroll-into-view")&&t.isCollapsed()&&null!==o&&o===document.activeElement){const e=t instanceof tr&&"element"===t.anchor.type?v.childNodes[N]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==e){!function(e,t,n){const r=n.ownerDocument,i=r.defaultView;if(null===i)return;let{top:o,bottom:s}=t,l=0,a=0,c=n;for(;null!==c;){const t=c===r.body;if(t)l=0,a=St(e).innerHeight;else{const e=c.getBoundingClientRect();l=e.top,a=e.bottom}let n=0;if(o<l?n=-(l-o):s>a&&(n=s-a),0!==n)if(t)i.scrollBy(0,n);else{const e=c.scrollTop;c.scrollTop+=n;const t=c.scrollTop-e;o-=t,s-=t}if(t)break;c=vt(c)}}(n,e.getBoundingClientRect(),o)}}Dn=!0}}let Cr=null,xr=null,vr=!1,Tr=!1,Sr=0;const br={characterData:!0,childList:!0,subtree:!0};function Or(){return vr||null!==Cr&&Cr._readOnly}function wr(){if(vr)throw Error("Cannot use method in read-only mode.")}function Ar(){if(Sr>99)throw Error("One or more transforms are endlessly triggering additional transforms. May have encountered infinite recursion caused by transforms that have their preconditions too lose and/or conflict with each other.")}function Dr(){if(null===Cr)throw Error("Unable to find an active editor state. State helpers or node methods can only be used synchronously during the callback of editor.update() or editorState.read().");return Cr}function kr(){if(null===xr)throw Error("Unable to find an active editor. This method can only be used synchronously during the callback of editor.update().");return xr}function Rr(){return xr}function Mr(e,t,n){const r=t.__type,i=function(e,t){const n=e._nodes.get(t);if(void 0===n)throw Error(`registeredNode: Type ${t} not found`);return n}(e,r);let o=n.get(r);void 0===o&&(o=Array.from(i.transforms),n.set(r,o));const s=o.length;for(let e=0;e<s&&(o[e](t),t.isAttached());e++);}function $r(e,t){return void 0!==e&&e.__key!==t&&e.isAttached()}function Lr(e,t){const n=e.type,r=t.get(n);if(void 0===r)throw Error(`parseEditorState: type "${n}" + not found`);const i=r.klass;if(e.type!==i.getType())throw Error(`LexicalNode: Node ${i.name} does not implement .importJSON().`);const o=i.importJSON(e),s=e.children;if(Jr(o)&&Array.isArray(s))for(let e=0;e<s.length;e++){const n=Lr(s[e],t);o.append(n)}return o}function Pr(e,t){const n=Cr,r=vr,i=xr;Cr=e,vr=!0,xr=null;try{return t()}finally{Cr=n,vr=r,xr=i}}function Ir(e){const t=e._nodeMap;t.set=()=>{throw new Error("Cannot call set() on a frozen Lexical node map")},t.clear=()=>{throw new Error("Cannot call clear() on a frozen Lexical node map")},t.delete=()=>{throw new Error("Cannot call delete() on a frozen Lexical node map")}}function Fr(e){const n=e._pendingEditorState,r=e._rootElement,i=e._headless||null===r;if(null===n)return;const o=e._editorState,s=o._selection,l=n._selection,a=0!==e._dirtyType,c=Cr,u=vr,d=xr,g=e._updating,f=e._observer;let h=null;if(e._pendingEditorState=null,e._editorState=n,!i&&a&&null!==f){xr=e,Cr=n,vr=!1,e._updating=!0;try{const t=e._dirtyType,r=e._dirtyElements,i=e._dirtyLeaves;f.disconnect(),h=Cn(o,n,e,t,r,i)}catch(t){if(t instanceof Error&&e._onError(t),Tr)throw t;return Ti(e,null,r,n),De(e),e._dirtyType=2,Tr=!0,Fr(e),void(Tr=!1)}finally{f.observe(r,br),e._updating=g,Cr=c,vr=u,xr=d}}n._readOnly||(n._readOnly=!0,Ir(n),Zn(l)&&(Object.freeze(l.anchor),Object.freeze(l.focus)),Object.freeze(l));const p=e._dirtyLeaves,m=e._dirtyElements,_=e._normalizedNodes,N=e._updateTags,y=e._deferred,E=n._nodeMap.size;a&&(e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(e,t){const n=e._decorators;let r=e._pendingDecorators||n;const i=t._nodeMap;let o;for(o in r)i.has(o)||(r===n&&(r=Je(e)),delete r[o])}(e,n);const C=i?null:$t(e._window);if(e._editable&&null!==C&&(a||null===l||l.dirty)){xr=e,Cr=n;try{if(null!==f&&f.disconnect(),a||null===l||l.dirty){const t=e._blockCursorElement;null!==t&&Rt(t,e,r),Er(s,l,e,C,N,r,E)}Mt(e,r,l),null!==f&&f.observe(r,br)}finally{xr=d,Cr=c}}null!==h&&function(e,t,n,r,i,o){const s=Array.from(e._listeners.mutation),l=s.length;for(let e=0;e<l;e++){const[t,n]=s[e],l=r.get(n);void 0!==l&&t(l,{dirtyLeaves:o,updateTags:i})}}(e,0,0,h,N,p),Zn(l)||null===l||null!==s&&s.is(l)||e.dispatchCommand(t,void 0);const x=e._pendingDecorators;null!==x&&(e._decorators=x,e._pendingDecorators=null,Br("decorator",e,!0,x)),function(e,t,n){const r=Xe(t),i=Xe(n);r!==i&&Br("textcontent",e,!0,i)}(e,o,n),Br("update",e,!0,{dirtyElements:m,dirtyLeaves:p,editorState:n,normalizedNodes:_,prevEditorState:o,tags:N}),function(e,t){if(e._deferred=[],0!==t.length){const n=e._updating;e._updating=!0;try{for(let e=0;e<t.length;e++)t[e]()}finally{e._updating=n}}}(e,y),function(e){const t=e._updates;if(0!==t.length){const n=t.shift();if(n){const[t,r]=n;Hr(e,t,r)}}}(e)}function Br(e,t,n,...r){const i=t._updating;t._updating=n;try{const n=Array.from(t._listeners[e]);for(let e=0;e<n.length;e++)n[e].apply(null,r)}finally{t._updating=i}}function zr(e,t,n){if(!1===e._updating||xr!==e){let r=!1;return e.update(()=>{r=zr(e,t,n)}),r}const r=rt(e);for(let i=4;i>=0;i--)for(let o=0;o<r.length;o++){const s=r[o]._commands.get(t);if(void 0!==s){const t=s[i];if(void 0!==t){const r=Array.from(t),i=r.length;for(let t=0;t<i;t++)if(!0===r[t](n,e))return!0}}}return!1}function Kr(e,t){const n=e._updates;let r=t||!1;for(;0!==n.length;){const t=n.shift();if(t){const[n,i]=t;let o,s;void 0!==i&&(o=i.onUpdate,s=i.tag,i.skipTransforms&&(r=!0),o&&e._deferred.push(o),s&&e._updateTags.add(s)),n()}}return r}function Hr(e,t,n){const r=e._updateTags;let i,o,s=!1,l=!1;void 0!==n&&(i=n.onUpdate,o=n.tag,null!=o&&r.add(o),s=n.skipTransforms||!1,l=n.discrete||!1),i&&e._deferred.push(i);const a=e._editorState;let c=e._pendingEditorState,u=!1;(null===c||c._readOnly)&&(c=e._pendingEditorState=new ti(new Map((c||a)._nodeMap)),u=!0),c._flushSync=l;const d=Cr,g=vr,f=xr,h=e._updating;Cr=c,vr=!1,e._updating=!0,xr=e;try{u&&(e._headless?null!=a._selection&&(c._selection=a._selection.clone()):c._selection=function(e){const t=e.getEditorState()._selection,n=$t(e._window);return nr(t)||er(t)?t.clone():fr(t,n,e)}(e));const n=e._compositionKey;t(),s=Kr(e,s),function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(Zn(r)){const e=r.anchor,t=r.focus;let i;if("text"===e.type&&(i=e.getNode(),i.selectionTransform(n,r)),"text"===t.type){const e=t.getNode();i!==e&&e.selectionTransform(n,r)}}}(c,e),0!==e._dirtyType&&(s?function(e,t){const n=t._dirtyLeaves,r=e._nodeMap;for(const e of n){const t=r.get(e);Ei(t)&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&Bt(t)}}(c,e):function(e,t){const n=t._dirtyLeaves,r=t._dirtyElements,i=e._nodeMap,o=Ye(),s=new Map;let l=n,a=l.size,c=r,u=c.size;for(;a>0||u>0;){if(a>0){t._dirtyLeaves=new Set;for(const e of l){const r=i.get(e);Ei(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&Bt(r),void 0!==r&&$r(r,o)&&Mr(t,r,s),n.add(e)}if(l=t._dirtyLeaves,a=l.size,a>0){Sr++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map;for(const e of c){const n=e[0],l=e[1];if("root"!==n&&!l)continue;const a=i.get(n);void 0!==a&&$r(a,o)&&Mr(t,a,s),r.set(n,l)}l=t._dirtyLeaves,a=l.size,c=t._dirtyElements,u=c.size,Sr++}t._dirtyLeaves=n,t._dirtyElements=r}(c,e),Kr(e),function(e,t,n,r){const i=e._nodeMap,o=t._nodeMap;for(const e of n){const t=o.get(e);void 0===t||t.isAttached()||(i.has(e)||n.delete(e),o.delete(e))}for(const[e]of r){const t=o.get(e);void 0!==t&&(t.isAttached()||(Jr(t)&&Pt(t,e,i,o,r),i.has(e)||r.delete(e),o.delete(e)))}}(a,c,e._dirtyLeaves,e._dirtyElements));n!==e._compositionKey&&(c._flushSync=!0);const r=c._selection;if(Zn(r)){const e=c._nodeMap,t=r.anchor.key,n=r.focus.key;if(void 0===e.get(t)||void 0===e.get(n))throw Error("updateEditor: selection has been lost because the previously selected nodes have been removed and selection wasn't moved to another node. Ensure selection changes after removing/replacing a selected node.")}else nr(r)&&0===r._nodes.size&&(c._selection=null)}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=a,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void Fr(e)}finally{Cr=d,vr=g,xr=f,e._updating=h,Sr=0}const p=null!==e._window?window.event:null,m=null!=p?p.type:null,_=0!==e._dirtyType||function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(null!==r){if(r.dirty||!r.is(n))return!0}else if(null!==n)return!0;return!1}(c,e)||null!==e._blockCursorElement&&"blur"===m;_?c._flushSync?(c._flushSync=!1,Fr(e)):u&&Re(()=>{Fr(e)}):(c._flushSync=!1,u&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function Wr(e,t,n){e._updating?e._updates.push([t,n]):Hr(e,t,n)}function Ur(e,t,n){wr();const r=e.__key,i=e.getParent();if(null===i)return;const o=function(e,t=0){if(0!==t)throw Error("TODO");const n=hr();if(!Zn(n)||!Jr(e))return n;const{anchor:r,focus:i}=n,o=r.getNode(),s=i.getNode();return Tt(o,e)&&r.set(e.__key,0,"element"),Tt(s,e)&&i.set(e.__key,0,"element"),n}(e);let s=!1;if(Zn(o)&&t){const t=o.anchor,n=o.focus;t.key===r&&(Nr(t,e,i,e.getPreviousSibling(),e.getNextSibling()),s=!0),n.key===r&&(Nr(n,e,i,e.getPreviousSibling(),e.getNextSibling()),s=!0)}if(Zn(o)&&t&&!s){const t=e.getIndexWithinParent();He(e),mr(o,i,t,-1)}else He(e);n||Ot(i)||i.canBeEmpty()||!i.isEmpty()||Ur(i,t),t&&Zr(i)&&i.isEmpty()&&i.selectEnd()}class Yr{static getType(){throw Error(`LexicalNode: Node ${this.name} does not implement .getType().`)}static clone(e){throw Error(`LexicalNode: Node ${this.name} does not implement .clone().`)}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Ke(this,e),"root"!==this.__type&&(wr(),function(e,t){const n=kr()._nodes.get(e);if(void 0===n)throw Error(`Create node: Attempted to create node ${t.name} that was not configured to be used on the editor.`);const r=n.klass;if(r!==t)throw Error(`Create node: Type ${e} in node ${t.name} does not match registered node ${r.name} with the same type`)}(this.__type,this.constructor))}getType(){return this.__type}isAttached(){let e=this.__key;for(;null!==e;){if("root"===e)return!0;const t=Ge(e);if(null===t)break;e=t.__parent}return!1}isSelected(e){const t=e||hr();if(null==t)return!1;const n=t.getNodes().some(e=>e.__key===this.__key);return(Ei(this)||!Zn(t)||"element"!==t.anchor.type||"element"!==t.focus.type||t.anchor.key!==t.focus.key||t.anchor.offset!==t.focus.offset)&&n}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(null===e)return-1;let t=e.getFirstChild(),n=0;for(;null!==t;){if(this.is(t))return n;n++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return null===e?null:Ge(e)}getParentOrThrow(){const e=this.getParent();if(null===e)throw Error(`Expected node ${this.__key} to have a parent.`);return e}getTopLevelElement(){let e=this;for(;null!==e;){const t=e.getParent();if(Ot(t))return e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();if(null===e)throw Error(`Expected node ${this.__key} to have a top parent element.`);return e}getParents(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return null===e?null:Ge(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(null===t)return e;let n=t.getFirstChild();for(;null!==n&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return null===e?null:Ge(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=this.getParents(),n=e.getParents();Jr(this)&&t.unshift(this),Jr(e)&&n.unshift(e);const r=t.length,i=n.length;if(0===r||0===i||t[r-1]!==n[i-1])return null;const o=new Set(n);for(let e=0;e<r;e++){const n=t[e];if(o.has(n))return n}return null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;const t=this.getCommonAncestor(e);let n=0,r=0,i=this;for(;;){const e=i.getParentOrThrow();if(e===t){n=i.getIndexWithinParent();break}i=e}for(i=e;;){const e=i.getParentOrThrow();if(e===t){r=i.getIndexWithinParent();break}i=e}return n<r}isParentOf(e){const t=this.__key;if(t===e.__key)return!1;let n=e;for(;null!==n;){if(n.__key===t)return!0;n=n.getParent()}return!1}getNodesBetween(e){const t=this.isBefore(e),n=[],r=new Set;let i=this;for(;;){const o=i.__key;if(r.has(o)||(r.add(o),n.push(i)),i===e)break;const s=Jr(i)?t?i.getFirstChild():i.getLastChild():null;if(null!==s){i=s;continue}const l=t?i.getNextSibling():i.getPreviousSibling();if(null!==l){i=l;continue}const a=i.getParentOrThrow();if(r.has(a.__key)||n.push(a),a===e)break;let c=null,u=a;do{if(null===u)throw Error("getNodesBetween: ancestor is null");c=t?u.getNextSibling():u.getPreviousSibling(),u=u.getParent(),null!==u&&(null!==c||r.has(u.__key)||n.push(u))}while(null===c);i=c}return t||n.reverse(),n}isDirty(){const e=kr()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){const e=Ge(this.__key);if(null===e)throw Error("Lexical node does not exist in active editor state. Avoid using the same node references between nested closures from editorState.read/editor.update.");return e}getWritable(){wr();const e=Dr(),t=kr(),n=e._nodeMap,r=this.__key,i=this.getLatest(),o=i.__parent,s=t._cloneNotNeeded,l=hr();if(null!==l&&(l._cachedNodes=null),s.has(r))return We(i),i;const a=i.constructor.clone(i);return a.__parent=o,a.__next=i.__next,a.__prev=i.__prev,Jr(i)&&Jr(a)?(a.__first=i.__first,a.__last=i.__last,a.__size=i.__size,a.__indent=i.__indent,a.__format=i.__format,a.__dir=i.__dir):Ei(i)&&Ei(a)&&(a.__format=i.__format,a.__style=i.__style,a.__mode=i.__mode,a.__detail=i.__detail),s.add(r),a.__key=r,We(a),n.set(r,a),a}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){throw Error("createDOM: base method not extended")}updateDOM(e,t,n){throw Error("updateDOM: base method not extended")}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){throw Error("exportJSON: base method not extended")}static importJSON(e){throw Error(`LexicalNode: Node ${this.name} does not implement .importJSON().`)}remove(e){Ur(this,!0,e)}replace(e,t){wr();let n=hr();null!==n&&(n=n.clone()),Dt(this,e);const r=this.getLatest(),i=this.__key,o=e.__key,s=e.getWritable(),l=this.getParentOrThrow().getWritable(),a=l.__size;He(s);const c=r.getPreviousSibling(),u=r.getNextSibling(),d=r.__prev,g=r.__next,f=r.__parent;if(Ur(r,!1,!0),null===c)l.__first=o;else{c.getWritable().__next=o}if(s.__prev=d,null===u)l.__last=o;else{u.getWritable().__prev=o}if(s.__next=g,s.__parent=f,l.__size=a,t&&this.getChildren().forEach(e=>{s.append(e)}),Zn(n)){Qe(n);const e=n.anchor,t=n.focus;e.key===i&&jn(e,s),t.key===i&&jn(t,s)}return Ye()===i&&Ue(o),s}insertAfter(e,t=!0){wr(),Dt(this,e);const n=this.getWritable(),r=e.getWritable(),i=r.getParent(),o=hr();let s=!1,l=!1;if(null!==i){const t=e.getIndexWithinParent();if(He(r),Zn(o)){const e=i.__key,n=o.anchor,r=o.focus;s="element"===n.type&&n.key===e&&n.offset===t+1,l="element"===r.type&&r.key===e&&r.offset===t+1}}const a=this.getNextSibling(),c=this.getParentOrThrow().getWritable(),u=r.__key,d=n.__next;if(null===a)c.__last=u;else{a.getWritable().__prev=u}if(c.__size++,n.__next=u,r.__next=d,r.__prev=n.__key,r.__parent=n.__parent,t&&Zn(o)){const e=this.getIndexWithinParent();mr(o,c,e+1);const t=c.__key;s&&o.anchor.set(t,e+2,"element"),l&&o.focus.set(t,e+2,"element")}return e}insertBefore(e,t=!0){wr(),Dt(this,e);const n=this.getWritable(),r=e.getWritable(),i=r.__key;He(r);const o=this.getPreviousSibling(),s=this.getParentOrThrow().getWritable(),l=n.__prev,a=this.getIndexWithinParent();if(null===o)s.__first=i;else{o.getWritable().__next=i}s.__size++,n.__prev=i,r.__prev=l,r.__next=n.__key,r.__parent=n.__parent;const c=hr();if(t&&Zn(c)){mr(c,this.getParentOrThrow(),a)}return e}isParentRequired(){return!1}createParentElementNode(){return vi()}selectPrevious(e,t){wr();const n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(Jr(n))return n.select();if(!Ei(n)){const e=n.getIndexWithinParent()+1;return r.select(e,e)}return n.select(e,t)}selectNext(e,t){wr();const n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(Jr(n))return n.select(0,0);if(!Ei(n)){const e=n.getIndexWithinParent();return r.select(e,e)}return n.select(e,t)}markDirty(){this.getWritable()}}class Gr extends Yr{constructor(e){super(e)}decorate(e,t){throw Error("decorate: base method not extended")}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Vr(e){return e instanceof Gr}class jr extends Yr{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__indent=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return ye[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){const e=kr()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;null!==t;){if(Ei(t)&&e.push(t),Jr(t)){const n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;null!==e;){if(Jr(e)){const t=e.getFirstChild();if(null!==t){e=t;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;null!==e;){if(Jr(e)){const t=e.getLastChild();if(null!==t){e=t;continue}}break}return e}getDescendantByIndex(e){const t=this.getChildren(),n=t.length;if(e>=n){const e=t[n-1];return Jr(e)&&e.getLastDescendant()||e||null}const r=t[e];return Jr(r)&&r.getFirstDescendant()||r||null}getFirstChild(){const e=this.getLatest().__first;return null===e?null:Ge(e)}getFirstChildOrThrow(){const e=this.getFirstChild();if(null===e)throw Error(`Expected node ${this.__key} to have a first child.`);return e}getLastChild(){const e=this.getLatest().__last;return null===e?null:Ge(e)}getLastChildOrThrow(){const e=this.getLastChild();if(null===e)throw Error(`Expected node ${this.__key} to have a last child.`);return e}getChildAtIndex(e){const t=this.getChildrenSize();let n,r;if(e<t/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=e;){if(r===e)return n;n=n.getNextSibling(),r++}return null}for(n=this.getLastChild(),r=t-1;null!==n&&r>=e;){if(r===e)return n;n=n.getPreviousSibling(),r--}return null}getTextContent(){let e="";const t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=i.getTextContent(),Jr(i)&&r!==n-1&&!i.isInline()&&(e+=ue)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){if(""!==e){const t=Ne[e];return 0!==(this.getFormat()&t)}return!1}select(e,t){wr();const n=hr();let r=e,i=t;const o=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){const e=this.getFirstChild();if(Ei(e)||Jr(e))return e.select(0,0)}else if(!(void 0!==e&&e!==o||void 0!==t&&t!==o)){const e=this.getLastChild();if(Ei(e)||Jr(e))return e.select()}void 0===r&&(r=o),void 0===i&&(i=o);const s=this.__key;return Zn(n)?(n.anchor.set(s,r,"element"),n.focus.set(s,i,"element"),n.dirty=!0,n):dr(s,r,s,i,"element","element")}selectStart(){const e=this.getFirstDescendant();return Jr(e)||Ei(e)?e.select(0,0):null!==e?e.selectPrevious():this.select(0,0)}selectEnd(){const e=this.getLastDescendant();return Jr(e)||Ei(e)?e.select():null!==e?e.selectNext():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach(e=>e.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?Ne[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){const r=n.length,i=this.getChildrenSize(),o=this.getWritable(),s=o.__key,l=[],a=[],c=this.getChildAtIndex(e+t);let u=null,d=i-t+r;if(0!==e)if(e===i)u=this.getLastChild();else{const t=this.getChildAtIndex(e);null!==t&&(u=t.getPreviousSibling())}if(t>0){let e=null===u?this.getFirstChild():u.getNextSibling();for(let n=0;n<t;n++){if(null===e)throw Error("splice: sibling not found");const t=e.getNextSibling(),n=e.__key;He(e.getWritable()),a.push(n),e=t}}let g=u;for(let e=0;e<r;e++){const t=n[e];null!==g&&t.is(g)&&(u=g=g.getPreviousSibling());const r=t.getWritable();r.__parent===s&&d--,He(r);const i=t.__key;if(null===g)o.__first=i,r.__prev=null;else{const e=g.getWritable();e.__next=i,r.__prev=e.__key}if(t.__key===s)throw Error("append: attempting to append self");r.__parent=s,l.push(i),g=t}if(e+t===i){if(null!==g){g.getWritable().__next=null,o.__last=g.__key}}else if(null!==c){const e=c.getWritable();if(null!==g){const t=g.getWritable();e.__prev=g.__key,t.__next=c.__key}else e.__prev=null}if(o.__size=d,a.length){const e=hr();if(Zn(e)){const t=new Set(a),n=new Set(l),{anchor:r,focus:i}=e;Xr(r,t,n)&&Nr(r,r.getNode(),this,u,c),Xr(i,t,n)&&Nr(i,i.getNode(),this,u,c),0!==d||this.canBeEmpty()||Ot(this)||this.remove()}}return o}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(e,t){return null}canInsertTab(){return!1}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canExtractContents(){return!0}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,n){return!1}}function Jr(e){return e instanceof jr}function Xr(e,t,n){let r=e.getNode();for(;r;){const e=r.__key;if(t.has(e)&&!n.has(e))return!0;r=r.getParent()}return!1}class qr extends jr{static getType(){return"root"}static clone(){return new qr}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){throw Error("getTopLevelElementOrThrow: root nodes are not top level elements")}getTextContent(){const e=this.__cachedText;return!Or()&&0!==kr()._dirtyType||null===e?super.getTextContent():e}remove(){throw Error("remove: cannot be called on root nodes")}replace(e){throw Error("replace: cannot be called on root nodes")}insertBefore(e){throw Error("insertBefore: cannot be called on root nodes")}insertAfter(e){throw Error("insertAfter: cannot be called on root nodes")}updateDOM(e,t){return!1}append(...e){for(let t=0;t<e.length;t++){const n=e[t];if(!Jr(n)&&!Vr(n))throw Error("rootNode.append: Only element or decorator nodes can be appended to the root node")}return super.append(...e)}static importJSON(e){const t=qe();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function Zr(e){return e instanceof qr}function Qr(){return new ti(new Map([["root",new qr]]))}function ei(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType())throw Error(`LexicalNode: Node ${n.name} does not implement .exportJSON().`);const r=t.children;if(Jr(e)){if(!Array.isArray(r))throw Error(`LexicalNode: Node ${n.name} is an element but .exportJSON() does not have a children array.`);const t=e.getChildren();for(let e=0;e<t.length;e++){const n=ei(t[e]);r.push(n)}}return t}class ti{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e){return Pr(this,e)}clone(e){const t=new ti(this._nodeMap,void 0===e?this._selection:e);return t._readOnly=!0,t}toJSON(){return Pr(this,()=>({root:ei(qe())}))}}class ni extends Yr{static getType(){return"linebreak"}static clone(e){return new ni(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>{const t=e.parentElement;return null!=t&&t.firstChild===e&&t.lastChild===e?null:{conversion:ri,priority:0}}}}static importJSON(e){return ii()}exportJSON(){return{type:"linebreak",version:1}}}function ri(e){return{node:ii()}}function ii(){return At(new ni)}function oi(e){return e instanceof ni}function si(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function li(e,t){return 1&t?"strong":2&t?"em":"span"}function ai(e,t,n,r,i){const o=r.classList;let s=pt(i,"base");void 0!==s&&o.add(...s),s=pt(i,"underlineStrikethrough");let l=!1;const a=8&t&&4&t;void 0!==s&&(8&n&&4&n?(l=!0,a||o.add(...s)):a&&o.remove(...s));for(const e in me){const r=me[e];if(s=pt(i,e),void 0!==s)if(n&r){if(l&&("underline"===e||"strikethrough"===e)){t&r&&o.remove(...s);continue}(0===(t&r)||a&&"underline"===e||"strikethrough"===e)&&o.add(...s)}else t&r&&o.remove(...s)}}function ci(e,t,n){const r=t.firstChild,i=n.isComposing(),o=e+(i?ce:"");if(null==r)t.textContent=o;else{const e=r.nodeValue;if(e!==o)if(i||j){const[t,n,i]=function(e,t){const n=e.length,r=t.length;let i=0,o=0;for(;i<n&&i<r&&e[i]===t[i];)i++;for(;o+i<n&&o+i<r&&e[n-o-1]===t[r-o-1];)o++;return[i,n-i-o,t.slice(i,r-o)]}(e,o);0!==n&&r.deleteData(t,n),r.insertData(t,i)}else r.nodeValue=o}}function ui(e,t,n,r,i,o){ci(i,e,t);const s=o.theme.text;void 0!==s&&ai(0,0,r,e,s)}function di(e,t){const n=document.createElement(t);return n.appendChild(e),n}class gi extends Yr{static getType(){return"text"}static clone(e){return new gi(e.__text,e.__key)}constructor(e,t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return Ce[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===Ye()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=me[e];return 0!==(this.getFormat()&t)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return Be(this.getLatest().__format,e,t)}createDOM(e){const t=this.__format,n=si(0,t),r=li(0,t),i=null===n?r:n,o=document.createElement(i);let s=o;null!==n&&(s=document.createElement(r),o.appendChild(s));ui(s,this,0,t,this.__text,e);const l=this.__style;return""!==l&&(o.style.cssText=l),o}updateDOM(e,t,n){const r=this.__text,i=e.__format,o=this.__format,s=si(0,i),l=si(0,o),a=li(0,i),c=li(0,o);if((null===s?a:s)!==(null===l?c:l))return!0;if(s===l&&a!==c){const e=t.firstChild;if(null==e)throw Error("updateDOM: prevInnerDOM is null or undefined");const i=document.createElement(c);return ui(i,this,0,o,r,n),t.replaceChild(i,e),!1}let u=t;if(null!==l&&null!==s&&(u=t.firstChild,null==u))throw Error("updateDOM: innerDOM is null or undefined");ci(r,u,this);const d=n.theme.text;void 0!==d&&i!==o&&ai(0,i,o,u,d);const g=e.__style,f=this.__style;return g!==f&&(t.style.cssText=f),!1}static importDOM(){return{"#text":()=>({conversion:mi,priority:0}),b:()=>({conversion:pi,priority:0}),br:()=>({conversion:hi,priority:0}),code:()=>({conversion:Ni,priority:0}),em:()=>({conversion:Ni,priority:0}),i:()=>({conversion:Ni,priority:0}),s:()=>({conversion:Ni,priority:0}),span:()=>({conversion:fi,priority:0}),strong:()=>({conversion:Ni,priority:0}),sub:()=>({conversion:Ni,priority:0}),sup:()=>({conversion:Ni,priority:0}),u:()=>({conversion:Ni,priority:0})}}static importJSON(e){const t=yi(e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportDOM(e){let{element:t}=super.exportDOM(e);return null!==t&&(this.hasFormat("bold")&&(t=di(t,"b")),this.hasFormat("italic")&&(t=di(t,"i")),this.hasFormat("strikethrough")&&(t=di(t,"s")),this.hasFormat("underline")&&(t=di(t,"u"))),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format="string"==typeof e?me[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail="string"==typeof e?_e[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=me[e];return this.setFormat(this.getFormat()^t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=Ee[e];if(this.__mode===t)return this;const n=this.getWritable();return n.__mode=t,n}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){wr();let n=e,r=t;const i=hr(),o=this.getTextContent(),s=this.__key;if("string"==typeof o){const e=o.length;void 0===n&&(n=e),void 0===r&&(r=e)}else n=0,r=0;if(!Zn(i))return dr(s,n,s,r,"text","text");{const e=Ye();e!==i.anchor.key&&e!==i.focus.key||Ue(s),i.setTextNodeRange(this,n,this,r)}return i}spliceText(e,t,n,r){const i=this.getWritable(),o=i.__text,s=n.length;let l=e;l<0&&(l=s+l,l<0&&(l=0));const a=hr();if(r&&Zn(a)){const t=e+s;a.setTextNodeRange(i,t,i,t)}const c=o.slice(0,l)+n+o.slice(l+t);return i.__text=c,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}canContainTabs(){return!1}splitText(...e){wr();const t=this.getLatest(),n=t.getTextContent(),r=t.__key,i=Ye(),o=new Set(e),s=[],l=n.length;let a="";for(let e=0;e<l;e++)""!==a&&o.has(e)&&(s.push(a),a=""),a+=n[e];""!==a&&s.push(a);const c=s.length;if(0===c)return[];if(s[0]===n)return[t];const u=s[0],d=t.getParentOrThrow();let g;const f=t.getFormat(),h=t.getStyle(),p=t.__detail;let m=!1;t.isSegmented()?(g=yi(u),g.__format=f,g.__style=h,g.__detail=p,m=!0):(g=t.getWritable(),g.__text=u);const _=hr(),N=[g];let y=u.length;for(let e=1;e<c;e++){const t=s[e],n=t.length,o=yi(t).getWritable();o.__format=f,o.__style=h,o.__detail=p;const l=o.__key,a=y+n;if(Zn(_)){const e=_.anchor,t=_.focus;e.key===r&&"text"===e.type&&e.offset>y&&e.offset<=a&&(e.key=l,e.offset-=y,_.dirty=!0),t.key===r&&"text"===t.type&&t.offset>y&&t.offset<=a&&(t.key=l,t.offset-=y,_.dirty=!0)}i===r&&Ue(l),y=a,N.push(o)}!function(e){const t=e.getPreviousSibling(),n=e.getNextSibling();null!==t&&We(t),null!==n&&We(n)}(this);const E=d.getWritable(),C=this.getIndexWithinParent();return m?(E.splice(C,0,N),this.remove()):E.splice(C,1,N),Zn(_)&&mr(_,d,C,c-1),N}mergeWithSibling(e){const t=e===this.getPreviousSibling();if(!t&&e!==this.getNextSibling())throw Error("mergeWithSibling: sibling must be a previous or next sibling");const n=this.__key,r=e.__key,i=this.__text,o=i.length;Ye()===r&&Ue(n);const s=hr();if(Zn(s)){const i=s.anchor,l=s.focus;null!==i&&i.key===r&&(yr(i,t,n,e,o),s.dirty=!0),null!==l&&l.key===r&&(yr(l,t,n,e,o),s.dirty=!0)}const l=e.__text,a=t?l+i:i+l;this.setTextContent(a);const c=this.getWritable();return e.remove(),c}isTextEntity(){return!1}}function fi(e){const t=e,n="700"===t.style.fontWeight,r="line-through"===t.style.textDecoration,i="italic"===t.style.fontStyle,o="underline"===t.style.textDecoration,s=t.style.verticalAlign;return{forChild:e=>Ei(e)?(n&&e.toggleFormat("bold"),r&&e.toggleFormat("strikethrough"),i&&e.toggleFormat("italic"),o&&e.toggleFormat("underline"),"sub"===s&&e.toggleFormat("subscript"),"super"===s&&e.toggleFormat("superscript"),e):e,node:null}}function hi(){return{node:ii()}}function pi(e){const t="normal"===e.style.fontWeight;return{forChild:e=>(Ei(e)&&!t&&e.toggleFormat("bold"),e),node:null}}function mi(e,t,n){let r=e.textContent||"";return!n&&/\n/.test(r)&&(r=r.replace(/\r?\n/gm," "),0===r.trim().length)?{node:null}:{node:yi(r)}}const _i={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Ni(e){const t=_i[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:e=>(Ei(e)&&!e.hasFormat(t)&&e.toggleFormat(t),e),node:null}}function yi(e=""){return At(new gi(e))}function Ei(e){return e instanceof gi}class Ci extends jr{static getType(){return"paragraph"}static clone(e){return new Ci(e.__key)}createDOM(e){const t=document.createElement("p"),n=pt(e.theme,"paragraph");if(void 0!==n){t.classList.add(...n)}return t}updateDOM(e,t,n){return!1}static importDOM(){return{p:e=>({conversion:xi,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(t&&this.isEmpty()&&t.append(document.createElement("br")),t){const e=this.getFormatType();t.style.textAlign=e;const n=this.getDirection();n&&(t.dir=n);const r=this.getIndent();r>0&&(t.style.textIndent=20*r+"px")}return{element:t}}static importJSON(e){const t=vi();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(e,t){const n=vi(),r=this.getDirection();return n.setDirection(r),this.insertAfter(n,t),n}collapseAtStart(){const e=this.getChildren();if(0===e.length||Ei(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function xi(e){const t=vi();if(e.style){t.setFormat(e.style.textAlign);const n=parseInt(e.style.textIndent,10)/20;n>0&&t.setIndent(n)}return{node:t}}function vi(){return At(new Ci)}function Ti(e,t,n,r){const i=e._keyToDOMMap;i.clear(),e._editorState=Qr(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;const o=e._observer;null!==o&&(o.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",i.set("root",n))}class Si{constructor(e,t,n,r,i,o,s){this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=it(),this._onError=i,this._htmlConversions=o,this._editable=!0,this._headless=null!==t&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){if(void 0===n)throw Error('Listener for type "command" requires a "priority".');const r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);const i=r.get(e);if(void 0===i)throw Error(`registerCommand: Command ${String(e)} not found in command map`);const o=i[n];return o.add(t),()=>{o.delete(t),i.every(e=>0===e.size)&&r.delete(e)}}registerMutationListener(e,t){if(void 0===this._nodes.get(e.getType()))throw Error(`Node ${e.name} has not been registered. Ensure node has been passed to createEditor.`);const n=this._listeners.mutation;return n.set(t,e),()=>{n.delete(t)}}registerNodeTransformToKlass(e,t){const n=e.getType(),r=this._nodes.get(n);if(void 0===r)throw Error(`Node ${e.name} has not been registered. Ensure node has been passed to createEditor.`);return r.transforms.add(t),r}registerNodeTransform(e,t){const n=this.registerNodeTransformToKlass(e,t),r=[n],i=n.replaceWithKlass;if(null!=i){const e=this.registerNodeTransformToKlass(i,t);r.push(e)}var o,s;return o=this,s=e.getType(),Wr(o,()=>{const e=Dr();if(e.isEmpty())return;if("root"===s)return void qe().markDirty();const t=e._nodeMap;for(const[,e]of t)e.markDirty()},null===o._pendingEditorState?{tag:"history-merge"}:void 0),()=>{r.forEach(e=>e.transforms.delete(t))}}hasNodes(e){for(let t=0;t<e.length;t++){const n=e[t].getType();if(!this._nodes.has(n))return!1}return!0}dispatchCommand(e,t){return Et(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const n=pt(this._config.theme,"root"),r=this._pendingEditorState||this._editorState;if(this._rootElement=e,Ti(this,t,e,r),null!==t&&(this._config.disableEvents||Un(t),null!=n&&t.classList.remove(...n)),null!==e){const t=function(e){const t=e.ownerDocument;return t&&t.defaultView||null}(e),r=e.style;r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=t,this._dirtyType=2,De(this),this._updateTags.add("history-merge"),Fr(this),this._config.disableEvents||function(e,t){0===An&&e.ownerDocument.addEventListener("selectionchange",Kn);An++,e.__lexicalEditor=t;const n=Bn(e);for(let r=0;r<Tn.length;r++){const[i,o]=Tn[r],s="function"==typeof o?e=>{Wn(e)||(Hn(e),t.isEditable()&&o(e,t))}:e=>{if(!Wn(e)&&(Hn(e),t.isEditable()))switch(i){case"cut":return Et(t,I,e);case"copy":return Et(t,P,e);case"paste":return Et(t,l,e);case"dragstart":return Et(t,M,e);case"dragover":return Et(t,$,e);case"dragend":return Et(t,L,e);case"focus":return Et(t,H,e);case"blur":return Et(t,W,e);case"drop":return Et(t,k,e)}};e.addEventListener(i,s),n.push(()=>{e.removeEventListener(i,s)})}}(e,this),null!=n&&e.classList.add(...n)}else this._window=null;Br("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){if(e.isEmpty())throw Error("setEditorState: the editor state is empty. Ensure the editor state's root node never becomes empty.");Ae(this);const n=this._pendingEditorState,r=this._updateTags,i=void 0!==t?t.tag:null;null===n||n.isEmpty()||(null!=i&&r.add(i),Fr(this)),this._pendingEditorState=e,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=i&&r.add(i),Fr(this)}parseEditorState(e,t){return function(e,t,n){const r=Qr(),i=Cr,o=vr,s=xr,l=t._dirtyElements,a=t._dirtyLeaves,c=t._cloneNotNeeded,u=t._dirtyType;t._dirtyElements=new Map,t._dirtyLeaves=new Set,t._cloneNotNeeded=new Set,t._dirtyType=0,Cr=r,vr=!1,xr=t;try{const i=t._nodes;Lr(e.root,i),n&&n(),r._readOnly=!0,Ir(r)}finally{t._dirtyElements=l,t._dirtyLeaves=a,t._cloneNotNeeded=c,t._dirtyType=u,Cr=i,vr=o,xr=s}return r}("string"==typeof e?JSON.parse(e):e,this,t)}update(e,t){Wr(this,e,t)}focus(e,t={}){const n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),Wr(this,()=>{const e=hr(),n=qe();null!==e?e.dirty=!0:0!==n.getChildrenSize()&&("rootStart"===t.defaultSelection?n.selectStart():n.selectEnd())},{onUpdate:()=>{n.removeAttribute("autocapitalize"),e&&e()}}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;null!==e&&e.blur();const t=$t(this._window);null!==t&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Br("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}class bi extends jr{constructor(e,t){super(t),this.__colSpan=e}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan}}}function Oi(e){return e instanceof bi}class wi extends jr{}function Ai(e){return e instanceof wi}class Di extends jr{}function ki(e){return e instanceof Di}return u.$addUpdateTag=function(e){wr(),kr()._updateTags.add(e)},u.$applyNodeReplacement=At,u.$copyNode=wt,u.$createLineBreakNode=ii,u.$createNodeSelection=gr,u.$createParagraphNode=vi,u.$createRangeSelection=function(){const e=Gn("root",0,"element"),t=Gn("root",0,"element");return new tr(e,t,0,"")},u.$createTextNode=yi,u.$getAdjacentNode=Nt,u.$getNearestNodeFromDOMNode=je,u.$getNearestRootOrShadowRoot=bt,u.$getNodeByKey=Ge,u.$getPreviousSelection=pr,u.$getRoot=qe,u.$getSelection=hr,u.$getTextContent=function(){const e=hr();return null===e?"":e.getTextContent()},u.$hasAncestor=Tt,u.$insertNodes=function(e,t){let n=hr();return null===n&&(n=qe().selectEnd()),n.insertNodes(e,t)},u.$isDecoratorNode=Vr,u.$isElementNode=Jr,u.$isInlineElementOrDecoratorNode=function(e){return Jr(e)&&e.isInline()||Vr(e)&&e.isInline()},u.$isLeafNode=ze,u.$isLineBreakNode=oi,u.$isNodeSelection=nr,u.$isParagraphNode=function(e){return e instanceof Ci},u.$isRangeSelection=Zn,u.$isRootNode=Zr,u.$isRootOrShadowRoot=Ot,u.$isTextNode=Ei,u.$nodesOfType=function(e){const t=Dr(),n=t._readOnly,r=e.getType(),i=t._nodeMap,o=[];for(const[,t]of i)t instanceof e&&t.__type===r&&(n||t.isAttached())&&o.push(t);return o},u.$normalizeSelection__EXPERIMENTAL=zt,u.$parseSerializedNode=function(e){return Lr(e,kr()._nodes)},u.$setCompositionKey=Ue,u.$setSelection=Qe,u.$splitNode=Lt,u.BLUR_COMMAND=W,u.CAN_REDO_COMMAND=z,u.CAN_UNDO_COMMAND=K,u.CLEAR_EDITOR_COMMAND=F,u.CLEAR_HISTORY_COMMAND=B,u.CLICK_COMMAND=n,u.COMMAND_PRIORITY_CRITICAL=4,u.COMMAND_PRIORITY_EDITOR=0,u.COMMAND_PRIORITY_HIGH=3,u.COMMAND_PRIORITY_LOW=1,u.COMMAND_PRIORITY_NORMAL=2,u.CONTROLLED_TEXT_INSERTION_COMMAND=s,u.COPY_COMMAND=P,u.CUT_COMMAND=I,u.DELETE_CHARACTER_COMMAND=r,u.DELETE_LINE_COMMAND=g,u.DELETE_WORD_COMMAND=d,u.DEPRECATED_$createGridSelection=function(){const e=Gn("root",0,"element"),t=Gn("root",0,"element");return new Qn("root",e,t)},u.DEPRECATED_$isGridCellNode=Oi,u.DEPRECATED_$isGridNode=Ai,u.DEPRECATED_$isGridRowNode=ki,u.DEPRECATED_$isGridSelection=er,u.DEPRECATED_GridCellNode=bi,u.DEPRECATED_GridNode=wi,u.DEPRECATED_GridRowNode=Di,u.DRAGEND_COMMAND=L,u.DRAGOVER_COMMAND=$,u.DRAGSTART_COMMAND=M,u.DROP_COMMAND=k,u.DecoratorNode=Gr,u.ElementNode=jr,u.FOCUS_COMMAND=H,u.FORMAT_ELEMENT_COMMAND=R,u.FORMAT_TEXT_COMMAND=f,u.INDENT_CONTENT_COMMAND=A,u.INSERT_LINE_BREAK_COMMAND=i,u.INSERT_PARAGRAPH_COMMAND=o,u.KEY_ARROW_DOWN_COMMAND=x,u.KEY_ARROW_LEFT_COMMAND=y,u.KEY_ARROW_RIGHT_COMMAND=_,u.KEY_ARROW_UP_COMMAND=C,u.KEY_BACKSPACE_COMMAND=S,u.KEY_DELETE_COMMAND=O,u.KEY_DOWN_COMMAND=m,u.KEY_ENTER_COMMAND=v,u.KEY_ESCAPE_COMMAND=b,u.KEY_MODIFIER_COMMAND=U,u.KEY_SPACE_COMMAND=T,u.KEY_TAB_COMMAND=w,u.LineBreakNode=ni,u.MOVE_TO_END=N,u.MOVE_TO_START=E,u.OUTDENT_CONTENT_COMMAND=D,u.PASTE_COMMAND=l,u.ParagraphNode=Ci,u.REDO_COMMAND=p,u.REMOVE_TEXT_COMMAND=c,u.RootNode=qr,u.SELECTION_CHANGE_COMMAND=t,u.TextNode=gi,u.UNDO_COMMAND=h,u.createCommand=e,u.createEditor=function(e){const t=e||{},n=Rr(),r=t.theme||{},i=void 0===e?n:t.parentEditor||null,o=t.disableEvents||!1,s=Qr(),l=t.namespace||(null!==i?i._config.namespace:it()),a=t.editorState,c=[qr,gi,ni,Ci,...t.nodes||[]],u=t.onError,d=void 0===t.editable||t.editable;let g;if(void 0===e&&null!==n)g=n._nodes;else{g=new Map;for(let e=0;e<c.length;e++){let t=c[e],n=null,r=null;if("function"!=typeof t){const e=t;t=e.replace,n=e.with,r=e.withKlass?e.withKlass:null}{const e=t.name;if("RootNode"!==e){const n=t.prototype;["getType","clone"].forEach(n=>{t.hasOwnProperty(n)||console.warn(`${e} must implement static "${n}" method`)}),!t.hasOwnProperty("importDOM")&&t.hasOwnProperty("exportDOM")&&console.warn(`${e} should implement "importDOM" if using a custom "exportDOM" method to ensure HTML serialization (important for copy & paste) works as expected`),n instanceof Gr&&(n.hasOwnProperty("decorate")||console.warn(`${n.constructor.name} must implement "decorate" method`)),t.hasOwnProperty("importJSON")||console.warn(`${e} should implement "importJSON" method to ensure JSON and default HTML serialization works as expected`),n.hasOwnProperty("exportJSON")||console.warn(`${e} should implement "exportJSON" method to ensure JSON and default HTML serialization works as expected`)}}const i=t.getType();g.set(i,{klass:t,replace:n,replaceWithKlass:r,transforms:new Set})}}const f=new Si(s,i,g,{disableEvents:o,namespace:l,theme:r},u||console.error,function(e){const t=new Map,n=new Set;return e.forEach(e=>{const r=null!=e.klass.importDOM?e.klass.importDOM.bind(e.klass):null;if(null==r||n.has(r))return;n.add(r);const i=r();null!==i&&Object.keys(i).forEach(e=>{let n=t.get(e);void 0===n&&(n=[],t.set(e,n)),n.push(i[e])})}),t}(g),d);return void 0!==a&&(f._pendingEditorState=a,f._dirtyType=2),f},u.isSelectionWithinEditor=$e,u}():function(){if(d)return g;d=1;let e={},t={},n={},r={},i={},o={},s={},l={},a={},c={},u={},f={},h={},p={},m={},_={},N={},y={},E={},C={},x={},v={},T={},S={},b={},O={},w={},A={},D={},k={},R={},M={},$={},L={},P={};function I(e){throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?code=${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let F="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,B=F&&"documentMode"in document?document.documentMode:null,z=F&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),K=F&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),H=!(!F||!("InputEvent"in window)||B)&&"getTargetRanges"in new window.InputEvent("input"),W=F&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),U=F&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Y=F&&/^(?=.*Chrome).*/i.test(navigator.userAgent),G=F&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Y,V=W||U||G?" ":"​",j=K?" ":V,J=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,X=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,q={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},Z={directionless:1,unmergeable:2},Q={center:2,end:6,justify:4,left:1,right:3,start:5},ee={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},te={normal:0,segmented:2,token:1},ne={0:"normal",2:"segmented",1:"token"},re=!1,ie=0;function oe(e){ie=e.timeStamp}function se(e,t,n){return t.__lexicalLineBreak===e||void 0!==e[`__lexicalKey_${n._key}`]}function le(e,t,n){re=!0;let r=100<performance.now()-ie;try{Zn(e,()=>{let i=On()||function(e){return e.getEditorState().read(()=>{let e=On();return null!==e?e.clone():null})}(e);var o=new Map,s=e.getRootElement(),l=e._editorState,a=e._blockCursorElement;let c=!1,u="";for(var d=0;d<t.length;d++){var g=t[d],f=g.type,h=g.target,p=be(h,l);if(!(null===p&&h!==s||nr(p)))if("characterData"===f){if(g=r&&wr(p))e:{f=h;var m=p;if(dn(g=i)){var _=g.anchor.getNode();if(_.is(m)&&g.format!==_.getFormat()){g=!1;break e}}g=3===f.nodeType&&m.isAttached()}g&&(f=g=null,null!==(m=et(e._window))&&m.anchorNode===h&&(g=m.anchorOffset,f=m.focusOffset),null!==(h=h.nodeValue)&&Pe(p,h,g,f,!1))}else if("childList"===f){for(c=!0,f=g.addedNodes,m=0;m<f.length;m++){var N=Se(_=f[m]),y=_.parentNode;null==y||_===a||null!==N||"BR"===_.nodeName&&se(_,y,e)||(K&&(N=_.innerText||_.nodeValue)&&(u+=N),y.removeChild(_))}if(0<(f=(g=g.removedNodes).length)){for(m=0,_=0;_<f;_++)("BR"===(y=g[_]).nodeName&&se(y,h,e)||a===y)&&(h.appendChild(y),m++);f!==m&&(h===s&&(p=l._nodeMap.get("root")),o.set(h,p))}}}if(0<o.size)for(let[t,n]of o)if(ir(n))for(o=n.getChildrenKeys(),s=t.firstChild,l=0;l<o.length;l++)null!==(a=e.getElementByKey(o[l]))&&(null==s?(t.appendChild(a),s=a):s!==a&&t.replaceChild(a,s),s=s.nextSibling);else wr(n)&&n.markDirty();if(0<(o=n.takeRecords()).length){for(s=0;s<o.length;s++)for(l=(a=o[s]).addedNodes,a=a.target,d=0;d<l.length;d++)null==(h=(p=l[d]).parentNode)||"BR"!==p.nodeName||se(p,a,e)||h.removeChild(p);n.takeRecords()}null!==i&&(c&&(i.dirty=!0,De(i)),K&&Ke(e)&&i.insertRawText(u))})}finally{re=!1}}function ae(e){let t=e._observer;if(null!==t){le(e,t.takeRecords(),t)}}function ce(e){0===ie&&Ge(e).addEventListener("textInput",oe,!0),e._observer=new MutationObserver((t,n)=>{le(e,t,n)})}let ue=1,de="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function ge(e){let t=document.activeElement;if(null===t)return!1;let n=t.nodeName;return nr(be(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==t.__lexicalEditor)}function fe(e,t,n){let r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!ge(t)&&he(t)===e}catch(e){return!1}}function he(e){for(;null!=e;){let t=e.__lexicalEditor;if(null!=t)return t;e=Ue(e)}return null}function pe(e){return e.isToken()||e.isSegmented()}function me(e){for(;null!=e;){if(3===e.nodeType)return e;e=e.firstChild}return null}function _e(e,t,n){return e&(t=q[t])&&(null===n||0===(n&t))?e^t:null===n||n&t?e|t:e}function Ne(e){return wr(e)||hr(e)||nr(e)}function ye(e,t){if(null!=t)e.__key=t;else{Kn(),99<Fn&&I(14),t=Wn();var n=Hn(),r=""+ue++;n._nodeMap.set(r,e),ir(e)?t._dirtyElements.set(r,!0):t._dirtyLeaves.add(r),t._cloneNotNeeded.add(r),t._dirtyType=1,e.__key=r}}function Ee(e){var t=e.getParent();if(null!==t){let i=e.getWritable();t=t.getWritable();var n=e.getPreviousSibling();if(e=e.getNextSibling(),null===n)if(null!==e){var r=e.getWritable();t.__first=e.__key,r.__prev=null}else t.__first=null;else{if(r=n.getWritable(),null!==e){let t=e.getWritable();t.__prev=r.__key,r.__next=t.__key}else r.__next=null;i.__prev=null}null===e?null!==n?(e=n.getWritable(),t.__last=n.__key,e.__next=null):t.__last=null:(e=e.getWritable(),null!==n?((n=n.getWritable()).__next=e.__key,e.__prev=n.__key):e.__prev=null,i.__next=null),t.__size--,i.__parent=null}}function Ce(e){99<Fn&&I(14);var t=e.getLatest(),n=t.__parent,r=Hn();let i=Wn(),o=r._nodeMap;if(r=i._dirtyElements,null!==n)e:for(;null!==n&&!r.has(n);){let e=o.get(n);if(void 0===e)break;r.set(n,!1),n=e.__parent}t=t.__key,i._dirtyType=1,ir(e)?r.set(t,!0):i._dirtyLeaves.add(t)}function xe(e){Kn();var t=Wn();let n=t._compositionKey;e!==n&&(t._compositionKey=e,null!==n&&(null!==(t=Te(n))&&t.getWritable()),null!==e&&(null!==(e=Te(e))&&e.getWritable()))}function ve(){return zn()?null:Wn()._compositionKey}function Te(e,t){return void 0===(e=(t||Hn())._nodeMap.get(e))?null:e}function Se(e,t){return void 0!==(e=e[`__lexicalKey_${Wn()._key}`])?Te(e,t):null}function be(e,t){for(;null!=e;){let n=Se(e,t);if(null!==n)return n;e=Ue(e)}return null}function Oe(e){let t=Object.assign({},e._decorators);return e._pendingDecorators=t}function we(e){return e.read(()=>Ae().getTextContent())}function Ae(){return Hn()._nodeMap.get("root")}function De(e){Kn();let t=Hn();null!==e&&(e.dirty=!0,e._cachedNodes=null),t._selection=e}function ke(e){var t,n=Wn();e:{for(t=e;null!=t;){let e=t[`__lexicalKey_${n._key}`];if(void 0!==e){t=e;break e}t=Ue(t)}t=null}return null===t?e===(n=n.getRootElement())?Te("root"):null:Te(t)}function Re(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function Me(e){let t=[];for(;null!==e;)t.push(e),e=e._parentEditor;return t}function $e(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function Le(e,t,n){if(null!==(t=et(t._window))){var r=t.anchorNode,{anchorOffset:i,focusOffset:o}=t;if(null!==r&&(t=3===r.nodeType?r.nodeValue:null,r=be(r),null!==t&&wr(r))){if(r.canContainTabs()){var s=t.includes("\t");if(n&&0<n.length&&s){let e=i+(s=n.length)-1,r=t.slice(0,e);t=`${r}${n}${t=t.slice(e,t.length)}`,i+=s,o+=s}}t===V&&n&&(t=n,o=i=s=n.length),null!==t&&Pe(r,t,i,o,e)}}}function Pe(e,t,n,r,i){let o=e;if(o.isAttached()&&(i||!o.isDirty())){var s=o.isComposing();if(e=t,(s||i)&&t[t.length-1]===V&&(e=t.slice(0,-1)),t=o.getTextContent(),i||e!==t)if(""===e)if(xe(null),W||U||G)o.remove();else{let e=Wn();setTimeout(()=>{e.update(()=>{o.isAttached()&&o.remove()})},20)}else{i=o.getParent(),t=wn();var l=ve(),a=o.getKey();o.isToken()||null!==l&&a===l&&!s||null!==i&&dn(t)&&!i.canInsertTextBefore()&&0===t.anchor.offset?o.markDirty():(dn(s=On())&&null!==n&&null!==r&&(s.setTextNodeRange(o,n,o,r),o.isSegmented()&&(n=Or(n=o.getTextContent()),o.replace(n),o=n)),o.setTextContent(e))}}}function Ie(e,t){var n=e[t];return"string"==typeof n?(n=n.split(" "),e[t]=n):n}function Fe(e,t,n,r,i){0!==n.size&&(n=r.__key,void 0===(t=t.get(r.__type))&&I(33),r=t.klass,void 0===(t=e.get(r))&&(t=new Map,e.set(r,t)),r="destroyed"===(e=t.get(n))&&"created"===i,(void 0===e||r)&&t.set(n,r?"updated":i))}function Be(e,t,n){let r=e.getParent(),i=n;return null!==r&&(t&&0===n?(i=e.getIndexWithinParent(),e=r):t||n!==e.getChildrenSize()||(i=e.getIndexWithinParent()+1,e=r)),e.getChildAtIndex(t?i-1:i)}function ze(e,t){var n=e.offset;return"element"===e.type?Be(e=e.getNode(),t,n):(e=e.getNode(),t&&0===n||!t&&n===e.getTextContentSize()?null===(n=t?e.getPreviousSibling():e.getNextSibling())?Be(e.getParentOrThrow(),t,e.getIndexWithinParent()+(t?0:1)):n:null)}function Ke(e){return"insertFromPaste"===(e=(e=Ge(e).event)&&e.inputType)||"insertFromPasteAsQuotation"===e}function He(e){return!lr(e)&&!e.isLastChild()&&!e.isInline()}function We(e,t){return void 0===(e=e._keyToDOMMap.get(t))&&I(75),e}function Ue(e){return null!==(e=e.assignedSlot||e.parentElement)&&11===e.nodeType?e.host:e}function Ye(e,t){for(e=e.getParent();null!==e;){if(e.is(t))return!0;e=e.getParent()}return!1}function Ge(e){return null===(e=e._window)&&I(78),e}function Ve(e){for(e=e.getParentOrThrow();null!==e&&!je(e);)e=e.getParentOrThrow();return e}function je(e){return lr(e)||ir(e)&&e.isShadowRoot()}function Je(e){return ye(e=e.constructor.clone(e),null),e}function Xe(e){var t=Wn();let n=e.constructor.getType();return void 0===(t=t._nodes.get(n))&&I(97),null!==(t=t.replace)?((t=t(e))instanceof e.constructor||I(98),t):e}function qe(e,t){!lr(e=e.getParent())||ir(t)||nr(t)||I(99)}function Ze(e){return(nr(e)||ir(e)&&!e.canBeEmpty())&&!e.isInline()}function Qe(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null,null!==(t=e.parentElement)&&t.removeChild(e)}function et(e){return F?(e||window).getSelection():null}function tt(e,t){let n=e.getChildAtIndex(t);null==n&&(n=e),je(e)&&I(102);let r=e=>{const t=e.getParentOrThrow(),i=je(t),o=e!==n||i?Je(e):e;if(i)return e.insertAfter(o),[e,o,o];const[s,l,a]=r(t);return e=e.getNextSiblings(),a.append(o,...e),[s,l,o]},[i,o]=r(n);return[i,o]}function nt(e,t,n,r,i){for(e=e.getFirstChild();null!==e;){let o=e.__key;void 0!==e&&e.__parent===t&&(ir(e)&&nt(e,o,n,r,i),n.has(o)||i.delete(o),r.delete(o)),e=e.isAttached()?e.getNextSibling():null}}function rt(e,t){let n=e.__mode,r=e.__format;e=e.__style;let i=t.__mode,o=t.__format;return t=t.__style,!(null!==n&&n!==i||null!==r&&r!==o||null!==e&&e!==t)}function it(e,t){let n=e.mergeWithSibling(t),r=Wn()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function ot(e){if(""===e.__text&&e.isSimpleText()&&!e.isUnmergeable())e.remove();else{for(var t;null!==(t=e.getPreviousSibling())&&wr(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){rt(t,e)&&(e=it(t,e));break}t.remove()}for(var n;null!==(n=e.getNextSibling())&&wr(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){rt(e,n)&&it(e,n);break}n.remove()}}}function st(e){return lt(e.anchor),lt(e.focus),e}function lt(e){for(;"element"===e.type;){var t=e.getNode(),n=e.offset;if(n===t.getChildrenSize()?(t=t.getChildAtIndex(n-1),n=!0):(t=t.getChildAtIndex(n),n=!1),wr(t)){e.set(t.__key,n?t.getTextContentSize():0,"text");break}if(!ir(t))break;e.set(t.__key,n?t.getChildrenSize():0,"element")}}let at,ct,ut,dt,gt,ft,ht,pt,mt,_t,Nt="",yt="",Et="",Ct=!1,xt=!1,vt=null;function Tt(e,t){let n=ht.get(e);if(null!==t){let n=Ft(e);n.parentNode===t&&t.removeChild(n)}pt.has(e)||ct._keyToDOMMap.delete(e),ir(n)&&St(e=$t(n,ht),0,e.length-1,null),void 0!==n&&Fe(_t,ut,dt,n,"destroyed")}function St(e,t,n,r){for(;t<=n;++t){let n=e[t];void 0!==n&&Tt(n,r)}}function bt(e,t){e.setProperty("text-align",t)}function Ot(e,t){var n=at.theme.indent;if("string"==typeof n){let r=e.classList.contains(n);0<t&&!r?e.classList.add(n):1>t&&r&&e.classList.remove(n)}n=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||"20px",e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${n})`)}function wt(e,t){e=e.style,0===t?bt(e,""):1===t?bt(e,"left"):2===t?bt(e,"center"):3===t?bt(e,"right"):4===t?bt(e,"justify"):5===t?bt(e,"start"):6===t&&bt(e,"end")}function At(e,t,n){let r=pt.get(e);void 0===r&&I(60);let i=r.createDOM(at,ct);var o=ct._keyToDOMMap;if(i["__lexicalKey_"+ct._key]=e,o.set(e,i),wr(r)?i.setAttribute("data-lexical-text","true"):nr(r)&&i.setAttribute("data-lexical-decorator","true"),ir(r)){if(e=r.__indent,o=r.__size,0!==e&&Ot(i,e),0!==o){--o,e=$t(r,pt);var s=yt;yt="",Dt(e,r,0,o,i,null),Mt(r,i),yt=s}0!==(e=r.__format)&&wt(i,e),r.isInline()||Rt(null,r,i),He(r)&&(Nt+="\n\n",Et+="\n\n")}else o=r.getTextContent(),nr(r)?(null!==(s=r.decorate(ct,at))&&Pt(e,s),i.contentEditable="false"):wr(r)&&(r.isDirectionless()||(yt+=o)),Nt+=o,Et+=o;return null!==t&&(null!=n?t.insertBefore(i,n):null!=(n=t.__lexicalLineBreak)?t.insertBefore(i,n):t.appendChild(i)),Fe(_t,ut,dt,r,"created"),i}function Dt(e,t,n,r,i,o){let s=Nt;for(Nt="";n<=r;++n)At(e[n],i,o);He(t)&&(Nt+="\n\n"),i.__lexicalTextContent=Nt,Nt=s+Nt}function kt(e,t){return hr(e=t.get(e))||nr(e)&&e.isInline()}function Rt(e,t,n){e=null!==e&&(0===e.__size||kt(e.__last,ht)),t=0===t.__size||kt(t.__last,pt),e?t||(null!=(t=n.__lexicalLineBreak)&&n.removeChild(t),n.__lexicalLineBreak=null):t&&(t=document.createElement("br"),n.__lexicalLineBreak=t,n.appendChild(t))}function Mt(e,t){var n=t.__lexicalDir;if(t.__lexicalDirTextContent!==yt||n!==vt){let o=""===yt;if(o)var r=vt;else r=yt,r=J.test(r)?"rtl":X.test(r)?"ltr":null;if(r!==n){let s=t.classList,l=at.theme;var i=null!==n?l[n]:void 0;let a=null!==r?l[r]:void 0;void 0!==i&&("string"==typeof i&&(i=i.split(" "),i=l[n]=i),s.remove(...i)),null===r||o&&"ltr"===r?t.removeAttribute("dir"):(void 0!==a&&("string"==typeof a&&(n=a.split(" "),a=l[r]=n),void 0!==a&&s.add(...a)),t.dir=r),xt||(e.getWritable().__dir=r)}vt=r,t.__lexicalDirTextContent=yt,t.__lexicalDir=r}}function $t(e,t){let n=[];for(e=e.__first;null!==e;){let r=t.get(e);void 0===r&&I(101),n.push(e),e=r.__next}return n}function Lt(e,t){var n=ht.get(e),r=pt.get(e);void 0!==n&&void 0!==r||I(61);var i=Ct||ft.has(e)||gt.has(e);let o=We(ct,e);if(n===r&&!i)return ir(n)?(void 0!==(r=o.__lexicalTextContent)&&(Nt+=r,Et+=r),void 0!==(r=o.__lexicalDirTextContent)&&(yt+=r)):(r=n.getTextContent(),wr(n)&&!n.isDirectionless()&&(yt+=r),Et+=r,Nt+=r),o;if(n!==r&&i&&Fe(_t,ut,dt,r,"updated"),r.updateDOM(n,o,at))return r=At(e,null,null),null===t&&I(62),t.replaceChild(r,o),Tt(e,null),r;if(ir(n)&&ir(r)){if((e=r.__indent)!==n.__indent&&Ot(o,e),(e=r.__format)!==n.__format&&wt(o,e),i){e=r,i=yt,yt="",t=Nt;var s=n.__size,l=e.__size;if(Nt="",1===s&&1===l){var a=n.__first,c=e.__first;if(a===c)Lt(a,o);else{var u=Ft(a);c=At(c,null,null),o.replaceChild(c,u),Tt(a,null)}}else{c=$t(n,ht);var d=$t(e,pt);if(0===s)0!==l&&Dt(d,e,0,l-1,o,null);else if(0===l)0!==s&&(St(c,0,s-1,(a=null==o.__lexicalLineBreak)?null:o),a&&(o.textContent=""));else{var g=c;c=d,d=s-1,s=l-1;let t=o.firstChild,n=0;for(l=0;n<=d&&l<=s;){var f=g[n];let e=c[l];if(f===e)t=It(Lt(e,o)),n++,l++;else{void 0===a&&(a=new Set(g)),void 0===u&&(u=new Set(c));let r=u.has(f),i=a.has(e);r?(i?((f=We(ct,e))===t?t=It(Lt(e,o)):(null!=t?o.insertBefore(f,t):o.appendChild(f),Lt(e,o)),n++):At(e,o,t),l++):(t=It(Ft(f)),Tt(f,o),n++)}}u=l>s,(a=n>d)&&!u?Dt(c,e,l,s,o,a=void 0===(a=c[s+1])?null:ct.getElementByKey(a)):u&&!a&&St(g,n,d,o)}}He(e)&&(Nt+="\n\n"),o.__lexicalTextContent=Nt,Nt=t+Nt,Mt(e,o),yt=i,lr(r)||r.isInline()||Rt(n,r,o)}He(r)&&(Nt+="\n\n",Et+="\n\n")}else n=r.getTextContent(),nr(r)?null!==(i=r.decorate(ct,at))&&Pt(e,i):wr(r)&&!r.isDirectionless()&&(yt+=n),Nt+=n,Et+=n;return!xt&&lr(r)&&r.__cachedText!==Et&&((r=r.getWritable()).__cachedText=Et),o}function Pt(e,t){let n=ct._pendingDecorators,r=ct._decorators;if(null===n){if(r[e]===t)return;n=Oe(ct)}n[e]=t}function It(e){return null!==(e=e.nextSibling)&&e===ct._blockCursorElement&&(e=e.nextSibling),e}function Ft(e){return void 0===(e=mt.get(e))&&I(75),e}let Bt=Object.freeze({}),zt=[["keydown",function(e,t){if(Kt=e.timeStamp,Ht=e.keyCode,!t.isComposing()){var{keyCode:i,shiftKey:o,ctrlKey:s,metaKey:l,altKey:d}=e;if(!Jn(t,p,e)){if(39!==i||s||l||d)if(39!==i||d||o||!s&&!l)if(37!==i||s||l||d)if(37!==i||d||o||!s&&!l)if(38!==i||s||l)if(40!==i||s||l)if(13===i&&o)jt=!0,Jn(t,x,e);else if(32===i)Jn(t,v,e);else if(z&&s&&79===i)e.preventDefault(),jt=!0,Jn(t,r,!0);else if(13!==i||o){var g=z?!d&&!l&&(8===i||72===i&&s):!(s||d||l)&&8===i;g?8===i?Jn(t,T,e):(e.preventDefault(),Jn(t,n,!0)):27===i?Jn(t,S,e):(g=z?!(o||d||l)&&(46===i||68===i&&s):!(s||d||l)&&46===i)?46===i?Jn(t,b,e):(e.preventDefault(),Jn(t,n,!1)):8===i&&(z?d:s)?(e.preventDefault(),Jn(t,a,!0)):46===i&&(z?d:s)?(e.preventDefault(),Jn(t,a,!1)):z&&l&&8===i?(e.preventDefault(),Jn(t,c,!0)):z&&l&&46===i?(e.preventDefault(),Jn(t,c,!1)):66===i&&!d&&(z?l:s)?(e.preventDefault(),Jn(t,u,"bold")):85===i&&!d&&(z?l:s)?(e.preventDefault(),Jn(t,u,"underline")):73===i&&!d&&(z?l:s)?(e.preventDefault(),Jn(t,u,"italic")):9!==i||d||s||l?90===i&&!o&&(z?l:s)?(e.preventDefault(),Jn(t,f,void 0)):(g=z?90===i&&l&&o:89===i&&s||90===i&&s&&o)?(e.preventDefault(),Jn(t,h,void 0)):pn(t._editorState._selection)&&((g=!o&&(67===i&&(z?l:s)))?(e.preventDefault(),Jn(t,R,e)):(g=!o&&(88===i&&(z?l:s)))&&(e.preventDefault(),Jn(t,M,e))):Jn(t,O,e)}else jt=!1,Jn(t,x,e);else Jn(t,C,e);else Jn(t,E,e);else Jn(t,y,e);else Jn(t,N,e);else Jn(t,_,e);else Jn(t,m,e);(s||o||d||l)&&Jn(t,P,e)}}}],["pointerdown",function(e,t){let n=e.target;e=e.pointerType,n instanceof Node&&"touch"!==e&&Zn(t,()=>{nr(be(n))||(Vt=!0)})}],["compositionstart",function(e,t){Zn(t,()=>{let n=On();if(dn(n)&&!t.isComposing()){let r=n.anchor,i=n.anchor.getNode();xe(r.key),(e.timeStamp<Kt+30||"element"===r.type||!n.isCollapsed()||i.getFormat()!==n.format||i.getStyle()!==n.style)&&Jn(t,o,j)}})}],["compositionend",function(e,t){K?Jt=!0:Zn(t,()=>{en(t,e.data)})}],["input",function(e,t){e.stopPropagation(),Zn(t,()=>{var n=On(),r=e.data;if(null!=r&&dn(n)&&qt(n,r,e.timeStamp,!1)){Jt&&(en(t,r),Jt=!1);var i=n.anchor,s=i.getNode(),l=et(t._window);if(null===l)return;let a=i.offset;(i=H&&!n.isCollapsed()&&wr(s)&&null!==l.anchorNode)&&(i=(s=s.getTextContent().slice(0,a)+r+s.getTextContent().slice(a+n.focus.offset))===(3===(l=l.anchorNode).nodeType?l.nodeValue:null)),i||Jn(t,o,r),r=r.length,K&&1<r&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=r),W||U||G||!t.isComposing()||(Kt=0,xe(null))}else Le(!1,t,null!==r?r:void 0),Jt&&(en(t,r||void 0),Jt=!1);Kn(),ae(n=Wn())}),Ut=null}],["click",function(e,n){Zn(n,()=>{let r=On(),i=et(n._window),o=wn();if(dn(r)){let e=r.anchor,t=e.getNode();i&&"element"===e.type&&0===e.offset&&r.isCollapsed()&&!lr(t)&&1===Ae().getChildrenSize()&&t.getTopLevelElementOrThrow().isEmpty()&&null!==o&&r.is(o)&&(i.removeAllRanges(),r.dirty=!0)}Jn(n,t,e)})}],["cut",Bt],["copy",Bt],["dragstart",Bt],["dragover",Bt],["dragend",Bt],["paste",Bt],["focus",Bt],["blur",Bt],["drop",Bt]];H&&zt.push(["beforeinput",(e,t)=>function(e,t){let d=e.inputType;"deleteCompositionText"===d||K&&Ke(t)||"insertCompositionText"!==d&&Zn(t,()=>{let g=On();if("deleteContentBackward"===d){if(null===g){var p=wn();if(!dn(p))return;De(p.clone())}if(dn(g))return void(229===Ht&&e.timeStamp<Kt+30&&t.isComposing()&&g.anchor.key===g.focus.key?(xe(null),Kt=0,setTimeout(()=>{Zn(t,()=>{xe(null)})},30),dn(g)&&(p=g.anchor.getNode(),p.markDirty(),g.format=p.getFormat(),g.style=p.getStyle())):(e.preventDefault(),Jn(t,n,!0)))}if(dn(g)){p=e.data,null!==Ut&&Le(!1,t,Ut),g.dirty&&null===Ut||!g.isCollapsed()||lr(g.anchor.getNode())||function(e,t){t.getTargetRanges&&(t=t.getTargetRanges()[0])&&e.applyDOMRange(t)}(g,e),Ut=null;var m=g.focus,_=g.anchor.getNode();if(m=m.getNode(),"insertText"===d||"insertTranspose"===d)"\n"===p?(e.preventDefault(),Jn(t,r,!1)):"\n\n"===p?(e.preventDefault(),Jn(t,i,void 0)):null==p&&e.dataTransfer?(p=e.dataTransfer.getData("text/plain"),e.preventDefault(),g.insertRawText(p)):null!=p&&qt(g,p,e.timeStamp,!0)?(e.preventDefault(),Jn(t,o,p)):Ut=p,Wt=e.timeStamp;else switch(e.preventDefault(),d){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Jn(t,o,e);break;case"insertFromComposition":xe(null),Jn(t,o,e);break;case"insertLineBreak":xe(null),Jn(t,r,!1);break;case"insertParagraph":xe(null),jt?(jt=!1,Jn(t,r,!1)):Jn(t,i,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Jn(t,s,e);break;case"deleteByComposition":(function(e,t){return e!==t||ir(e)||ir(t)||!e.isToken()||!t.isToken()})(_,m)&&Jn(t,l,void 0);break;case"deleteByDrag":case"deleteByCut":Jn(t,l,void 0);break;case"deleteContent":Jn(t,n,!1);break;case"deleteWordBackward":Jn(t,a,!0);break;case"deleteWordForward":Jn(t,a,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Jn(t,c,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Jn(t,c,!1);break;case"formatStrikeThrough":Jn(t,u,"strikethrough");break;case"formatBold":Jn(t,u,"bold");break;case"formatItalic":Jn(t,u,"italic");break;case"formatUnderline":Jn(t,u,"underline");break;case"historyUndo":Jn(t,f,void 0);break;case"historyRedo":Jn(t,h,void 0)}}})}(e,t)]);let Kt=0,Ht=0,Wt=0,Ut=null,Yt=0,Gt=!1,Vt=!1,jt=!1,Jt=!1,Xt=[0,"",0,"root",0];function qt(e,t,n,r){let i=e.anchor,o=e.focus,s=i.getNode();var l=Wn(),a=et(l._window);a=null!==a?a.anchorNode:null;let c=i.key;l=l.getElementByKey(c);let u=t.length;return c!==o.key||!wr(s)||(!r&&(!H||Wt<n+50)||s.isDirty()&&2>u||Re(t))&&i.offset!==o.offset&&!s.isComposing()||pe(s)||s.isDirty()&&1<u||(r||!H)&&null!==l&&!s.isComposing()&&a!==me(l)||s.getFormat()!==e.format||s.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;e=e.anchor.offset;let n=t.getParentOrThrow(),r=t.isToken();return 0===e?((e=!t.canInsertTextBefore()||!n.canInsertTextBefore()||r)||(e=(wr(t=t.getPreviousSibling())||ir(t)&&t.isInline())&&!t.canInsertTextAfter()),e):e===t.getTextContentSize()&&(!t.canInsertTextAfter()||!n.canInsertTextAfter()||r)}(e,s)}function Zt(e,t){return null!==e&&null!==e.nodeValue&&3===e.nodeType&&0!==t&&t!==e.nodeValue.length}function Qt(t,n,r){let{anchorNode:i,anchorOffset:o,focusNode:s,focusOffset:l}=t;Gt&&(Gt=!1,Zt(i,o)&&Zt(s,l))||Zn(n,()=>{if(r){if(fe(n,i,s)){var o=On();if(dn(o)){var l=o.anchor,a=l.getNode();if(o.isCollapsed()){"Range"===t.type&&t.anchorNode===t.focusNode&&(o.dirty=!0);var c=Ge(n).event;c=c?c.timeStamp:performance.now();let[e,r,i,s,u]=Xt;c<u+200&&l.offset===i&&l.key===s?(o.format=e,o.style=r):"text"===l.type?(o.format=a.getFormat(),o.style=a.getStyle()):"element"===l.type&&(o.format=0,o.style="")}else{l=255,a=!1;let e=(c=o.getNodes()).length;for(let t=0;t<e;t++){let e=c[t];if(wr(e)&&(a=!0,0===(l&=e.getFormat())))break}o.format=a?l:0}}Jn(n,e,void 0)}}else De(null)})}function en(e,t){var n=e._compositionKey;if(xe(null),null!==n&&null!=t){if(""===t)return t=Te(n),void(null!==(e=me(e.getElementByKey(n)))&&null!==e.nodeValue&&wr(t)&&Pe(t,e.nodeValue,null,null,!0));if("\n"===t[t.length-1]&&dn(n=On()))return t=n.focus,n.anchor.set(t.key,t.offset,t.type),void Jn(e,x,null)}Le(!0,e,t)}function tn(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}let nn=new Map;function rn(e){let t=et(null==(e=e.target)?null:9===e.nodeType?e.defaultView:e.ownerDocument.defaultView);if(null!==t){var n=he(t.anchorNode);if(null!==n){Vt&&(Vt=!1,Zn(n,()=>{var e=wn(),r=t.anchorNode;null!==r&&(1===(r=r.nodeType)||3===r)&&De(e=bn(e,t,n))}));var r=(e=(e=Me(n))[e.length-1])._key,i=nn.get(r),o=i||e;o!==n&&Qt(t,o,!1),Qt(t,n,!0),n!==e?nn.set(r,n):i&&nn.delete(r)}}}class on{constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let t=this.getNode(),n=e.getNode(),r=this.offset;if(e=e.offset,ir(t)){var i=t.getDescendantByIndex(r);t=null!=i?i:t}return ir(n)&&(i=n.getDescendantByIndex(e),n=null!=i?i:n),t===n?r<e:t.isBefore(n)}getNode(){let e=Te(this.key);return null===e&&I(20),e}set(e,t,n){let r=this._selection,i=this.key;this.key=e,this.offset=t,this.type=n,zn()||(ve()===i&&xe(e),null!==r&&(r._cachedNodes=null,r.dirty=!0))}}function sn(e,t){let n=t.__key,r=e.offset,i="element";if(wr(t))i="text",r>(t=t.getTextContentSize())&&(r=t);else if(!ir(t)){var o=t.getNextSibling();wr(o)?(n=o.__key,r=0,i="text"):(o=t.getParent())&&(n=o.__key,r=t.getIndexWithinParent()+1)}e.set(n,r,i)}function ln(e,t){if(ir(t)){let n=t.getLastDescendant();ir(n)||wr(n)?sn(e,n):sn(e,t)}else sn(e,t)}function an(e,t,n,r){let i=e.getNode(),o=i.getChildAtIndex(e.offset),s=Or(),l=lr(i)?kr().append(s):s;s.setFormat(n),s.setStyle(r),null===o?i.append(l):o.insertBefore(l),e.is(t)&&t.set(s.__key,0,"text"),e.set(s.__key,0,"text")}function cn(e,t,n,r){e.key=t,e.offset=n,e.type=r}class un{constructor(e){this.dirty=!1,this._nodes=e,this._cachedNodes=null}is(e){if(!pn(e))return!1;let t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every(e=>n.has(e))}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new un(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,t){let n=this.getNodes(),r=n.length;var i=n[r-1];if(wr(i))i=i.select();else{let e=i.getIndexWithinParent()+1;i=i.getParentOrThrow().select(e,e)}for(i.insertNodes(e,t),e=0;e<r;e++)n[e].remove();return!0}getNodes(){var e=this._cachedNodes;if(null!==e)return e;var t=this._nodes;e=[];for(let n of t)null!==(t=Te(n))&&e.push(t);return zn()||(this._cachedNodes=e),e}getTextContent(){let e=this.getNodes(),t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function dn(e){return e instanceof hn}class gn{constructor(e,t,n){this.gridKey=e,this.anchor=t,this.focus=n,this.dirty=!1,this._cachedNodes=null,t._selection=this,n._selection=this}is(e){return!!fn(e)&&(this.gridKey===e.gridKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus))}set(e,t,n){this.dirty=!0,this.gridKey=e,this.anchor.key=t,this.focus.key=n,this._cachedNodes=null}clone(){return new gn(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return _n(this)}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,t){let n=this.focus.getNode();return st(n.select(0,n.getChildrenSize())).insertNodes(e,t)}getShape(){var e=Te(this.anchor.key);null===e&&I(21);var t=e.getIndexWithinParent();e=e.getParentOrThrow().getIndexWithinParent();var n=Te(this.focus.key);null===n&&I(22);var r=n.getIndexWithinParent();let i=n.getParentOrThrow().getIndexWithinParent();return n=Math.min(t,r),t=Math.max(t,r),r=Math.min(e,i),e=Math.max(e,i),{fromX:Math.min(n,t),fromY:Math.min(r,e),toX:Math.max(n,t),toY:Math.max(r,e)}}getNodes(){var e=this._cachedNodes;if(null!==e)return e;e=new Set;let{fromX:t,fromY:n,toX:r,toY:i}=this.getShape();var o=Te(this.gridKey);Ir(o)||I(23),e.add(o),o=o.getChildren();for(let a=n;a<=i;a++){var s=o[a];e.add(s),Br(s)||I(24),s=s.getChildren();for(let n=t;n<=r;n++){var l=s[n];for(Lr(l)||I(25),e.add(l),l=l.getChildren();0<l.length;){let t=l.shift();e.add(t),ir(t)&&l.unshift(...t.getChildren())}}}return e=Array.from(e),zn()||(this._cachedNodes=e),e}getTextContent(){let e=this.getNodes(),t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function fn(e){return e instanceof gn}class hn{constructor(e,t,n,r){this.anchor=e,this.focus=t,this.dirty=!1,this.format=n,this.style=r,this._cachedNodes=null,e._selection=this,t._selection=this}is(e){return!!dn(e)&&(this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style)}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var e=this._cachedNodes;if(null!==e)return e;var t=this.anchor;e=this.focus;let n=t.getNode(),r=e.getNode();return ir(n)&&(t=n.getDescendantByIndex(t.offset),n=null!=t?t:n),ir(r)&&(null!==(t=r.getDescendantByIndex(e.offset))&&t!==n&&r.getChildAtIndex(e.offset)===t&&(t=t.getPreviousSibling()),r=null!=t?t:r),e=n.is(r)?ir(n)&&0<n.getChildrenSize()?[]:[n]:n.getNodesBetween(r),zn()||(this._cachedNodes=e),e}setTextNodeRange(e,t,n,r){cn(this.anchor,e.__key,t,"text"),cn(this.focus,n.__key,r,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let e=this.getNodes();if(0===e.length)return"";let t=e[0],n=e[e.length-1],r=this.anchor,i=this.focus,o=r.isBefore(i),[s,l]=_n(this),a="",c=!0;for(let u=0;u<e.length;u++){let d=e[u];if(ir(d)&&!d.isInline())c||(a+="\n"),c=!d.isEmpty();else if(c=!1,wr(d)){let e=d.getTextContent();d===t?d===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(e=s<l?e.slice(s,l):e.slice(l,s)):e=o?e.slice(s):e.slice(l):d===n&&(e=o?e.slice(0,l):e.slice(0,s)),a+=e}else!nr(d)&&!hr(d)||d===n&&this.isCollapsed()||(a+=d.getTextContent())}return a}applyDOMRange(e){let t=Wn(),n=t.getEditorState()._selection;if(null!==(e=xn(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n))){var[r,i]=e;cn(this.anchor,r.key,r.offset,r.type),cn(this.focus,i.key,i.offset,i.type),this._cachedNodes=null}}clone(){let e=this.anchor,t=this.focus;return new hn(new on(e.key,e.offset,e.type),new on(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=_e(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){return 0!==(this.format&q[e])}insertRawText(e){let t=e.split(/\r?\n/);if(1===t.length)this.insertText(e);else{e=[];let n=t.length;for(let r=0;r<n;r++){let i=t[r];""!==i&&e.push(Or(i)),r!==n-1&&e.push(fr())}this.insertNodes(e)}}insertText(e){var t=this.anchor,n=this.focus,r=this.isCollapsed()||t.isBefore(n),i=this.format,o=this.style;r&&"element"===t.type?an(t,n,i,o):r||"element"!==n.type||an(n,t,i,o);var s=this.getNodes(),l=s.length,a=r?n:t;n=(r?t:n).offset;var c=a.offset;wr(t=s[0])||I(26),r=t.getTextContent().length;var u=t.getParentOrThrow(),d=s[l-1];if(this.isCollapsed()&&n===r&&(t.isSegmented()||t.isToken()||!t.canInsertTextAfter()||!u.canInsertTextAfter()&&null===t.getNextSibling())){var g=t.getNextSibling();if(wr(g)&&!pe(g)||((g=Or()).setFormat(i),u.canInsertTextAfter()?t.insertAfter(g):u.insertAfter(g)),g.select(0,0),t=g,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===n&&(t.isSegmented()||t.isToken()||!t.canInsertTextBefore()||!u.canInsertTextBefore()&&null===t.getPreviousSibling())){if(wr(g=t.getPreviousSibling())&&!pe(g)||((g=Or()).setFormat(i),u.canInsertTextBefore()?t.insertBefore(g):u.insertBefore(g)),g.select(),t=g,""!==e)return void this.insertText(e)}else if(t.isSegmented()&&n!==r)(u=Or(t.getTextContent())).setFormat(i),t.replace(u),t=u;else if(!(this.isCollapsed()||""===e||(g=d.getParent(),u.canInsertTextBefore()&&u.canInsertTextAfter()&&(!ir(g)||g.canInsertTextBefore()&&g.canInsertTextAfter()))))return this.insertText(""),Cn(this.anchor,this.focus,null),void this.insertText(e);if(1===l)if(t.isToken())(e=Or(e)).select(),t.replace(e);else{if(s=t.getFormat(),l=t.getStyle(),n===c&&(s!==i||l!==o)){if(""!==t.getTextContent())return(s=Or(e)).setFormat(i),s.setStyle(o),s.select(),0===n?t.insertBefore(s,!1):([l]=t.splitText(n),l.insertAfter(s,!1)),void(s.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length));t.setFormat(i),t.setStyle(o)}""===(t=t.spliceText(n,c-n,e,!0)).getTextContent()?t.remove():"text"===this.anchor.type&&(t.isComposing()?this.anchor.offset-=e.length:(this.format=s,this.style=l))}else{if(i=new Set([...t.getParentKeys(),...d.getParentKeys()]),g=ir(t)?t:t.getParentOrThrow(),o=ir(d)?d:d.getParentOrThrow(),u=d,!g.is(o)&&o.isInline())do{u=o,o=o.getParentOrThrow()}while(o.isInline());"text"===a.type&&(0!==c||""===d.getTextContent())||"element"===a.type&&d.getIndexWithinParent()<c?wr(d)&&!d.isToken()&&c!==d.getTextContentSize()?(d.isSegmented()&&(a=Or(d.getTextContent()),d.replace(a),d=a),d=d.spliceText(0,c,""),i.add(d.__key)):(a=d.getParentOrThrow()).canBeEmpty()||1!==a.getChildrenSize()?d.remove():a.remove():i.add(d.__key),a=o.getChildren(),c=new Set(s),d=g.is(o),g=g.isInline()&&null===t.getNextSibling()?g:t;for(let e=a.length-1;0<=e;e--){let n=a[e];if(n.is(t)||ir(n)&&n.isParentOf(t))break;n.isAttached()&&(!c.has(n)||n.is(u)?d||g.insertAfter(n,!1):n.remove())}if(!d)for(a=o,c=null;null!==a;)(0===(d=(o=a.getChildren()).length)||o[d-1].is(c))&&(i.delete(a.__key),c=a),a=a.getParent();for(t.isToken()?n===r?t.select():((e=Or(e)).select(),t.replace(e)):""===(t=t.spliceText(n,r-n,e,!0)).getTextContent()?t.remove():t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length),e=1;e<l;e++)t=s[e],i.has(t.__key)||t.remove()}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())this.toggleFormat(e),xe(null);else{var t=this.getNodes(),n=[];for(var r of t)wr(r)&&n.push(r);var i=n.length;if(0===i)this.toggleFormat(e),xe(null);else{r=this.anchor;var o=this.focus,s=this.isBackward();t=s?o:r,r=s?r:o;var l=0,a=n[0];if(o="element"===t.type?0:t.offset,"text"===t.type&&o===a.getTextContentSize()&&(l=1,a=n[1],o=0),null!=a){s=a.getFormatFlags(e,null);var c=i-1,u=n[c];if(i="text"===r.type?r.offset:u.getTextContentSize(),a.is(u))o!==i&&(0===o&&i===a.getTextContentSize()?a.setFormat(s):(e=a.splitText(o,i),(e=0===o?e[0]:e[1]).setFormat(s),"text"===t.type&&t.set(e.__key,0,"text"),"text"===r.type&&r.set(e.__key,i-o,"text")),this.format=s);else{0!==o&&([,a]=a.splitText(o),o=0),a.setFormat(s);var d=u.getFormatFlags(e,s);for(0<i&&(i!==u.getTextContentSize()&&([u]=u.splitText(i)),u.setFormat(d)),l+=1;l<c;l++){let t=n[l];if(!t.isToken()){let n=t.getFormatFlags(e,d);t.setFormat(n)}}"text"===t.type&&t.set(a.__key,o,"text"),"text"===r.type&&r.set(u.__key,i,"text"),this.format=s|d}}}}}insertNodes(e,t){if(!this.isCollapsed()){var n=this.isBackward()?this.anchor:this.focus,r=n.getNode().getNextSibling();if(r=r?r.getKey():null,n=(n=n.getNode().getPreviousSibling())?n.getKey():null,this.removeText(),this.isCollapsed()&&"element"===this.focus.type){if(this.focus.key===r&&0===this.focus.offset){var i=Or();this.focus.getNode().insertBefore(i)}else this.focus.key===n&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(i=Or(),this.focus.getNode().insertAfter(i));i&&(this.focus.set(i.__key,0,"text"),this.anchor.set(i.__key,0,"text"))}}n=(i=this.anchor).offset;var o=i.getNode();r=o,"element"===i.type&&(r=null===(r=(i=i.getNode()).getChildAtIndex(n-1))?i:r),i=[];var s=o.getNextSiblings(),l=je(o)?null:o.getTopLevelElementOrThrow();if(wr(o))if(r=o.getTextContent().length,0===n&&0!==r)r=null!==(r=o.getPreviousSibling())?r:o.getParentOrThrow(),i.push(o);else if(n===r)r=o;else{if(o.isToken())return!1;[r,o]=o.splitText(n),i.push(o)}o=r,i.push(...s),s=e[0];var a=!1,c=null;for(let t=0;t<e.length;t++){var u=e[t];if(je(r)||nr(r)||!ir(u)||u.isInline())a&&!nr(u)&&je(r.getParent())&&I(28);else{if(u.is(s)){if(ir(r)&&r.isEmpty()&&r.canReplaceWith(u)){r.replace(u),r=u,a=!0;continue}if(Ne(a=u.getFirstDescendant())){for(var d=a.getParentOrThrow();d.isInline();)d=d.getParentOrThrow();if(a=(c=d.getChildren()).length,ir(r)){var g=r.getFirstChild();for(let e=0;e<a;e++){let t=c[e];null===g?r.append(t):g.insertAfter(t),g=t}}else{for(g=a-1;0<=g;g--)r.insertAfter(c[g]);r=r.getParentOrThrow()}if(c=c[a-1],d.remove(),a=!0,d.is(u))continue}}wr(r)&&(null===l&&I(27),r=l)}a=!1,ir(r)&&!r.isInline()?(c=u,nr(u)&&!u.isInline()?r=r.insertAfter(u,!1):ir(u)?!u.canBeEmpty()&&u.isEmpty()||(lr(r)?(null!==(d=r.getChildAtIndex(n))?d.insertBefore(u):r.append(u),r=u):r=r.insertAfter(u,!1)):(null!==(d=r.getFirstChild())?d.insertBefore(u):r.append(u),r=u)):!ir(u)||ir(u)&&u.isInline()||nr(r)&&!r.isInline()?(c=u,dn(this)&&nr(u)&&(ir(r)||wr(r))&&!u.isInline()?(wr(r)?(d=r.getParentOrThrow(),[r]=r.splitText(n),r=r.getIndexWithinParent()+1):(d=r,r=n),[,r]=tt(d,r),r=r.insertBefore(u)):r=r.insertAfter(u,!1)):(u=r.getParentOrThrow(),hr(r)&&r.remove(),r=u,t--)}if(t&&(wr(o)?o.select():wr(e=r.getPreviousSibling())?e.select():(e=r.getIndexWithinParent(),r.getParentOrThrow().select(e,e))),ir(r)){if(e=wr(c)?c:ir(c)&&c.isInline()?c.getLastDescendant():r.getLastDescendant(),t||(null===e?r.select():wr(e)?""===e.getTextContent()?e.selectPrevious():e.select():e.selectNext()),0!==i.length)for(t=r,e=i.length-1;0<=e;e--)l=(n=i[e]).getParentOrThrow(),!ir(r)||vn(n)||nr(n)&&(!n.isInline()||n.isIsolated())?ir(r)||vn(n)?ir(n)&&!n.canInsertAfter(r)?(ir(o=l.constructor.clone(l))||I(29),o.append(n),r.insertAfter(o)):r.insertAfter(n):(r.insertBefore(n),r=n):(t===r?r.append(n):r.insertBefore(n),r=n),l.isEmpty()&&!l.canBeEmpty()&&l.remove()}else t||(wr(r)?r.select():(t=r.getParentOrThrow(),e=r.getIndexWithinParent()+1,t.select(e,e)));return!0}insertParagraph(){this.isCollapsed()||this.removeText();var e=this.anchor,t=e.offset,n=[];if("text"===e.type){var r=e.getNode(),i=r.getNextSiblings().reverse(),o=r.getParentOrThrow(),s=o.isInline(),l=s?o.getTextContentSize():r.getTextContentSize();0===t?i.push(r):(s&&(n=o.getNextSiblings()),t===l||s&&t===r.getTextContentSize()||([,r]=r.splitText(t),i.push(r)))}else{if(je(o=e.getNode()))return i=kr(),n=o.getChildAtIndex(t),i.select(),void(null!==n?n.insertBefore(i,!1):o.append(i));i=o.getChildren().slice(t).reverse()}if(r=i.length,0===t&&0<r&&o.isInline()){if(ir(i=(n=o.getParentOrThrow()).insertNewAfter(this,!1)))for(n=n.getChildren(),o=0;o<n.length;o++)i.append(n[o])}else if(null===(s=o.insertNewAfter(this,!1)))this.insertLineBreak();else if(ir(s))if(l=o.getFirstChild(),0===t&&(o.is(e.getNode())||l&&l.is(e.getNode()))&&0<r)o.insertBefore(s);else{if(o=null,t=n.length,e=s.getParentOrThrow(),0<t)for(l=0;l<t;l++)e.append(n[l]);if(0!==r)for(n=0;n<r;n++)t=i[n],null===o?s.append(t):o.insertBefore(t),o=t;s.canBeEmpty()||0!==s.getChildrenSize()?s.selectStart():(s.selectPrevious(),s.remove())}}insertLineBreak(e){let t=fr();var n=this.anchor;"element"===n.type&&(lr(n=n.getNode())&&this.insertParagraph()),e?this.insertNodes([t],!0):this.insertNodes([t])&&t.selectNext(0,0)}getCharacterOffsets(){return _n(this)}extract(){var e=this.getNodes(),t=e.length,n=t-1,r=this.anchor;let i=this.focus;var o=e[0];let s=e[n],[l,a]=_n(this);return 0===t?[]:1===t?wr(o)&&!this.isCollapsed()?(e=l>a?a:l,n=o.splitText(e,l>a?l:a),null!=(e=0===e?n[0]:n[1])?[e]:[]):[o]:(t=r.isBefore(i),wr(o)&&((r=t?l:a)===o.getTextContentSize()?e.shift():0!==r&&([,o]=o.splitText(r),e[0]=o)),wr(s)&&(o=s.getTextContent().length,0===(t=t?a:l)?e.pop():t!==o&&([s]=s.splitText(t),e[n]=s)),e)}modify(e,t,n){var r=this.focus,i=this.anchor,o="move"===e,s=ze(r,t);if(nr(s)&&!s.isIsolated())o&&s.isKeyboardSelectable()?((t=Sn()).add(s.__key),De(t)):wr(e=t?s.getPreviousSibling():s.getNextSibling())?(s=e.__key,t=t?e.getTextContent().length:0,r.set(s,t,"text"),o&&i.set(s,t,"text")):(n=s.getParentOrThrow(),ir(e)?(n=e.__key,s=t?e.getChildrenSize():0):(s=s.getIndexWithinParent(),n=n.__key,t||s++),r.set(n,s,"element"),o&&i.set(n,s,"element"));else if(r=et((i=Wn())._window)){var l=i._blockCursorElement,a=i._rootElement;if(null===a||null===l||!ir(s)||s.isInline()||s.canBeEmpty()||Qe(l,i,a),r.modify(e,t?"backward":"forward",n),0<r.rangeCount&&(s=r.getRangeAt(0),i=lr(i=this.anchor.getNode())?i:Ve(i),this.applyDOMRange(s),this.dirty=!0,!o)){for(o=this.getNodes(),e=[],n=!1,l=0;l<o.length;l++)Ye(a=o[l],i)?e.push(a):n=!0;n&&0<e.length&&(t?ir(t=e[0])?t.selectStart():t.getParentOrThrow().selectStart():ir(t=e[e.length-1])?t.selectEnd():t.getParentOrThrow().selectEnd()),r.anchorNode===s.startContainer&&r.anchorOffset===s.startOffset||(t=this.focus,r=(o=this.anchor).key,s=o.offset,i=o.type,cn(o,t.key,t.offset,t.type),cn(t,r,s,i),this._cachedNodes=null)}}}deleteCharacter(e){if(this.isCollapsed()){var t=this.anchor,n=this.focus,r=t.getNode();if(!e&&("element"===t.type&&ir(r)&&t.offset===r.getChildrenSize()||"text"===t.type&&t.offset===r.getTextContentSize())){var i=r.getParent();if(ir(i=r.getNextSibling()||(null===i?null:i.getNextSibling()))&&!i.canExtractContents())return}if(nr(i=ze(n,e))&&!i.isIsolated())return void(i.isKeyboardSelectable()&&ir(r)&&0===r.getChildrenSize()?(r.remove(),e=Sn(),e.add(i.__key),De(e)):i.remove());if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===t.offset&&("element"===t.type?t.getNode():t.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(i="text"===n.type?n.getNode():null,r="text"===t.type?t.getNode():null,null!==i&&i.isSegmented()){if(t=n.offset,n=i.getTextContentSize(),i.is(r)||e&&t!==n||!e&&0!==t)return void Nn(i,e,t)}else if(null!==r&&r.isSegmented()&&(t=t.offset,n=r.getTextContentSize(),r.is(i)||e&&0!==t||!e&&t!==n))return void Nn(r,e,t);if(r=this.anchor,i=this.focus,(t=r.getNode())===(n=i.getNode())&&"text"===r.type&&"text"===i.type){var o=r.offset,s=i.offset;let l=o<s;(n=l?o:s)!==(o=(s=l?s:o)-1)&&(Re(t=t.getTextContent().slice(n,s))||(e?i.offset=o:r.offset=o))}}}r=this.isCollapsed(),this.removeText(),e&&!r&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset&&((e=this.anchor.getNode()).isEmpty()&&lr(e.getParent())&&0===e.getIndexWithinParent()&&e.collapseAtStart(this))}deleteLine(e){this.isCollapsed()&&("text"===this.anchor.type&&this.modify("extend",e,"lineboundary"),0===(e?this.focus:this.anchor).offset&&this.modify("extend",e,"character")),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function pn(e){return e instanceof un}function mn(e){let t=e.offset;return"text"===e.type?t:t===(e=e.getNode()).getChildrenSize()?e.getTextContent().length:0}function _n(e){let t=e.anchor;return e=e.focus,"element"===t.type&&"element"===e.type&&t.key===e.key&&t.offset===e.offset?[0,0]:[mn(t),mn(e)]}function Nn(e,t,n){let r=e.getTextContent().split(/(?=\s)/g),i=r.length,o=0,s=0;for(let e=0;e<i;e++){let l=e===i-1;if(s=o,o+=r[e].length,t&&o===n||o>n||l){r.splice(e,1),l&&(s=void 0);break}}""===(t=r.join("").trim())?e.remove():(e.setTextContent(t),e.select(s,s))}function yn(e,t,n,r){var i=t;if(1===e.nodeType){let l=!1;var o=e.childNodes,s=o.length;i===s&&(l=!0,i=s-1);let a=o[i];if(s=!1,a===r._blockCursorElement?(a=o[i+1],s=!0):null!==r._blockCursorElement&&i--,wr(r=ke(a)))i=l?r.getTextContentSize():0;else{if(null===(o=ke(e)))return null;if(ir(o)?((t=ir(e=o.getChildAtIndex(i)))&&(t=e.getParent(),t=null===n||null===t||!t.canBeEmpty()||t!==n.getNode()),t&&(null===(n=l?e.getLastDescendant():e.getFirstDescendant())?(o=e,i=0):o=ir(e=n)?e:e.getParentOrThrow()),wr(e)?(r=e,o=null,i=l?e.getTextContentSize():0):e!==o&&l&&!s&&i++):(i=o.getIndexWithinParent(),i=0===t&&nr(o)&&ke(e)===o?i:i+1,o=o.getParentOrThrow()),ir(o))return new on(o.__key,i,"element")}}else r=ke(e);return wr(r)?new on(r.__key,i,"text"):null}function En(e,t,n){var r=e.offset,i=e.getNode();0===r?(r=i.getPreviousSibling(),i=i.getParent(),t?(n||!t)&&null===r&&ir(i)&&i.isInline()&&(wr(t=i.getPreviousSibling())&&(e.key=t.__key,e.offset=t.getTextContent().length)):ir(r)&&!n&&r.isInline()?(e.key=r.__key,e.offset=r.getChildrenSize(),e.type="element"):wr(r)&&(e.key=r.__key,e.offset=r.getTextContent().length)):r===i.getTextContent().length&&(r=i.getNextSibling(),i=i.getParent(),t&&ir(r)&&r.isInline()?(e.key=r.__key,e.offset=0,e.type="element"):(n||t)&&null===r&&ir(i)&&i.isInline()&&!i.canInsertTextAfter()&&(wr(t=i.getNextSibling())&&(e.key=t.__key,e.offset=0)))}function Cn(e,t,n){if("text"===e.type&&"text"===t.type){var r=e.isBefore(t);let i=e.is(t);En(e,r,i),En(t,!r,i),i&&(t.key=e.key,t.offset=e.offset,t.type=e.type),(r=Wn()).isComposing()&&r._compositionKey!==e.key&&dn(n)&&(r=n.anchor,n=n.focus,cn(e,r.key,r.offset,r.type),cn(t,n.key,n.offset,n.type))}}function xn(e,t,n,r,i,o){return null!==e&&null!==n&&fe(i,e,n)?null===(t=yn(e,t,dn(o)?o.anchor:null,i))||null===(r=yn(n,r,dn(o)?o.focus:null,i))||"element"===t.type&&"element"===r.type&&(e=ke(e),n=ke(n),nr(e)&&nr(n))?null:(Cn(t,r,o),[t,r]):null}function vn(e){return ir(e)&&!e.isInline()}function Tn(e,t,n,r,i,o){let s=Hn();return(e=new hn(new on(e,t,i),new on(n,r,o),0,"")).dirty=!0,s._selection=e}function Sn(){return new un(new Set)}function bn(e,t,n){var r=n._window;if(null===r)return null;var i=r.event,o=i?i.type:void 0;let s;if(r="selectionchange"===o,i=!re&&(r||"beforeinput"===o||"compositionstart"===o||"compositionend"===o||"click"===o&&i&&3===i.detail||"drop"===o||void 0===o),dn(e)&&!i)return e.clone();if(null===t)return null;if(i=t.anchorNode,o=t.focusNode,s=t.anchorOffset,t=t.focusOffset,r&&dn(e)&&!fe(n,i,o))return e.clone();if(null===(n=xn(i,s,o,t,n,e)))return null;let[l,a]=n;return new hn(l,a,dn(e)?e.format:0,dn(e)?e.style:"")}function On(){return Hn()._selection}function wn(){return Wn()._editorState._selection}function An(e,t,n,r=1){var i=e.anchor,o=e.focus,s=i.getNode(),l=o.getNode();if(t.is(s)||t.is(l))if(s=t.__key,e.isCollapsed())n<=(t=i.offset)&&(n=Math.max(0,t+r),i.set(s,n,"element"),o.set(s,n,"element"),Dn(e));else{var a=e.isBackward(),c=(l=a?o:i).getNode();o=(i=a?i:o).getNode(),t.is(c)&&(n<=(c=l.offset)&&l.set(s,Math.max(0,c+r),"element")),t.is(o)&&(n<=(t=i.offset)&&i.set(s,Math.max(0,t+r),"element")),Dn(e)}}function Dn(e){var t=e.anchor,n=t.offset;let r=e.focus;var i=r.offset,o=t.getNode(),s=r.getNode();if(e.isCollapsed())ir(o)&&(wr(s=(i=n>=(s=o.getChildrenSize()))?o.getChildAtIndex(s-1):o.getChildAtIndex(n))&&(n=0,i&&(n=s.getTextContentSize()),t.set(s.__key,n,"text"),r.set(s.__key,n,"text")));else{if(ir(o)){let r=o.getChildrenSize();wr(n=(e=n>=r)?o.getChildAtIndex(r-1):o.getChildAtIndex(n))&&(o=0,e&&(o=n.getTextContentSize()),t.set(n.__key,o,"text"))}ir(s)&&(wr(i=(t=i>=(n=s.getChildrenSize()))?s.getChildAtIndex(n-1):s.getChildAtIndex(i))&&(s=0,t&&(s=i.getTextContentSize()),r.set(i.__key,s,"text")))}}function kn(e,t,n,r,i){let o=null,s=0,l=null;null!==r?(o=r.__key,wr(r)?(s=r.getTextContentSize(),l="text"):ir(r)&&(s=r.getChildrenSize(),l="element")):null!==i&&(o=i.__key,wr(i)?l="text":ir(i)&&(l="element")),null!==o&&null!==l?e.set(o,s,l):(s=t.getIndexWithinParent(),-1===s&&(s=n.getChildrenSize()),e.set(n.__key,s,"element"))}function Rn(e,t,n,r,i){"text"===e.type?(e.key=n,t||(e.offset+=i)):e.offset>r.getIndexWithinParent()&&--e.offset}function Mn(e,t,n,r,i,o,s){let l=r.anchorNode,a=r.focusNode,c=r.anchorOffset,u=r.focusOffset,d=document.activeElement;if(!(i.has("collaboration")&&d!==o||null!==d&&ge(d)))if(dn(t)){var g=t.anchor,f=t.focus,h=g.key,p=f.key,m=We(n,h);p=We(n,p);var _=g.offset,N=f.offset,y=t.format,E=t.style,C=t.isCollapsed(),x=m,v=p,T=!1;if("text"===g.type?(x=me(m),T=(m=g.getNode()).getFormat()!==y||m.getStyle()!==E):dn(e)&&"text"===e.anchor.type&&(T=!0),"text"===f.type&&(v=me(p)),null!==x&&null!==v){if(C&&(null===e||T||dn(e)&&(e.format!==y||e.style!==E))&&function(e,t,n,r,i){Xt=[e,t,n,r,i]}(y,E,_,h,performance.now()),c===_&&u===N&&l===x&&a===v&&("Range"!==r.type||!C)&&(null!==d&&o.contains(d)||o.focus({preventScroll:!0}),"element"!==g.type))return;try{Y&&1e3<s?window.requestAnimationFrame(()=>r.setBaseAndExtent(x,_,v,N)):r.setBaseAndExtent(x,_,v,N)}catch(e){}!i.has("skip-scroll-into-view")&&t.isCollapsed()&&null!==o&&o===document.activeElement&&(null!==(e=t instanceof hn&&"element"===t.anchor.type?x.childNodes[_]||null:0<r.rangeCount?r.getRangeAt(0):null)&&function(e,t,n){let r=n.ownerDocument,i=r.defaultView;if(null!==i){var{top:o,bottom:s}=t;for(t=n;null!==t;){if(n=t===r.body)var l=0,a=Ge(e).innerHeight;else{var c=t.getBoundingClientRect();l=c.top,a=c.bottom}if(c=0,o<l?c=-(l-o):s>a&&(c=s-a),0!==c&&(n?i.scrollBy(0,c):(l=t.scrollTop,t.scrollTop+=c,o-=l=t.scrollTop-l,s-=l)),n)break;t=Ue(t)}}}(n,e=e.getBoundingClientRect(),o)),Gt=!0}}else null!==e&&fe(n,l,a)&&r.removeAllRanges()}let $n=null,Ln=null,Pn=!1,In=!1,Fn=0,Bn={characterData:!0,childList:!0,subtree:!0};function zn(){return Pn||null!==$n&&$n._readOnly}function Kn(){Pn&&I(13)}function Hn(){return null===$n&&I(15),$n}function Wn(){return null===Ln&&I(16),Ln}function Un(e,t,n){var r=t.__type;let i=e._nodes.get(r);for(void 0===i&&I(30),void 0===(e=n.get(r))&&(e=Array.from(i.transforms),n.set(r,e)),n=e.length,r=0;r<n&&(e[r](t),t.isAttached());r++);}function Yn(e,t){var n=t.get(e.type);if(void 0===n&&I(17),n=n.klass,e.type!==n.getType()&&I(18),n=n.importJSON(e),e=e.children,ir(n)&&Array.isArray(e))for(let r=0;r<e.length;r++){let i=Yn(e[r],t);n.append(i)}return n}function Gn(e,t){let n=$n,r=Pn,i=Ln;$n=e,Pn=!0,Ln=null;try{return t()}finally{$n=n,Pn=r,Ln=i}}function Vn(t){var n=t._pendingEditorState,r=t._rootElement,i=t._headless||null===r;if(null!==n){var o=t._editorState,s=o._selection,l=n._selection,a=0!==t._dirtyType,c=$n,u=Pn,d=Ln,g=t._updating,f=t._observer,h=null;if(t._pendingEditorState=null,t._editorState=n,!i&&a&&null!==f){Ln=t,$n=n,Pn=!1,t._updating=!0;try{var p=t._dirtyType,m=t._dirtyElements,_=t._dirtyLeaves;f.disconnect(),yt=Et=Nt="",Ct=2===p,vt=null,ct=t,at=t._config,ut=t._nodes,dt=ct._listeners.mutation,gt=m,ft=_,ht=o._nodeMap,pt=n._nodeMap,xt=n._readOnly,mt=new Map(t._keyToDOMMap);var N=new Map;_t=N,Lt("root",null),_t=mt=at=pt=ht=ft=gt=ut=ct=void 0,h=N}catch(e){if(e instanceof Error&&t._onError(e),In)throw e;return Rr(t,null,r,n),ce(t),t._dirtyType=2,In=!0,Vn(t),void(In=!1)}finally{f.observe(r,Bn),t._updating=g,$n=c,Pn=u,Ln=d}}n._readOnly||(n._readOnly=!0),g=t._dirtyLeaves,N=t._dirtyElements,p=t._normalizedNodes,_=t._updateTags,u=t._deferred,m=n._nodeMap.size,a&&(t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set);var y,E=t._decorators,C=t._pendingDecorators||E,x=n._nodeMap;for(y in C)x.has(y)||(C===E&&(C=Oe(t)),delete C[y]);if(i=i?null:et(t._window),t._editable&&null!==i&&(a||null===l||l.dirty)){Ln=t,$n=n;try{if(null!==f&&f.disconnect(),a||null===l||l.dirty){var v=t._blockCursorElement;null!==v&&Qe(v,t,r),Mn(s,l,t,i,_,r,m)}e:{let e=t._blockCursorElement;if(dn(l)&&l.isCollapsed()&&"element"===l.anchor.type&&r.contains(document.activeElement)){let n=l.anchor,i=n.getNode(),o=n.offset,s=i.getChildrenSize();if(a=!1,v=null,o===s){Ze(i.getChildAtIndex(o-1))&&(a=!0)}else{let e=i.getChildAtIndex(o);if(Ze(e)){let n=e.getPreviousSibling();(null===n||Ze(n))&&(a=!0,v=t.getElementByKey(e.__key))}}if(a){let n=t.getElementByKey(i.__key);if(null===e){let n=t._config.theme,r=document.createElement("div");r.contentEditable="false",r.setAttribute("data-lexical-cursor","true");let i=n.blockCursor;if(void 0!==i){if("string"==typeof i){let e=i.split(" ");i=n.blockCursor=e}void 0!==i&&r.classList.add(...i)}t._blockCursorElement=e=r}r.style.caretColor="transparent",null===v?n.appendChild(e):n.insertBefore(e,v);break e}}null!==e&&Qe(e,t,r)}null!==f&&f.observe(r,Bn)}finally{Ln=d,$n=c}}if(null!==h)for(r=h,d=(c=Array.from(t._listeners.mutation)).length,f=0;f<d;f++){let[e,t]=c[f];void 0!==(h=r.get(t))&&e(h,{dirtyLeaves:g,updateTags:_})}if(dn(l)||null===l||null!==s&&s.is(l)||t.dispatchCommand(e,void 0),null!==(s=t._pendingDecorators)&&(t._decorators=s,t._pendingDecorators=null,jn("decorator",t,!0,s)),(s=we(o))!==(l=we(n))&&jn("textcontent",t,!0,l),jn("update",t,!0,{dirtyElements:N,dirtyLeaves:g,editorState:n,normalizedNodes:p,prevEditorState:o,tags:_}),t._deferred=[],0!==u.length){n=t._updating,t._updating=!0;try{for(o=0;o<u.length;o++)u[o]()}finally{t._updating=n}}if(0!==(n=t._updates).length&&(n=n.shift())){let[e,r]=n;qn(t,e,r)}}}function jn(e,t,n,...r){let i=t._updating;t._updating=n;try{let n=Array.from(t._listeners[e]);for(e=0;e<n.length;e++)n[e].apply(null,r)}finally{t._updating=i}}function Jn(e,t,n){if(!1===e._updating||Ln!==e){let r=!1;return e.update(()=>{r=Jn(e,t,n)}),r}let r=Me(e);for(let o=4;0<=o;o--)for(let s=0;s<r.length;s++){var i=r[s]._commands.get(t);if(void 0!==i&&void 0!==(i=i[o])){let t=(i=Array.from(i)).length;for(let r=0;r<t;r++)if(!0===i[r](n,e))return!0}}return!1}function Xn(e,t){let n=e._updates;for(t=t||!1;0!==n.length;){var r=n.shift();if(r){let n,[i,o]=r;void 0!==o&&(r=o.onUpdate,n=o.tag,o.skipTransforms&&(t=!0),r&&e._deferred.push(r),n&&e._updateTags.add(n)),i()}}return t}function qn(e,t,n){let r=e._updateTags;var i,o=i=!1;if(void 0!==n){var s=n.onUpdate;null!=(i=n.tag)&&r.add(i),i=n.skipTransforms||!1,o=n.discrete||!1}s&&e._deferred.push(s);let l=e._editorState;s=!1,(null===(n=e._pendingEditorState)||n._readOnly)&&(n=e._pendingEditorState=new ur(new Map((n||l)._nodeMap)),s=!0),n._flushSync=o,o=$n;let a=Pn,c=Ln,u=e._updating;$n=n,Pn=!1,e._updating=!0,Ln=e;try{s&&(e._headless?null!=l._selection&&(n._selection=l._selection.clone()):n._selection=function(e){let t=e.getEditorState()._selection,n=et(e._window);return pn(t)||fn(t)?t.clone():bn(t,n,e)}(e));let r=e._compositionKey;t(),i=Xn(e,i),function(e,t){if(t=t.getEditorState()._selection,dn(e=e._selection)){var n=e.anchor;let r,i=e.focus;"text"===n.type&&(r=n.getNode(),r.selectionTransform(t,e)),"text"===i.type&&r!==(n=i.getNode())&&n.selectionTransform(t,e)}}(n,e),0!==e._dirtyType&&(i?function(e,t){t=t._dirtyLeaves,e=e._nodeMap;for(let n of t)wr(t=e.get(n))&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&ot(t)}(n,e):function(e,t){let n=t._dirtyLeaves,r=t._dirtyElements;e=e._nodeMap;let i=ve(),o=new Map;var s=n;let l=s.size;for(var a=r,c=a.size;0<l||0<c;){if(0<l){t._dirtyLeaves=new Set;for(let r of s)wr(s=e.get(r))&&s.isAttached()&&s.isSimpleText()&&!s.isUnmergeable()&&ot(s),void 0!==s&&void 0!==s&&s.__key!==i&&s.isAttached()&&Un(t,s,o),n.add(r);if(l=(s=t._dirtyLeaves).size,0<l){Fn++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map;for(let n of a)a=n[0],c=n[1],("root"===a||c)&&(void 0!==(s=e.get(a))&&void 0!==s&&s.__key!==i&&s.isAttached()&&Un(t,s,o),r.set(a,c));l=(s=t._dirtyLeaves).size,c=(a=t._dirtyElements).size,Fn++}t._dirtyLeaves=n,t._dirtyElements=r}(n,e),Xn(e),function(e,t,n,r){e=e._nodeMap,t=t._nodeMap;for(let r of n){let i=t.get(r);void 0===i||i.isAttached()||(e.has(r)||n.delete(r),t.delete(r))}for(let[i]of r)void 0===(n=t.get(i))||n.isAttached()||(ir(n)&&nt(n,i,e,t,r),e.has(i)||r.delete(i),t.delete(i))}(l,n,e._dirtyLeaves,e._dirtyElements)),r!==e._compositionKey&&(n._flushSync=!0);let o=n._selection;if(dn(o)){let e=n._nodeMap,t=o.focus.key;void 0!==e.get(o.anchor.key)&&void 0!==e.get(t)||I(19)}else pn(o)&&0===o._nodes.size&&(n._selection=null)}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=l,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void Vn(e)}finally{$n=o,Pn=a,Ln=c,e._updating=u,Fn=0}t=null!=(t=null!==e._window?window.event:null)?t.type:null,0!==e._dirtyType||function(e,t){if(t=t.getEditorState()._selection,e=e._selection,null!==e){if(e.dirty||!e.is(t))return!0}else if(null!==t)return!0;return!1}(n,e)||null!==e._blockCursorElement&&"blur"===t?n._flushSync?(n._flushSync=!1,Vn(e)):s&&de(()=>{Vn(e)}):(n._flushSync=!1,s&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function Zn(e,t,n){e._updating?e._updates.push([t,n]):qn(e,t,n)}function Qn(e,t,n){Kn();var r=e.__key;let i=e.getParent();if(null!==i){var o=function(e,t=0){if(0!==t&&I(1),!dn(t=On())||!ir(e))return t;let{anchor:n,focus:r}=t,i=n.getNode(),o=r.getNode();return Ye(i,e)&&n.set(e.__key,0,"element"),Ye(o,e)&&r.set(e.__key,0,"element"),t}(e),s=!1;if(dn(o)&&t){let t=o.anchor,n=o.focus;t.key===r&&(kn(t,e,i,e.getPreviousSibling(),e.getNextSibling()),s=!0),n.key===r&&(kn(n,e,i,e.getPreviousSibling(),e.getNextSibling()),s=!0)}dn(o)&&t&&!s?(r=e.getIndexWithinParent(),Ee(e),An(o,i,r,-1)):Ee(e),n||je(i)||i.canBeEmpty()||!i.isEmpty()||Qn(i,t),t&&lr(i)&&i.isEmpty()&&i.selectEnd()}}class er{static getType(){I(64)}static clone(){I(65)}constructor(e){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,ye(this,e)}getType(){return this.__type}isAttached(){for(var e=this.__key;null!==e;){if("root"===e)return!0;if(null===(e=Te(e)))break;e=e.__parent}return!1}isSelected(e){if(null==(e=e||On()))return!1;let t=e.getNodes().some(e=>e.__key===this.__key);return(wr(this)||!dn(e)||"element"!==e.anchor.type||"element"!==e.focus.type||e.anchor.key!==e.focus.key||e.anchor.offset!==e.focus.offset)&&t}getKey(){return this.__key}getIndexWithinParent(){var e=this.getParent();if(null===e)return-1;e=e.getFirstChild();let t=0;for(;null!==e;){if(this.is(e))return t;t++,e=e.getNextSibling()}return-1}getParent(){let e=this.getLatest().__parent;return null===e?null:Te(e)}getParentOrThrow(){let e=this.getParent();return null===e&&I(66),e}getTopLevelElement(){let e=this;for(;null!==e;){let t=e.getParent();if(je(t))return e;e=t}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return null===e&&I(67),e}getParents(){let e=[],t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){let e=[],t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return null===e?null:Te(e)}getPreviousSiblings(){let e=[];var t=this.getParent();if(null===t)return e;for(t=t.getFirstChild();null!==t&&!t.is(this);)e.push(t),t=t.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return null===e?null:Te(e)}getNextSiblings(){let e=[],t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){let t=this.getParents();var n=e.getParents();ir(this)&&t.unshift(this),ir(e)&&n.unshift(e),e=t.length;var r=n.length;if(0===e||0===r||t[e-1]!==n[r-1])return null;for(n=new Set(n),r=0;r<e;r++){let e=t[r];if(n.has(e))return e}return null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;var t=this.getCommonAncestor(e);let n=this;for(;;){var r=n.getParentOrThrow();if(r===t){r=n.getIndexWithinParent();break}n=r}for(n=e;;){if((e=n.getParentOrThrow())===t){t=n.getIndexWithinParent();break}n=e}return r<t}isParentOf(e){let t=this.__key;if(t===e.__key)return!1;for(;null!==e;){if(e.__key===t)return!0;e=e.getParent()}return!1}getNodesBetween(e){let t=this.isBefore(e),n=[],r=new Set;for(var i=this;;){var o=i.__key;if(r.has(o)||(r.add(o),n.push(i)),i===e)break;if(null!==(o=ir(i)?t?i.getFirstChild():i.getLastChild():null))i=o;else if(null!==(o=t?i.getNextSibling():i.getPreviousSibling()))i=o;else{if(i=i.getParentOrThrow(),r.has(i.__key)||n.push(i),i===e)break;o=i;do{null===o&&I(68),i=t?o.getNextSibling():o.getPreviousSibling(),null!==(o=o.getParent())&&(null!==i||r.has(o.__key)||n.push(o))}while(null===i)}}return t||n.reverse(),n}isDirty(){let e=Wn()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){let e=Te(this.__key);if(null===e)throw Error("Lexical node does not exist in active editor state. Avoid using the same node references between nested closures from editorState.read/editor.update.");return e}getWritable(){Kn();var e=Hn(),t=Wn();e=e._nodeMap;let n=this.__key,r=this.getLatest(),i=r.__parent;t=t._cloneNotNeeded;var o=On();return null!==o&&(o._cachedNodes=null),t.has(n)?(Ce(r),r):((o=r.constructor.clone(r)).__parent=i,o.__next=r.__next,o.__prev=r.__prev,ir(r)&&ir(o)?(o.__first=r.__first,o.__last=r.__last,o.__size=r.__size,o.__indent=r.__indent,o.__format=r.__format,o.__dir=r.__dir):wr(r)&&wr(o)&&(o.__format=r.__format,o.__style=r.__style,o.__mode=r.__mode,o.__detail=r.__detail),t.add(n),o.__key=n,Ce(o),e.set(n,o),o)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){I(70)}updateDOM(){I(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){I(72)}static importJSON(){I(18)}remove(e){Qn(this,!0,e)}replace(e,t){Kn();var n=On();null!==n&&(n=n.clone()),qe(this,e);let r=this.getLatest(),i=this.__key,o=e.__key,s=e.getWritable(),l=(e=this.getParentOrThrow().getWritable()).__size;Ee(s);let a=r.getPreviousSibling(),c=r.getNextSibling(),u=r.__prev,d=r.__next,g=r.__parent;return Qn(r,!1,!0),null===a?e.__first=o:a.getWritable().__next=o,s.__prev=u,null===c?e.__last=o:c.getWritable().__prev=o,s.__next=d,s.__parent=g,e.__size=l,t&&this.getChildren().forEach(e=>{s.append(e)}),dn(n)&&(De(n),t=n.anchor,n=n.focus,t.key===i&&ln(t,s),n.key===i&&ln(n,s)),ve()===i&&xe(o),s}insertAfter(e,t=!0){Kn(),qe(this,e);var n=this.getWritable();let r=e.getWritable();var i=r.getParent();let o=On();var s=!1,l=!1;if(null!==i){var a=e.getIndexWithinParent();Ee(r),dn(o)&&(l=i.__key,s=o.anchor,i=o.focus,s="element"===s.type&&s.key===l&&s.offset===a+1,l="element"===i.type&&i.key===l&&i.offset===a+1)}i=this.getNextSibling(),a=this.getParentOrThrow().getWritable();let c=r.__key,u=n.__next;return null===i?a.__last=c:i.getWritable().__prev=c,a.__size++,n.__next=c,r.__next=u,r.__prev=n.__key,r.__parent=n.__parent,t&&dn(o)&&(An(o,a,(t=this.getIndexWithinParent())+1),n=a.__key,s&&o.anchor.set(n,t+2,"element"),l&&o.focus.set(n,t+2,"element")),e}insertBefore(e,t=!0){Kn(),qe(this,e);var n=this.getWritable();let r=e.getWritable(),i=r.__key;Ee(r);let o=this.getPreviousSibling(),s=this.getParentOrThrow().getWritable(),l=n.__prev,a=this.getIndexWithinParent();return null===o?s.__first=i:o.getWritable().__next=i,s.__size++,n.__prev=i,r.__prev=l,r.__next=n.__key,r.__parent=n.__parent,n=On(),t&&dn(n)&&An(n,t=this.getParentOrThrow(),a),e}isParentRequired(){return!1}createParentElementNode(){return kr()}selectPrevious(e,t){Kn();let n=this.getPreviousSibling(),r=this.getParentOrThrow();return null===n?r.select(0,0):ir(n)?n.select():wr(n)?n.select(e,t):(e=n.getIndexWithinParent()+1,r.select(e,e))}selectNext(e,t){Kn();let n=this.getNextSibling(),r=this.getParentOrThrow();return null===n?r.select():ir(n)?n.select(0,0):wr(n)?n.select(e,t):(e=n.getIndexWithinParent(),r.select(e,e))}markDirty(){this.getWritable()}}class tr extends er{constructor(e){super(e)}decorate(){I(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function nr(e){return e instanceof tr}class rr extends er{constructor(e){super(e),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){let e=this.getFormat();return ee[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){let e=[],t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){let e=Wn()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){let e=[],t=this.getFirstChild();for(;null!==t;){if(wr(t)&&e.push(t),ir(t)){let n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;null!==e;){if(ir(e)){let t=e.getFirstChild();if(null!==t){e=t;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;null!==e;){if(ir(e)){let t=e.getLastChild();if(null!==t){e=t;continue}}break}return e}getDescendantByIndex(e){let t=this.getChildren(),n=t.length;return e>=n?ir(e=t[n-1])&&e.getLastDescendant()||e||null:ir(e=t[e])&&e.getFirstDescendant()||e||null}getFirstChild(){let e=this.getLatest().__first;return null===e?null:Te(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return null===e&&I(45),e}getLastChild(){let e=this.getLatest().__last;return null===e?null:Te(e)}getLastChildOrThrow(){let e=this.getLastChild();return null===e&&I(96),e}getChildAtIndex(e){var t=this.getChildrenSize();let n;if(e<t/2){for(n=this.getFirstChild(),t=0;null!==n&&t<=e;){if(t===e)return n;n=n.getNextSibling(),t++}return null}for(n=this.getLastChild(),--t;null!==n&&t>=e;){if(t===e)return n;n=n.getPreviousSibling(),t--}return null}getTextContent(){let e="",t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){let i=t[r];e+=i.getTextContent(),ir(i)&&r!==n-1&&!i.isInline()&&(e+="\n\n")}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){return""!==e&&(e=Q[e],0!==(this.getFormat()&e))}select(e,t){Kn();let n=On(),r=e,i=t;var o=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){if(wr(e=this.getFirstChild())||ir(e))return e.select(0,0)}else if(!(void 0!==e&&e!==o||void 0!==t&&t!==o)&&(wr(e=this.getLastChild())||ir(e)))return e.select();return void 0===r&&(r=o),void 0===i&&(i=o),o=this.__key,dn(n)?(n.anchor.set(o,r,"element"),n.focus.set(o,i,"element"),n.dirty=!0,n):Tn(o,r,o,i,"element","element")}selectStart(){let e=this.getFirstDescendant();return ir(e)||wr(e)?e.select(0,0):null!==e?e.selectPrevious():this.select(0,0)}selectEnd(){let e=this.getLastDescendant();return ir(e)||wr(e)?e.select():null!==e?e.selectNext():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach(e=>e.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?Q[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){let r=n.length,i=this.getChildrenSize(),o=this.getWritable(),s=o.__key;var l=[],a=[];let c=this.getChildAtIndex(e+t),u=null,d=i-t+r;if(0!==e)if(e===i)u=this.getLastChild();else{var g=this.getChildAtIndex(e);null!==g&&(u=g.getPreviousSibling())}if(0<t){var f=null===u?this.getFirstChild():u.getNextSibling();for(g=0;g<t;g++){null===f&&I(100);var h=f.getNextSibling(),p=f.__key;Ee(f=f.getWritable()),a.push(p),f=h}}for(g=u,h=0;h<r;h++){p=n[h],null!==g&&p.is(g)&&(u=g=g.getPreviousSibling()),(f=p.getWritable()).__parent===s&&d--,Ee(f);let e=p.__key;null===g?(o.__first=e,f.__prev=null):((g=g.getWritable()).__next=e,f.__prev=g.__key),p.__key===s&&I(76),f.__parent=s,l.push(e),g=p}if(e+t===i?null!==g&&(g.getWritable().__next=null,o.__last=g.__key):null!==c&&(e=c.getWritable(),null!==g?(t=g.getWritable(),e.__prev=g.__key,t.__next=c.__key):e.__prev=null),o.__size=d,a.length&&dn(e=On())){a=new Set(a),l=new Set(l);let{anchor:t,focus:n}=e;or(t,a,l)&&kn(t,t.getNode(),this,u,c),or(n,a,l)&&kn(n,n.getNode(),this,u,c),0!==d||this.canBeEmpty()||je(this)||this.remove()}return o}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canInsertTab(){return!1}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function ir(e){return e instanceof rr}function or(e,t,n){for(e=e.getNode();e;){let r=e.__key;if(t.has(r)&&!n.has(r))return!0;e=e.getParent()}return!1}class sr extends rr{static getType(){return"root"}static clone(){return new sr}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){I(51)}getTextContent(){let e=this.__cachedText;return!zn()&&0!==Wn()._dirtyType||null===e?super.getTextContent():e}remove(){I(52)}replace(){I(53)}insertBefore(){I(54)}insertAfter(){I(55)}updateDOM(){return!1}append(...e){for(let t=0;t<e.length;t++){let n=e[t];ir(n)||nr(n)||I(56)}return super.append(...e)}static importJSON(e){let t=Ae();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function lr(e){return e instanceof sr}function ar(){return new ur(new Map([["root",new sr]]))}function cr(e){let t=e.exportJSON();t.type!==e.constructor.getType()&&I(58);let n=t.children;if(ir(e)){Array.isArray(n)||I(59),e=e.getChildren();for(let t=0;t<e.length;t++){let r=cr(e[t]);n.push(r)}}return t}class ur{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._readOnly=this._flushSync=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e){return Gn(this,e)}clone(e){return(e=new ur(this._nodeMap,void 0===e?this._selection:e))._readOnly=!0,e}toJSON(){return Gn(this,()=>({root:cr(Ae())}))}}class dr extends er{static getType(){return"linebreak"}static clone(e){return new dr(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>{let t=e.parentElement;return null!=t&&t.firstChild===e&&t.lastChild===e?null:{conversion:gr,priority:0}}}}static importJSON(){return fr()}exportJSON(){return{type:"linebreak",version:1}}}function gr(){return{node:fr()}}function fr(){return Xe(new dr)}function hr(e){return e instanceof dr}function pr(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function mr(e,t){return 1&t?"strong":2&t?"em":"span"}function _r(e,t,n,r,i){e=r.classList,void 0!==(r=Ie(i,"base"))&&e.add(...r);let o=!1,s=8&t&&4&t;var l=8&n&&4&n;void 0!==(r=Ie(i,"underlineStrikethrough"))&&(l?(o=!0,s||e.add(...r)):s&&e.remove(...r));for(let a in q)l=q[a],void 0!==(r=Ie(i,a))&&(n&l&&(!o||"underline"!==a&&"strikethrough"!==a)?(0===(t&l)||s&&"underline"===a||"strikethrough"===a)&&e.add(...r):t&l&&e.remove(...r))}function Nr(e,t,n){let r=t.firstChild;if(e+=(n=n.isComposing())?V:"",null==r)t.textContent=e;else if((t=r.nodeValue)!==e)if(n||K){n=t.length;let i=e.length,o=0,s=0;for(;o<n&&o<i&&t[o]===e[o];)o++;for(;s+o<n&&s+o<i&&t[n-s-1]===e[i-s-1];)s++;e=[o,n-o-s,e.slice(o,i-s)];let[l,a,c]=e;0!==a&&r.deleteData(l,a),r.insertData(l,c)}else r.nodeValue=e}function yr(e,t){return(t=document.createElement(t)).appendChild(e),t}class Er extends er{static getType(){return"text"}static clone(e){return new Er(e.__text,e.__key)}constructor(e,t){super(t),this.__text=e,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let e=this.getLatest();return ne[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===ve()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){return e=q[e],0!==(this.getFormat()&e)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return _e(this.getLatest().__format,e,t)}createDOM(e){var t=this.__format,n=pr(0,t);let r=mr(0,t),i=document.createElement(null===n?r:n),o=i;return null!==n&&(o=document.createElement(r),i.appendChild(o)),n=o,Nr(this.__text,n,this),void 0!==(e=e.theme.text)&&_r(r,0,t,n,e),""!==(t=this.__style)&&(i.style.cssText=t),i}updateDOM(e,t,n){let r=this.__text;var i=e.__format,o=this.__format,s=pr(0,i);let l=pr(0,o);var a=mr(0,i);let c=mr(0,o);return(null===s?a:s)!==(null===l?c:l)||(s===l&&a!==c?(null==(i=t.firstChild)&&I(48),Nr(r,e=s=document.createElement(c),this),void 0!==(n=n.theme.text)&&_r(c,0,o,e,n),t.replaceChild(s,i),!1):(a=t,null!==l&&null!==s&&(null==(a=t.firstChild)&&I(49)),Nr(r,a,this),void 0!==(n=n.theme.text)&&i!==o&&_r(c,i,o,a,n),o=this.__style,e.__style!==o&&(t.style.cssText=o),!1))}static importDOM(){return{"#text":()=>({conversion:Tr,priority:0}),b:()=>({conversion:vr,priority:0}),br:()=>({conversion:xr,priority:0}),code:()=>({conversion:br,priority:0}),em:()=>({conversion:br,priority:0}),i:()=>({conversion:br,priority:0}),s:()=>({conversion:br,priority:0}),span:()=>({conversion:Cr,priority:0}),strong:()=>({conversion:br,priority:0}),sub:()=>({conversion:br,priority:0}),sup:()=>({conversion:br,priority:0}),u:()=>({conversion:br,priority:0})}}static importJSON(e){let t=Or(e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportDOM(e){return({element:e}=super.exportDOM(e)),null!==e&&(this.hasFormat("bold")&&(e=yr(e,"b")),this.hasFormat("italic")&&(e=yr(e,"i")),this.hasFormat("strikethrough")&&(e=yr(e,"s")),this.hasFormat("underline")&&(e=yr(e,"u"))),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(e){let t=this.getWritable();return t.__format="string"==typeof e?q[e]:e,t}setDetail(e){let t=this.getWritable();return t.__detail="string"==typeof e?Z[e]:e,t}setStyle(e){let t=this.getWritable();return t.__style=e,t}toggleFormat(e){return e=q[e],this.setFormat(this.getFormat()^e)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){if(e=te[e],this.__mode===e)return this;let t=this.getWritable();return t.__mode=e,t}setTextContent(e){if(this.__text===e)return this;let t=this.getWritable();return t.__text=e,t}select(e,t){Kn();let n=On();var r=this.getTextContent();let i=this.__key;return"string"==typeof r?(r=r.length,void 0===e&&(e=r),void 0===t&&(t=r)):t=e=0,dn(n)?((r=ve())!==n.anchor.key&&r!==n.focus.key||xe(i),n.setTextNodeRange(this,e,this,t),n):Tn(i,e,i,t,"text","text")}spliceText(e,t,n,r){let i=this.getWritable(),o=i.__text,s=n.length,l=e;0>l&&(l=s+l,0>l&&(l=0));let a=On();return r&&dn(a)&&(e+=s,a.setTextNodeRange(i,e,i,e)),t=o.slice(0,l)+n+o.slice(l+t),i.__text=t,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}canContainTabs(){return!1}splitText(...e){Kn();var t=this.getLatest(),n=t.getTextContent(),r=t.__key,i=ve(),o=new Set(e);e=[];for(var s=n.length,l="",a=0;a<s;a++)""!==l&&o.has(a)&&(e.push(l),l=""),l+=n[a];if(""!==l&&e.push(l),0===(o=e.length))return[];if(e[0]===n)return[t];var c=e[0];n=t.getParentOrThrow(),a=t.getFormat();let u=t.getStyle(),d=t.__detail;s=!1,t.isSegmented()?((l=Or(c)).__format=a,l.__style=u,l.__detail=d,s=!0):(l=t.getWritable()).__text=c,t=On(),l=[l],c=c.length;for(let n=1;n<o;n++){var g=e[n],f=g.length;(g=Or(g).getWritable()).__format=a,g.__style=u,g.__detail=d;let o=g.__key;if(f=c+f,dn(t)){let e=t.anchor,n=t.focus;e.key===r&&"text"===e.type&&e.offset>c&&e.offset<=f&&(e.key=o,e.offset-=c,t.dirty=!0),n.key===r&&"text"===n.type&&n.offset>c&&n.offset<=f&&(n.key=o,n.offset-=c,t.dirty=!0)}i===r&&xe(o),c=f,l.push(g)}return r=this.getPreviousSibling(),i=this.getNextSibling(),null!==r&&Ce(r),null!==i&&Ce(i),r=n.getWritable(),i=this.getIndexWithinParent(),s?(r.splice(i,0,l),this.remove()):r.splice(i,1,l),dn(t)&&An(t,n,i,o-1),l}mergeWithSibling(e){var t=e===this.getPreviousSibling();t||e===this.getNextSibling()||I(50);var n=this.__key;let r=e.__key,i=this.__text,o=i.length;ve()===r&&xe(n);let s=On();if(dn(s)){let i=s.anchor,l=s.focus;null!==i&&i.key===r&&(Rn(i,t,n,e,o),s.dirty=!0),null!==l&&l.key===r&&(Rn(l,t,n,e,o),s.dirty=!0)}return n=e.__text,this.setTextContent(t?n+i:i+n),t=this.getWritable(),e.remove(),t}isTextEntity(){return!1}}function Cr(e){let t="700"===e.style.fontWeight,n="line-through"===e.style.textDecoration,r="italic"===e.style.fontStyle,i="underline"===e.style.textDecoration,o=e.style.verticalAlign;return{forChild:e=>wr(e)?(t&&e.toggleFormat("bold"),n&&e.toggleFormat("strikethrough"),r&&e.toggleFormat("italic"),i&&e.toggleFormat("underline"),"sub"===o&&e.toggleFormat("subscript"),"super"===o&&e.toggleFormat("superscript"),e):e,node:null}}function xr(){return{node:fr()}}function vr(e){let t="normal"===e.style.fontWeight;return{forChild:e=>(wr(e)&&!t&&e.toggleFormat("bold"),e),node:null}}function Tr(e,t,n){return e=e.textContent||"",!n&&/\n/.test(e)&&0===(e=e.replace(/\r?\n/gm," ")).trim().length?{node:null}:{node:Or(e)}}let Sr={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function br(e){let t=Sr[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:e=>(wr(e)&&!e.hasFormat(t)&&e.toggleFormat(t),e),node:null}}function Or(e=""){return Xe(new Er(e))}function wr(e){return e instanceof Er}class Ar extends rr{static getType(){return"paragraph"}static clone(e){return new Ar(e.__key)}createDOM(e){let t=document.createElement("p");return void 0!==(e=Ie(e.theme,"paragraph"))&&t.classList.add(...e),t}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:Dr,priority:0})}}exportDOM(e){if(({element:e}=super.exportDOM(e)),e&&this.isEmpty()&&e.append(document.createElement("br")),e){var t=this.getFormatType();e.style.textAlign=t,(t=this.getDirection())&&(e.dir=t),0<(t=this.getIndent())&&(e.style.textIndent=20*t+"px")}return{element:e}}static importJSON(e){let t=kr();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(e,t){e=kr();let n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}collapseAtStart(){let e=this.getChildren();if(0===e.length||wr(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function Dr(e){let t=kr();return e.style&&(t.setFormat(e.style.textAlign),0<(e=parseInt(e.style.textIndent,10)/20)&&t.setIndent(e)),{node:t}}function kr(){return Xe(new Ar)}function Rr(e,t,n,r){let i=e._keyToDOMMap;i.clear(),e._editorState=ar(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=0,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null,null!==(r=e._observer)&&(r.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",i.set("root",n))}class Mr{constructor(e,t,n,r,i,o){this._parentEditor=t,this._rootElement=null,this._editorState=e,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=$e(),this._onError=i,this._htmlConversions=o,this._editable=!0,this._headless=null!==t&&t._headless,this._blockCursorElement=this._window=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){let t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){let t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){let t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){let t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){let t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){void 0===n&&I(35);let r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);let i=r.get(e);void 0===i&&I(36);let o=i[n];return o.add(t),()=>{o.delete(t),i.every(e=>0===e.size)&&r.delete(e)}}registerMutationListener(e,t){void 0===this._nodes.get(e.getType())&&I(37);let n=this._listeners.mutation;return n.set(t,e),()=>{n.delete(t)}}registerNodeTransformToKlass(e,t){return e=e.getType(),void 0===(e=this._nodes.get(e))&&I(37),e.transforms.add(t),e}registerNodeTransform(e,t){var n=this.registerNodeTransformToKlass(e,t);let r=[n];return null!=(n=n.replaceWithKlass)&&(n=this.registerNodeTransformToKlass(n,t),r.push(n)),function(e,t){Zn(e,()=>{var e=Hn();if(!e.isEmpty())if("root"===t)Ae().markDirty();else{e=e._nodeMap;for(let[,t]of e)t.markDirty()}},null===e._pendingEditorState?{tag:"history-merge"}:void 0)}(this,e.getType()),()=>{r.forEach(e=>e.transforms.delete(t))}}hasNodes(e){for(let t=0;t<e.length;t++){let n=e[t].getType();if(!this._nodes.has(n))return!1}return!0}dispatchCommand(e,t){return Jn(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let t=this._rootElement;if(e!==t){let i=Ie(this._config.theme,"root");var n=this._pendingEditorState||this._editorState;if(this._rootElement=e,Rr(this,t,e,n),null!==t){if(!this._config.disableEvents){if(0!==Yt&&(Yt--,0===Yt&&t.ownerDocument.removeEventListener("selectionchange",rn)),null!=(n=t.__lexicalEditor)){if(null!==n._parentEditor){var r=Me(n);r=r[r.length-1]._key,nn.get(r)===n&&nn.delete(r)}else nn.delete(n._key);t.__lexicalEditor=null}for(n=tn(t),r=0;r<n.length;r++)n[r]();t.__lexicalEventHandles=[]}null!=i&&t.classList.remove(...i)}null!==e?(n=(n=e.ownerDocument)&&n.defaultView||null,(r=e.style).userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=n,this._dirtyType=2,ce(this),this._updateTags.add("history-merge"),Vn(this),this._config.disableEvents||function(e,t){0===Yt&&e.ownerDocument.addEventListener("selectionchange",rn),Yt++,e.__lexicalEditor=t;let n=tn(e);for(let r=0;r<zt.length;r++){let[i,o]=zt[r],l="function"==typeof o?e=>{!0!==e._lexicalHandled&&(e._lexicalHandled=!0,t.isEditable()&&o(e,t))}:e=>{if(!0!==e._lexicalHandled&&(e._lexicalHandled=!0,t.isEditable()))switch(i){case"cut":return Jn(t,M,e);case"copy":return Jn(t,R,e);case"paste":return Jn(t,s,e);case"dragstart":return Jn(t,A,e);case"dragover":return Jn(t,D,e);case"dragend":return Jn(t,k,e);case"focus":return Jn(t,$,e);case"blur":return Jn(t,L,e);case"drop":return Jn(t,w,e)}};e.addEventListener(i,l),n.push(()=>{e.removeEventListener(i,l)})}}(e,this),null!=i&&e.classList.add(...i)):this._window=null,jn("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&I(38),ae(this);let n=this._pendingEditorState,r=this._updateTags;t=void 0!==t?t.tag:null,null===n||n.isEmpty()||(null!=t&&r.add(t),Vn(this)),this._pendingEditorState=e,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=t&&r.add(t),Vn(this)}parseEditorState(e,t){e="string"==typeof e?JSON.parse(e):e;let n=ar(),r=$n,i=Pn,o=Ln,s=this._dirtyElements,l=this._dirtyLeaves,a=this._cloneNotNeeded,c=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,$n=n,Pn=!1,Ln=this;try{Yn(e.root,this._nodes),t&&t(),n._readOnly=!0}finally{this._dirtyElements=s,this._dirtyLeaves=l,this._cloneNotNeeded=a,this._dirtyType=c,$n=r,Pn=i,Ln=o}return n}update(e,t){Zn(this,e,t)}focus(e,t={}){let n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),Zn(this,()=>{let e=On(),n=Ae();null!==e?e.dirty=!0:0!==n.getChildrenSize()&&("rootStart"===t.defaultSelection?n.selectStart():n.selectEnd())},{onUpdate:()=>{n.removeAttribute("autocapitalize"),e&&e()}}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){var e=this._rootElement;null!==e&&e.blur(),null!==(e=et(this._window))&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,jn("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}class $r extends rr{constructor(e,t){super(t),this.__colSpan=e}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan}}}function Lr(e){return e instanceof $r}class Pr extends rr{}function Ir(e){return e instanceof Pr}class Fr extends rr{}function Br(e){return e instanceof Fr}return g.$addUpdateTag=function(e){Kn(),Wn()._updateTags.add(e)},g.$applyNodeReplacement=Xe,g.$copyNode=Je,g.$createLineBreakNode=fr,g.$createNodeSelection=Sn,g.$createParagraphNode=kr,g.$createRangeSelection=function(){let e=new on("root",0,"element"),t=new on("root",0,"element");return new hn(e,t,0,"")},g.$createTextNode=Or,g.$getAdjacentNode=ze,g.$getNearestNodeFromDOMNode=be,g.$getNearestRootOrShadowRoot=Ve,g.$getNodeByKey=Te,g.$getPreviousSelection=wn,g.$getRoot=Ae,g.$getSelection=On,g.$getTextContent=function(){let e=On();return null===e?"":e.getTextContent()},g.$hasAncestor=Ye,g.$insertNodes=function(e,t){let n=On();return null===n&&(n=Ae().selectEnd()),n.insertNodes(e,t)},g.$isDecoratorNode=nr,g.$isElementNode=ir,g.$isInlineElementOrDecoratorNode=function(e){return ir(e)&&e.isInline()||nr(e)&&e.isInline()},g.$isLeafNode=Ne,g.$isLineBreakNode=hr,g.$isNodeSelection=pn,g.$isParagraphNode=function(e){return e instanceof Ar},g.$isRangeSelection=dn,g.$isRootNode=lr,g.$isRootOrShadowRoot=je,g.$isTextNode=wr,g.$nodesOfType=function(e){var t=Hn();let n=t._readOnly,r=e.getType();t=t._nodeMap;let i=[];for(let[,o]of t)o instanceof e&&o.__type===r&&(n||o.isAttached())&&i.push(o);return i},g.$normalizeSelection__EXPERIMENTAL=st,g.$parseSerializedNode=function(e){return Yn(e,Wn()._nodes)},g.$setCompositionKey=xe,g.$setSelection=De,g.$splitNode=tt,g.BLUR_COMMAND=L,g.CAN_REDO_COMMAND={},g.CAN_UNDO_COMMAND={},g.CLEAR_EDITOR_COMMAND={},g.CLEAR_HISTORY_COMMAND={},g.CLICK_COMMAND=t,g.COMMAND_PRIORITY_CRITICAL=4,g.COMMAND_PRIORITY_EDITOR=0,g.COMMAND_PRIORITY_HIGH=3,g.COMMAND_PRIORITY_LOW=1,g.COMMAND_PRIORITY_NORMAL=2,g.CONTROLLED_TEXT_INSERTION_COMMAND=o,g.COPY_COMMAND=R,g.CUT_COMMAND=M,g.DELETE_CHARACTER_COMMAND=n,g.DELETE_LINE_COMMAND=c,g.DELETE_WORD_COMMAND=a,g.DEPRECATED_$createGridSelection=function(){let e=new on("root",0,"element"),t=new on("root",0,"element");return new gn("root",e,t)},g.DEPRECATED_$isGridCellNode=Lr,g.DEPRECATED_$isGridNode=Ir,g.DEPRECATED_$isGridRowNode=Br,g.DEPRECATED_$isGridSelection=fn,g.DEPRECATED_GridCellNode=$r,g.DEPRECATED_GridNode=Pr,g.DEPRECATED_GridRowNode=Fr,g.DRAGEND_COMMAND=k,g.DRAGOVER_COMMAND=D,g.DRAGSTART_COMMAND=A,g.DROP_COMMAND=w,g.DecoratorNode=tr,g.ElementNode=rr,g.FOCUS_COMMAND=$,g.FORMAT_ELEMENT_COMMAND={},g.FORMAT_TEXT_COMMAND=u,g.INDENT_CONTENT_COMMAND={},g.INSERT_LINE_BREAK_COMMAND=r,g.INSERT_PARAGRAPH_COMMAND=i,g.KEY_ARROW_DOWN_COMMAND=C,g.KEY_ARROW_LEFT_COMMAND=N,g.KEY_ARROW_RIGHT_COMMAND=m,g.KEY_ARROW_UP_COMMAND=E,g.KEY_BACKSPACE_COMMAND=T,g.KEY_DELETE_COMMAND=b,g.KEY_DOWN_COMMAND=p,g.KEY_ENTER_COMMAND=x,g.KEY_ESCAPE_COMMAND=S,g.KEY_MODIFIER_COMMAND=P,g.KEY_SPACE_COMMAND=v,g.KEY_TAB_COMMAND=O,g.LineBreakNode=dr,g.MOVE_TO_END=_,g.MOVE_TO_START=y,g.OUTDENT_CONTENT_COMMAND={},g.PASTE_COMMAND=s,g.ParagraphNode=Ar,g.REDO_COMMAND=h,g.REMOVE_TEXT_COMMAND=l,g.RootNode=sr,g.SELECTION_CHANGE_COMMAND=e,g.TextNode=Er,g.UNDO_COMMAND=f,g.createCommand=function(){return{}},g.createEditor=function(e){var t=e||{},n=Ln,r=t.theme||{};let i=void 0===e?n:t.parentEditor||null,o=t.disableEvents||!1,s=ar(),l=t.namespace||(null!==i?i._config.namespace:$e()),a=t.editorState,c=[sr,Er,dr,Ar,...t.nodes||[]],u=t.onError;if(t=void 0===t.editable||t.editable,void 0===e&&null!==n)e=n._nodes;else for(e=new Map,n=0;n<c.length;n++){let t=c[n],r=null;var d=null;"function"!=typeof t&&(t=(d=t).replace,r=d.with,d=d.withKlass?d.withKlass:null);let i=t.getType();e.set(i,{klass:t,replace:r,replaceWithKlass:d,transforms:new Set})}return r=new Mr(s,i,e,{disableEvents:o,namespace:l,theme:r},u||console.error,function(e){let t=new Map,n=new Set;return e.forEach(e=>{if(null!=(e=null!=e.klass.importDOM?e.klass.importDOM.bind(e.klass):null)&&!n.has(e)){n.add(e);var r=e();null!==r&&Object.keys(r).forEach(e=>{let n=t.get(e);void 0===n&&(n=[],t.set(e,n)),n.push(r[e])})}}),t}(e),t),void 0!==a&&(r._pendingEditorState=a,r._dirtyType=2),r},g.isSelectionWithinEditor=fe,g}();var p,m={};const _="development"===process.env.NODE_ENV?function(){if(f)return i;f=1;var e=c,n=h,r=t;const o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;var s=o?r.useLayoutEffect:r.useEffect;const l={tag:"history-merge"};return i.LexicalComposer=function({initialConfig:t,children:i}){const a=r.useMemo(()=>{const{theme:r,namespace:i,editor__DEPRECATED:s,nodes:a,onError:c,editorState:u}=t,d=e.createLexicalComposerContext(null,r);let g=s||null;if(null===g){const e=n.createEditor({editable:!1,namespace:i,nodes:a,onError:t=>c(t,e),theme:r});!function(e,t){if(null===t)return;if(void 0===t)e.update(()=>{const t=n.$getRoot();if(t.isEmpty()){const r=n.$createParagraphNode();t.append(r);const i=o?document.activeElement:null;(null!==n.$getSelection()||null!==i&&i===e.getRootElement())&&r.select()}},l);else if(null!==t)switch(typeof t){case"string":{const n=e.parseEditorState(t);e.setEditorState(n,l);break}case"object":e.setEditorState(t,l);break;case"function":e.update(()=>{n.$getRoot().isEmpty()&&t(e)},l)}}(e,u),g=e}return[g,d]},[]);return s(()=>{const e=t.editable,[n]=a;n.setEditable(void 0===e||e)},[]),r.createElement(e.LexicalComposerContext.Provider,{value:a},i)},i}():function(){if(p)return m;p=1;var e=c,n=h,r=t;let i="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;var o=i?r.useLayoutEffect:r.useEffect;let s={tag:"history-merge"};return m.LexicalComposer=function({initialConfig:t,children:l}){let a=r.useMemo(()=>{const{theme:r,namespace:o,editor__DEPRECATED:l,nodes:a,onError:c,editorState:u}=t,d=e.createLexicalComposerContext(null,r);let g=l||null;if(null===g){const e=n.createEditor({editable:!1,namespace:o,nodes:a,onError:t=>c(t,e),theme:r});!function(e,t){if(null!==t)if(void 0===t)e.update(()=>{var t=n.$getRoot();if(t.isEmpty()){let r=n.$createParagraphNode();t.append(r),t=i?document.activeElement:null,(null!==n.$getSelection()||null!==t&&t===e.getRootElement())&&r.select()}},s);else if(null!==t)switch(typeof t){case"string":let r=e.parseEditorState(t);e.setEditorState(r,s);break;case"object":e.setEditorState(t,s);break;case"function":e.update(()=>{n.$getRoot().isEmpty()&&t(e)},s)}}(e,u),g=e}return[g,d]},[]);return o(()=>{let e=t.editable,[n]=a;n.setEditable(void 0===e||e)},[]),r.createElement(e.LexicalComposerContext.Provider,{value:a},l)},m}();var N,y=_,E={};var C,x={};const v="development"===process.env.NODE_ENV?function(){if(N)return E;N=1;var e=c,n=t,r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect;return E.ContentEditable=function({ariaActiveDescendant:t,ariaAutoComplete:i,ariaControls:o,ariaDescribedBy:s,ariaExpanded:l,ariaLabel:a,ariaLabelledBy:c,ariaMultiline:u,ariaOwns:d,ariaRequired:g,autoCapitalize:f,className:h,id:p,role:m="textbox",spellCheck:_=!0,style:N,tabIndex:y,"data-testid":E}){const[C]=e.useLexicalComposerContext(),[x,v]=n.useState(!1),T=n.useCallback(e=>{C.setRootElement(e)},[C]);return r(()=>(v(C.isEditable()),C.registerEditableListener(e=>{v(e)})),[C]),n.createElement("div",{"aria-activedescendant":x?t:void 0,"aria-autocomplete":x?i:"none","aria-controls":x?o:void 0,"aria-describedby":s,"aria-expanded":x&&"combobox"===m?!!l:void 0,"aria-label":a,"aria-labelledby":c,"aria-multiline":u,"aria-owns":x?d:void 0,"aria-required":g,autoCapitalize:f,className:h,contentEditable:x,"data-testid":E,id:p,ref:T,role:x?m:void 0,spellCheck:_,style:N,tabIndex:y})},E}():function(){if(C)return x;C=1;var e=c,n=t,r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect;return x.ContentEditable=function({ariaActiveDescendant:t,ariaAutoComplete:i,ariaControls:o,ariaDescribedBy:s,ariaExpanded:l,ariaLabel:a,ariaLabelledBy:c,ariaMultiline:u,ariaOwns:d,ariaRequired:g,autoCapitalize:f,className:h,id:p,role:m="textbox",spellCheck:_=!0,style:N,tabIndex:y,"data-testid":E}){let[C]=e.useLexicalComposerContext(),[x,v]=n.useState(!1),T=n.useCallback(e=>{C.setRootElement(e)},[C]);return r(()=>(v(C.isEditable()),C.registerEditableListener(e=>{v(e)})),[C]),n.createElement("div",{"aria-activedescendant":x?t:void 0,"aria-autocomplete":x?i:"none","aria-controls":x?o:void 0,"aria-describedby":s,"aria-expanded":x&&"combobox"===m?!!l:void 0,"aria-label":a,"aria-labelledby":c,"aria-multiline":u,"aria-owns":x?d:void 0,"aria-required":g,autoCapitalize:f,className:h,contentEditable:x,"data-testid":E,id:p,ref:T,role:x?m:void 0,spellCheck:_,style:N,tabIndex:y})},x}();var T,S,b,O,w=v;var A,D="development"===process.env.NODE_ENV?function(){if(S)return T;S=1;var e=t;function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}var r={error:null},i=function(t){var i,o;function s(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).state=r,e.resetErrorBoundary=function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null==e.props.onReset||(t=e.props).onReset.apply(t,r),e.reset()},e}o=t,(i=s).prototype=Object.create(o.prototype),i.prototype.constructor=i,n(i,o),s.getDerivedStateFromError=function(e){return{error:e}};var l=s.prototype;return l.reset=function(){this.setState(r)},l.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},l.componentDidUpdate=function(e,t){var n,r,i,o,s=this.state.error,l=this.props.resetKeys;null!==s&&null!==t.error&&(void 0===(i=e.resetKeys)&&(i=[]),void 0===(o=l)&&(o=[]),i.length!==o.length||i.some(function(e,t){return!Object.is(e,o[t])}))&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,e.resetKeys,l),this.reset())},l.render=function(){var t=this.state.error,n=this.props,r=n.fallbackRender,i=n.FallbackComponent,o=n.fallback;if(null!==t){var s={error:t,resetErrorBoundary:this.resetErrorBoundary};if(e.isValidElement(o))return o;if("function"==typeof r)return r(s);if(i)return e.createElement(i,s);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},s}(e.Component);return T=function({children:t,onError:n}){return e.createElement(i,{fallback:e.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:n},t)}}():function(){if(O)return b;O=1;var e=t;function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var r={error:null},i=function(t){function i(){for(var e,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).state=r,e.resetErrorBoundary=function(){for(var t,n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];null==e.props.onReset||(t=e.props).onReset.apply(t,r),e.reset()},e}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}(i,t),i.getDerivedStateFromError=function(e){return{error:e}};var o=i.prototype;return o.reset=function(){this.setState(r)},o.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},o.componentDidUpdate=function(e,t){var n,r,i=this.props.resetKeys;null!==this.state.error&&null!==t.error&&function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some(function(e,n){return!Object.is(e,t[n])})}(e.resetKeys,i)&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,e.resetKeys,i),this.reset())},o.render=function(){var t=this.state.error,n=this.props,r=n.fallbackRender,i=n.FallbackComponent;if(n=n.fallback,null!==t){if(t={error:t,resetErrorBoundary:this.resetErrorBoundary},e.isValidElement(n))return n;if("function"==typeof r)return r(t);if(i)return e.createElement(i,t);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},i}(e.Component);return b=function({children:t,onError:n}){return e.createElement(i,{fallback:e.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:n},t)}}(),k={},R={},M={},$={get exports(){return M},set exports(e){M=e}};function L(){return A||(A=1,function(e){var t=function(e){var t=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},i={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(t){return t instanceof o?new o(t.type,e(t.content),t.alias):Array.isArray(t)?t.map(e):t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++n}),e.__id},clone:function e(t,n){var r,o;switch(n=n||{},i.util.type(t)){case"Object":if(o=i.util.objId(t),n[o])return n[o];for(var s in r={},n[o]=r,t)t.hasOwnProperty(s)&&(r[s]=e(t[s],n));return r;case"Array":return o=i.util.objId(t),n[o]?n[o]:(r=[],n[o]=r,t.forEach(function(t,i){r[i]=e(t,n)}),r);default:return t}},getLanguage:function(e){for(;e;){var n=t.exec(e.className);if(n)return n[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,n){e.className=e.className.replace(RegExp(t,"gi"),""),e.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(e){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].src==e)return t[n]}return null}},isActive:function(e,t,n){for(var r="no-"+t;e;){var i=e.classList;if(i.contains(t))return!0;if(i.contains(r))return!1;e=e.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(e,t){var n=i.util.clone(i.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){var o=(r=r||i.languages)[e],s={};for(var l in o)if(o.hasOwnProperty(l)){if(l==t)for(var a in n)n.hasOwnProperty(a)&&(s[a]=n[a]);n.hasOwnProperty(l)||(s[l]=o[l])}var c=r[e];return r[e]=s,i.languages.DFS(i.languages,function(t,n){n===c&&t!=e&&(this[t]=s)}),s},DFS:function e(t,n,r,o){o=o||{};var s=i.util.objId;for(var l in t)if(t.hasOwnProperty(l)){n.call(t,l,t[l],r||l);var a=t[l],c=i.util.type(a);"Object"!==c||o[s(a)]?"Array"!==c||o[s(a)]||(o[s(a)]=!0,e(a,n,l,o)):(o[s(a)]=!0,e(a,n,null,o))}}},plugins:{},highlightAll:function(e,t){i.highlightAllUnder(document,e,t)},highlightAllUnder:function(e,t,n){var r={callback:n,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),i.hooks.run("before-all-elements-highlight",r);for(var o,s=0;o=r.elements[s++];)i.highlightElement(o,!0===t,r.callback)},highlightElement:function(t,n,r){var o=i.util.getLanguage(t),s=i.languages[o];i.util.setLanguage(t,o);var l=t.parentElement;l&&"pre"===l.nodeName.toLowerCase()&&i.util.setLanguage(l,o);var a={element:t,language:o,grammar:s,code:t.textContent};function c(e){a.highlightedCode=e,i.hooks.run("before-insert",a),a.element.innerHTML=a.highlightedCode,i.hooks.run("after-highlight",a),i.hooks.run("complete",a),r&&r.call(a.element)}if(i.hooks.run("before-sanity-check",a),(l=a.element.parentElement)&&"pre"===l.nodeName.toLowerCase()&&!l.hasAttribute("tabindex")&&l.setAttribute("tabindex","0"),!a.code)return i.hooks.run("complete",a),void(r&&r.call(a.element));if(i.hooks.run("before-highlight",a),a.grammar)if(n&&e.Worker){var u=new Worker(i.filename);u.onmessage=function(e){c(e.data)},u.postMessage(JSON.stringify({language:a.language,code:a.code,immediateClose:!0}))}else c(i.highlight(a.code,a.grammar,a.language));else c(i.util.encode(a.code))},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(i.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=i.tokenize(r.code,r.grammar),i.hooks.run("after-tokenize",r),o.stringify(i.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var i=new a;return c(i,i.head,e),l(e,i,t,i.head,0),function(e){var t=[],n=e.head.next;for(;n!==e.tail;)t.push(n.value),n=n.next;return t}(i)},hooks:{all:{},add:function(e,t){var n=i.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=i.hooks.all[e];if(n&&n.length)for(var r,o=0;r=n[o++];)r(t)}},Token:o};function o(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=0|(r||"").length}function s(e,t,n,r){e.lastIndex=t;var i=e.exec(n);if(i&&r&&i[1]){var o=i[1].length;i.index+=o,i[0]=i[0].slice(o)}return i}function l(e,t,n,r,a,d){for(var g in n)if(n.hasOwnProperty(g)&&n[g]){var f=n[g];f=Array.isArray(f)?f:[f];for(var h=0;h<f.length;++h){if(d&&d.cause==g+","+h)return;var p=f[h],m=p.inside,_=!!p.lookbehind,N=!!p.greedy,y=p.alias;if(N&&!p.pattern.global){var E=p.pattern.toString().match(/[imsuy]*$/)[0];p.pattern=RegExp(p.pattern.source,E+"g")}for(var C=p.pattern||p,x=r.next,v=a;x!==t.tail&&!(d&&v>=d.reach);v+=x.value.length,x=x.next){var T=x.value;if(t.length>e.length)return;if(!(T instanceof o)){var S,b=1;if(N){if(!(S=s(C,v,e,_))||S.index>=e.length)break;var O=S.index,w=S.index+S[0].length,A=v;for(A+=x.value.length;O>=A;)A+=(x=x.next).value.length;if(v=A-=x.value.length,x.value instanceof o)continue;for(var D=x;D!==t.tail&&(A<w||"string"==typeof D.value);D=D.next)b++,A+=D.value.length;b--,T=e.slice(v,A),S.index-=v}else if(!(S=s(C,0,T,_)))continue;O=S.index;var k=S[0],R=T.slice(0,O),M=T.slice(O+k.length),$=v+T.length;d&&$>d.reach&&(d.reach=$);var L=x.prev;if(R&&(L=c(t,L,R),v+=R.length),u(t,L,b),x=c(t,L,new o(g,m?i.tokenize(k,m):k,y,k)),M&&c(t,x,M),b>1){var P={cause:g+","+h,reach:$};l(e,t,n,x.prev,v,P),d&&P.reach>d.reach&&(d.reach=P.reach)}}}}}}function a(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function c(e,t,n){var r=t.next,i={value:n,prev:t,next:r};return t.next=i,r.prev=i,e.length++,i}function u(e,t,n){for(var r=t.next,i=0;i<n&&r!==e.tail;i++)r=r.next;t.next=r,r.prev=t,e.length-=i}if(e.Prism=i,o.stringify=function e(t,n){if("string"==typeof t)return t;if(Array.isArray(t)){var r="";return t.forEach(function(t){r+=e(t,n)}),r}var o={type:t.type,content:e(t.content,n),tag:"span",classes:["token",t.type],attributes:{},language:n},s=t.alias;s&&(Array.isArray(s)?Array.prototype.push.apply(o.classes,s):o.classes.push(s)),i.hooks.run("wrap",o);var l="";for(var a in o.attributes)l+=" "+a+'="'+(o.attributes[a]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+l+">"+o.content+"</"+o.tag+">"},!e.document)return e.addEventListener?(i.disableWorkerMessageHandler||e.addEventListener("message",function(t){var n=JSON.parse(t.data),r=n.language,o=n.code,s=n.immediateClose;e.postMessage(i.highlight(o,i.languages[r],r)),s&&e.close()},!1),i):i;var d=i.util.currentScript();function g(){i.manual||i.highlightAll()}if(d&&(i.filename=d.src,d.hasAttribute("data-manual")&&(i.manual=!0)),!i.manual){var f=document.readyState;"loading"===f||"interactive"===f&&d&&d.defer?document.addEventListener("DOMContentLoaded",g):window.requestAnimationFrame?window.requestAnimationFrame(g):window.setTimeout(g,16)}return i}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});
/**
		 * Prism: Lightweight, robust, elegant syntax highlighting
		 *
		 * @license MIT <https://opensource.org/licenses/MIT>
		 * @author Lea Verou <https://lea.verou.me>
		 * @namespace
		 * @public
		 */e.exports&&(e.exports=t),void 0!==r&&(r.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:i},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(void 0!==t&&"undefined"!=typeof document){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var e={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},n="data-src-status",r="loading",i="loaded",o="pre[data-src]:not(["+n+'="'+i+'"]):not(['+n+'="'+r+'"])';t.hooks.add("before-highlightall",function(e){e.selector+=", "+o}),t.hooks.add("before-sanity-check",function(s){var l=s.element;if(l.matches(o)){s.code="",l.setAttribute(n,r);var a=l.appendChild(document.createElement("CODE"));a.textContent="Loading…";var c=l.getAttribute("data-src"),u=s.language;if("none"===u){var d=(/\.(\w+)$/.exec(c)||[,"none"])[1];u=e[d]||d}t.util.setLanguage(a,u),t.util.setLanguage(l,u);var g=t.plugins.autoloader;g&&g.loadLanguages(u),function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.onreadystatechange=function(){4==r.readyState&&(r.status<400&&r.responseText?t(r.responseText):r.status>=400?n("✖ Error "+r.status+" while fetching file: "+r.statusText):n("✖ Error: File does not exist or is empty"))},r.send(null)}(c,function(e){l.setAttribute(n,i);var r=function(e){var t=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(e||"");if(t){var n=Number(t[1]),r=t[2],i=t[3];return r?i?[n,Number(i)]:[n,void 0]:[n,n]}}(l.getAttribute("data-range"));if(r){var o=e.split(/\r\n?|\n/g),s=r[0],c=null==r[1]?o.length:r[1];s<0&&(s+=o.length),s=Math.max(0,Math.min(s-1,o.length)),c<0&&(c+=o.length),c=Math.max(0,Math.min(c,o.length)),e=o.slice(s,c).join("\n"),l.hasAttribute("data-start")||l.setAttribute("data-start",String(s+1))}a.textContent=e,t.highlightElement(a)},function(e){l.setAttribute(n,"failed"),a.textContent=e})}}),t.plugins.fileHighlight={highlight:function(e){for(var n,r=(e||document).querySelectorAll(o),i=0;n=r[i++];)t.highlightElement(n)}};var s=!1;t.fileHighlight=function(){s||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),s=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}}()}($)),M}var P,I={};function F(){return P||(P=1,Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}),I}var B,z={};function K(){return B||(B=1,Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript),z}var H,W={};function U(){return H||(H=1,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(e,t){var n={};n["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[t]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var r={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};r["language-"+t]={pattern:/[\s\S]+/,inside:Prism.languages[t]};var i={};i[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:r},Prism.languages.insertBefore("markup","cdata",i)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(e,t){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:Prism.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml),W}var Y,G={};function V(){return Y||(Y=1,function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(e){return e=e.replace(/<inner>/g,function(){return t}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return r}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(t){["url","bold","italic","strike","code-snippet"].forEach(function(n){t!==n&&(e.languages.markdown[t].inside.content.inside[n]=e.languages.markdown[n])})}),e.hooks.add("after-tokenize",function(e){"markdown"!==e.language&&"md"!==e.language||function e(t){if(t&&"string"!=typeof t)for(var n=0,r=t.length;n<r;n++){var i=t[n];if("code"===i.type){var o=i.content[1],s=i.content[3];if(o&&s&&"code-language"===o.type&&"code-block"===s.type&&"string"==typeof o.content){var l=o.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),a="language-"+(l=(/[a-z][\w-]*/i.exec(l)||[""])[0].toLowerCase());s.alias?"string"==typeof s.alias?s.alias=[s.alias,a]:s.alias.push(a):s.alias=[a]}}else e(i.content)}}(e.tokens)}),e.hooks.add("wrap",function(t){if("code-block"===t.type){for(var n="",r=0,i=t.classes.length;r<i;r++){var o=t.classes[r],c=/language-(.+)/.exec(o);if(c){n=c[1];break}}var u,d=e.languages[n];if(d)t.content=e.highlight((u=t.content,u.replace(s,"").replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(e,t){var n;if("#"===(t=t.toLowerCase())[0])return n="x"===t[1]?parseInt(t.slice(2),16):Number(t.slice(1)),a(n);var r=l[t];return r||e})),d,n);else if(n&&"none"!==n&&e.plugins.autoloader){var g="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());t.attributes.id=g,e.plugins.autoloader.loadLanguages(n,function(){var t=document.getElementById(g);t&&(t.innerHTML=e.highlight(t.textContent,e.languages[n],n))})}}});var s=RegExp(e.languages.markup.tag.pattern.source,"gi"),l={amp:"&",lt:"<",gt:">",quot:'"'},a=String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown}(Prism)),G}var j,J={};function X(){return j||(j=1,Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean),J}var q,Z={};function Q(){return q||(q=1,function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var n=e.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(Prism)),Z}var ee,te={};function ne(){return ee||(ee=1,Prism.languages.objectivec=Prism.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete Prism.languages.objectivec["class-name"],Prism.languages.objc=Prism.languages.objectivec),te}var re,ie={};function oe(){return re||(re=1,Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}),ie}var se,le={};function ae(){return se||(se=1,Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python),le}var ce,ue={};function de(){return ce||(ce=1,function(e){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)t=t.replace(/<self>/g,function(){return t});t=t.replace(/<self>/g,function(){return/[^\s\S]/.source}),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string}(Prism)),ue}var ge,fe={};function he(){return ge||(ge=1,Prism.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ \t]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},Prism.languages.swift["string-literal"].forEach(function(e){e.inside.interpolation.inside=Prism.languages.swift})),fe}var pe,me={};function _e(){return pe||(pe=1,function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(Prism)),me}var Ne,ye={};function Ee(){return Ne||(Ne=1,function(e){var t=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,n=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[r,{pattern:RegExp(/(^|[^\w.])/.source+n+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:r.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+n+/[A-Z]\w*\b/.source),lookbehind:!0,inside:r.inside}],keyword:t,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":r,keyword:t,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+n+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:r.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+n+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:r.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism)),ye}var Ce,xe={};function ve(){return Ce||(Ce=1,function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,n=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return t.source});e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return n})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(Prism)),xe}var Te,Se={},be={};var Oe,we={};var Ae,De="development"===process.env.NODE_ENV?function(){if(Te)return be;Te=1;var e=h;const t=new Map;function n(e){let t=e;for(;null!=t;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild}return null}function r(e){const t=e.parentNode;if(null==t)throw new Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)]}function i(e){const t={},n=e.split(";");for(const e of n)if(""!==e){const[n,r]=e.split(/:([^]+)/);t[n.trim()]=r.trim()}return t}function o(e){let n=t.get(e);return void 0===n&&(n=i(e),t.set(e,n)),n}function s(e,n){const r=o("getStyle"in e?e.getStyle():e.style),i=Object.entries(n).reduce((e,[t,n])=>(null===n?delete e[t]:e[t]=n,e),{...r}||{}),s=function(e){let t="";for(const n in e)n&&(t+=`${n}: ${e[n]};`);return t}(i);e.setStyle(s),t.set(s,i)}function l(t){return e.$isElementNode(t)&&!e.$isRootOrShadowRoot(t)&&!t.isInline()}function a(e){return e.getNode().isAttached()}function c(t){let n=t;for(;null!==n&&!e.$isRootOrShadowRoot(n);){const e=n.getLatest(),t=n.getParent();0===e.getChildrenSize()&&n.remove(!0),n=t}}function u(t,n,r,i,o=null){if(0===n.length)return;const s=n[0],l=new Map,u=[];let d=e.$isElementNode(s)?s:s.getParentOrThrow();d.isInline()&&(d=d.getParentOrThrow());let g=!1;for(;null!==d;){const t=d.getPreviousSibling();if(null!==t){d=t,g=!0;break}if(d=d.getParentOrThrow(),e.$isRootOrShadowRoot(d))break}const f=new Set;for(let t=0;t<r;t++){const r=n[t];e.$isElementNode(r)&&0===r.getChildrenSize()&&f.add(r.getKey())}const h=new Set;for(let t=0;t<r;t++){const r=n[t];let o=r.getParent();if(null!==o&&o.isInline()&&(o=o.getParent()),null!==o&&e.$isLeafNode(r)&&!h.has(r.getKey())){const t=o.getKey();if(void 0===l.get(t)){const n=i();n.setFormat(o.getFormatType()),n.setIndent(o.getIndent()),u.push(n),l.set(t,n),o.getChildren().forEach(t=>{n.append(t),h.add(t.getKey()),e.$isElementNode(t)&&t.getChildrenKeys().forEach(e=>h.add(e))}),c(o)}}else if(f.has(r.getKey())){const e=i();e.setFormat(r.getFormatType()),e.setIndent(r.getIndent()),u.push(e),r.remove(!0)}}if(null!==o)for(let e=0;e<u.length;e++){const t=u[e];o.append(t)}let p=null;if(e.$isRootOrShadowRoot(d))if(g)if(null!==o)d.insertAfter(o);else for(let e=u.length-1;e>=0;e--){const t=u[e];d.insertAfter(t)}else{const t=d.getFirstChild();if(e.$isElementNode(t)&&(d=t),null===t)if(o)d.append(o);else for(let e=0;e<u.length;e++){const t=u[e];d.append(t),p=t}else if(null!==o)t.insertBefore(o);else for(let e=0;e<u.length;e++){const n=u[e];t.insertBefore(n),p=n}}else if(o)d.insertAfter(o);else for(let e=u.length-1;e>=0;e--){const t=u[e];d.insertAfter(t),p=t}const m=e.$getPreviousSelection();e.$isRangeSelection(m)&&a(m.anchor)&&a(m.focus)?e.$setSelection(m.clone()):null!==p?p.selectEnd():t.dirty=!0}function d(e,t,n,r){e.modify(t?"extend":"move",n,r)}function g(t){const n=t.anchor.getNode();return"rtl"===(e.$isRootNode(n)?n:n.getParentOrThrow()).getDirection()}function f(e,t,n){const r=o(e.getStyle());return null!==r&&r[t]||n}return be.$addNodeStyle=function(e){const n=e.getStyle(),r=i(n);t.set(n,r)},be.$cloneWithProperties=function(t){const n=t.getLatest(),r=n.constructor.clone(n);return r.__parent=n.__parent,r.__next=n.__next,r.__prev=n.__prev,e.$isElementNode(n)&&e.$isElementNode(r)?(o=n,(i=r).__first=o.__first,i.__last=o.__last,i.__size=o.__size,i.__format=o.__format,i.__indent=o.__indent,i.__dir=o.__dir,i):e.$isTextNode(n)&&e.$isTextNode(r)?function(e,t){return e.__format=t.__format,e.__style=t.__style,e.__mode=t.__mode,e.__detail=t.__detail,e}(r,n):r;var i,o},be.$getSelectionStyleValueForProperty=function(t,n,r=""){let i=null;const s=t.getNodes(),l=t.anchor,a=t.focus,c=t.isBackward(),u=c?a.offset:l.offset,d=c?a.getNode():l.getNode();if(""!==t.style){const e=o(t.style);if(null!==e&&n in e)return e[n]}for(let t=0;t<s.length;t++){const o=s[t];if((0===t||0!==u||!o.is(d))&&e.$isTextNode(o)){const e=f(o,n,r);if(null===i)i=e;else if(i!==e){i="";break}}}return null===i?r:i},be.$isAtNodeEnd=function(e){return"text"===e.type?e.offset===e.getNode().getTextContentSize():e.offset===e.getNode().getChildrenSize()},be.$isParentElementRTL=g,be.$moveCaretSelection=d,be.$moveCharacter=function(e,t,n){const r=g(e);d(e,t,n?!r:r,"character")},be.$patchStyleText=function(t,n){const r=t.getNodes(),i=r.length-1;let o=r[0],l=r[i];if(t.isCollapsed())return void s(t,n);const a=t.anchor,c=t.focus,u=o.getTextContent().length,d=c.offset;let g=a.offset;const f=a.isBefore(c);let h=f?g:d,p=f?d:g;const m=f?a.type:c.type,_=f?c.type:a.type,N=f?c.key:a.key;if(e.$isTextNode(o)&&h===u){const t=o.getNextSibling();e.$isTextNode(t)&&(g=0,h=0,o=t)}if(o.is(l)){if(e.$isTextNode(o)){if(h="element"===m?0:g>d?d:g,p="element"===_?u:g>d?g:d,h===p)return;if(0===h&&p===u)s(o,n),o.select(h,p);else{const e=o.splitText(h,p),t=0===h?e[0]:e[1];s(t,n),t.select(0,p-h)}}}else{if(e.$isTextNode(o)&&h<o.getTextContentSize()&&(0!==h&&(o=o.splitText(h)[1],h=0),s(o,n)),e.$isTextNode(l)){const e=l.getTextContent().length;l.__key!==N&&0!==p&&(p=e),p!==e&&([l]=l.splitText(p)),0!==p&&s(l,n)}for(let t=1;t<i;t++){const i=r[t],a=i.getKey();e.$isTextNode(i)&&a!==o.getKey()&&a!==l.getKey()&&!i.isToken()&&s(i,n)}}},be.$selectAll=function(t){const n=t.anchor,r=t.focus,i=n.getNode().getTopLevelElementOrThrow().getParentOrThrow();let o=i.getFirstDescendant(),s=i.getLastDescendant(),l="element",a="element",c=0;e.$isTextNode(o)?l="text":e.$isElementNode(o)||null===o||(o=o.getParentOrThrow()),e.$isTextNode(s)?(a="text",c=s.getTextContentSize()):e.$isElementNode(s)||null===s||(s=s.getParentOrThrow()),o&&s&&(n.set(o.getKey(),0,l),r.set(s.getKey(),c,a))},be.$setBlocksType_experimental=function(t,n){if("root"===t.anchor.key){const t=n(),r=e.$getRoot(),i=r.getFirstChild();return void(i?i.replace(t,!0):r.append(t))}const r=t.getNodes();if("text"===t.anchor.type){let e=t.anchor.getNode().getParent();e=e.isInline()?e.getParent():e,-1===r.indexOf(e)&&r.push(e)}for(let e=0;e<r.length;e++){const t=r[e];if(!l(t))continue;const i=n();i.setFormat(t.getFormatType()),i.setIndent(t.getIndent()),t.replace(i,!0)}},be.$shouldOverrideDefaultCharacterSelection=function(t,n){const r=e.$getAdjacentNode(t.focus,n);return e.$isDecoratorNode(r)&&!r.isIsolated()||e.$isElementNode(r)&&!r.isInline()&&!r.canBeEmpty()},be.$sliceSelectedTextNodeContent=function(t,n){if(n.isSelected()&&!n.isSegmented()&&!n.isToken()&&(e.$isRangeSelection(t)||e.DEPRECATED_$isGridSelection(t))){const e=t.anchor.getNode(),r=t.focus.getNode(),i=n.is(e),o=n.is(r);if(i||o){const i=t.isBackward(),[o,s]=t.getCharacterOffsets(),l=e.is(r),a=n.is(i?r:e),c=n.is(i?e:r);let u,d=0;if(l)d=o>s?s:o,u=o>s?o:s;else if(a){d=i?s:o,u=void 0}else if(c){d=0,u=i?o:s}return n.__text=n.__text.slice(d,u),n}}return n},be.$wrapNodes=function(t,n,r=null){const i=t.getNodes(),o=i.length,s=t.anchor;if(0===o||1===o&&"element"===s.type&&0===s.getNode().getChildrenSize()){const e="text"===s.type?s.getNode().getParentOrThrow():s.getNode(),t=e.getChildren();let i=n();return i.setFormat(e.getFormatType()),i.setIndent(e.getIndent()),t.forEach(e=>i.append(e)),r&&(i=r.append(i)),void e.replace(i)}let l=null,a=[];for(let s=0;s<o;s++){const o=i[s];e.$isRootOrShadowRoot(o)?(u(t,a,a.length,n,r),a=[],l=o):null===l||null!==l&&e.$hasAncestor(o,l)?a.push(o):(u(t,a,a.length,n,r),a=[o])}u(t,a,a.length,n,r)},be.createDOMRange=function(t,i,o,s,l){const a=i.getKey(),c=s.getKey(),u=document.createRange();let d=t.getElementByKey(a),g=t.getElementByKey(c),f=o,h=l;if(e.$isTextNode(i)&&(d=n(d)),e.$isTextNode(s)&&(g=n(g)),void 0===i||void 0===s||null===d||null===g)return null;"BR"===d.nodeName&&([d,f]=r(d)),"BR"===g.nodeName&&([g,h]=r(g));const p=d.firstChild;d===g&&null!=p&&"BR"===p.nodeName&&0===f&&0===h&&(h=1);try{u.setStart(d,f),u.setEnd(g,h)}catch(e){return null}return!u.collapsed||f===h&&a===c||(u.setStart(g,h),u.setEnd(d,f)),u},be.createRectsFromDOMRange=function(e,t){const n=e.getRootElement();if(null===n)return[];const r=n.getBoundingClientRect(),i=getComputedStyle(n),o=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),s=Array.from(t.getClientRects());let l,a=s.length;for(let e=0;e<a;e++){const t=s[e],n=l&&l.top===t.top&&l.left===t.left&&l.width===t.width&&l.height===t.height,i=t.width+o===r.width;n||i?(s.splice(e--,1),a--):l=t}return s},be.getStyleObjectFromCSS=o,be.trimTextContentFromAnchor=function(t,n,r){let i=n.getNode(),o=r;if(e.$isElementNode(i)){const e=i.getDescendantByIndex(n.offset);null!==e&&(i=e)}for(;o>0&&null!==i;){let r=i.getPreviousSibling(),s=0;if(null===r){let t=i.getParentOrThrow(),n=t.getPreviousSibling();for(;null===n;){if(t=t.getParent(),null===t){r=null;break}n=t.getPreviousSibling()}null!==t&&(s=t.isInline()?0:2,r=e.$isElementNode(n)?n.getLastDescendant():n)}let l=i.getTextContent();""===l&&e.$isElementNode(i)&&!i.isInline()&&(l="\n\n");const a=l.length,c=a-o,u=l.slice(0,c);if(!e.$isTextNode(i)||o>=a){const e=i.getParent();i.remove(),null!=e&&0===e.getChildrenSize()&&e.remove(),o-=a+s,i=r}else{const r=i.getKey(),s=t.getEditorState().read(()=>{const t=e.$getNodeByKey(r);return e.$isTextNode(t)&&t.isSimpleText()?t.getTextContent():null});if(null!==s&&s!==l){const t=e.$getPreviousSelection();let n=i;if(i.isSimpleText())i.setTextContent(s);else{const t=e.$createTextNode(s);i.replace(t),n=t}if(e.$isRangeSelection(t)&&t.isCollapsed()){const e=t.anchor.offset;n.select(e,e)}}else if(i.isSimpleText()){const e=n.key===r;let t=n.offset;t<o&&(t=a);const s=e?t-o:0,l=e?t:c;if(e&&0===s){const[e]=i.splitText(s,l);e.remove()}else{const[,e]=i.splitText(s,l);e.remove()}}else{const t=e.$createTextNode(u);i.replace(t)}o=0}}},be}():function(){if(Oe)return we;Oe=1;var e=h;let t=new Map;function n(e){for(;null!=e;){if(e.nodeType===Node.TEXT_NODE)return e;e=e.firstChild}return null}function r(e){let t=e.parentNode;if(null==t)throw Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)]}function i(e){let t={};e=e.split(";");for(let n of e)if(""!==n){let[e,r]=n.split(/:([^]+)/);t[e.trim()]=r.trim()}return t}function o(e){let n=t.get(e);return void 0===n&&(n=i(e),t.set(e,n)),n}function s(e,n){var r=o("getStyle"in e?e.getStyle():e.style);r=function(e){let t="";for(let n in e)n&&(t+=`${n}: ${e[n]};`);return t}(n=Object.entries(n).reduce((e,[t,n])=>(null===n?delete e[t]:e[t]=n,e),{...r})),e.setStyle(r),t.set(r,n)}function l(t){for(;null!==t&&!e.$isRootOrShadowRoot(t);){let e=t.getLatest(),n=t.getParent();0===e.getChildrenSize()&&t.remove(!0),t=n}}function a(t,n,r,i,o=null){if(0!==n.length){var s=n[0],a=new Map,c=[];(s=e.$isElementNode(s)?s:s.getParentOrThrow()).isInline()&&(s=s.getParentOrThrow());for(var u=!1;null!==s;){var d=s.getPreviousSibling();if(null!==d){s=d,u=!0;break}if(s=s.getParentOrThrow(),e.$isRootOrShadowRoot(s))break}d=new Set;for(var g=0;g<r;g++){var f=n[g];e.$isElementNode(f)&&0===f.getChildrenSize()&&d.add(f.getKey())}var h=new Set;for(g=0;g<r;g++){var p=(f=n[g]).getParent();if(null!==p&&p.isInline()&&(p=p.getParent()),null!==p&&e.$isLeafNode(f)&&!h.has(f.getKey())){if(f=p.getKey(),void 0===a.get(f)){let t=i();t.setFormat(p.getFormatType()),t.setIndent(p.getIndent()),c.push(t),a.set(f,t),p.getChildren().forEach(n=>{t.append(n),h.add(n.getKey()),e.$isElementNode(n)&&n.getChildrenKeys().forEach(e=>h.add(e))}),l(p)}}else d.has(f.getKey())&&((p=i()).setFormat(f.getFormatType()),p.setIndent(f.getIndent()),c.push(p),f.remove(!0))}if(null!==o)for(n=0;n<c.length;n++)o.append(c[n]);if(n=null,e.$isRootOrShadowRoot(s))if(u)if(null!==o)s.insertAfter(o);else for(o=c.length-1;0<=o;o--)s.insertAfter(c[o]);else if(u=s.getFirstChild(),e.$isElementNode(u)&&(s=u),null===u)if(o)s.append(o);else for(o=0;o<c.length;o++)u=c[o],s.append(u),n=u;else if(null!==o)u.insertBefore(o);else for(s=0;s<c.length;s++)o=c[s],u.insertBefore(o),n=o;else if(o)s.insertAfter(o);else for(o=c.length-1;0<=o;o--)u=c[o],s.insertAfter(u),n=u;c=e.$getPreviousSelection(),e.$isRangeSelection(c)&&c.anchor.getNode().isAttached()&&c.focus.getNode().isAttached()?e.$setSelection(c.clone()):null!==n?n.selectEnd():t.dirty=!0}}function c(e,t,n,r){e.modify(t?"extend":"move",n,r)}function u(t){return t=t.anchor.getNode(),"rtl"===(e.$isRootNode(t)?t:t.getParentOrThrow()).getDirection()}return we.$addNodeStyle=function(e){let n=i(e=e.getStyle());t.set(e,n)},we.$cloneWithProperties=function(t){let n=(t=t.getLatest()).constructor.clone(t);return n.__parent=t.__parent,n.__next=t.__next,n.__prev=t.__prev,e.$isElementNode(t)&&e.$isElementNode(n)?(n.__first=t.__first,n.__last=t.__last,n.__size=t.__size,n.__format=t.__format,n.__indent=t.__indent,n.__dir=t.__dir,n):(e.$isTextNode(t)&&e.$isTextNode(n)&&(n.__format=t.__format,n.__style=t.__style,n.__mode=t.__mode,n.__detail=t.__detail),n)},we.$getSelectionStyleValueForProperty=function(t,n,r=""){let i=null,s=t.getNodes();var l=t.anchor,a=t.focus,c=t.isBackward();let u=c?a.offset:l.offset;if(l=c?a.getNode():l.getNode(),""!==t.style&&(null!==(t=o(t.style))&&n in t))return t[n];for(t=0;t<s.length;t++){var d=s[t];if((0===t||0!==u||!d.is(l))&&e.$isTextNode(d))if(a=n,c=r,a=null!==(d=o(d=d.getStyle()))&&d[a]||c,null===i)i=a;else if(i!==a){i="";break}}return null===i?r:i},we.$isAtNodeEnd=function(e){return"text"===e.type?e.offset===e.getNode().getTextContentSize():e.offset===e.getNode().getChildrenSize()},we.$isParentElementRTL=u,we.$moveCaretSelection=c,we.$moveCharacter=function(e,t,n){let r=u(e);c(e,t,n?!r:r,"character")},we.$patchStyleText=function(t,n){var r=t.getNodes();let i=r.length-1,o=r[0],l=r[i];if(t.isCollapsed())s(t,n);else{var a=t.anchor,c=t.focus,u=o.getTextContent().length,d=c.offset,g=a.offset,f=a.isBefore(c),h=f?g:d;t=f?d:g;var p=f?a.type:c.type,m=f?c.type:a.type;if(a=f?c.key:a.key,e.$isTextNode(o)&&h===u&&(c=o.getNextSibling(),e.$isTextNode(c)&&(h=g=0,o=c)),o.is(l))e.$isTextNode(o)&&((h="element"===p?0:g>d?d:g)!==(t="element"===m?u:g>d?g:d)&&(0===h&&t===u?(s(o,n),o.select(h,t)):(r=o.splitText(h,t),s(r=0===h?r[0]:r[1],n),r.select(0,t-h))));else for(e.$isTextNode(o)&&h<o.getTextContentSize()&&(0!==h&&(o=o.splitText(h)[1]),s(o,n)),e.$isTextNode(l)&&(h=l.getTextContent().length,l.__key!==a&&0!==t&&(t=h),t!==h&&([l]=l.splitText(t)),0!==t&&s(l,n)),t=1;t<i;t++)u=(h=r[t]).getKey(),e.$isTextNode(h)&&u!==o.getKey()&&u!==l.getKey()&&!h.isToken()&&s(h,n)}},we.$selectAll=function(t){let n=t.anchor;t=t.focus;var r=n.getNode().getTopLevelElementOrThrow().getParentOrThrow();let i=r.getFirstDescendant();r=r.getLastDescendant();let o="element",s="element",l=0;e.$isTextNode(i)?o="text":e.$isElementNode(i)||null===i||(i=i.getParentOrThrow()),e.$isTextNode(r)?(s="text",l=r.getTextContentSize()):e.$isElementNode(r)||null===r||(r=r.getParentOrThrow()),i&&r&&(n.set(i.getKey(),0,o),t.set(r.getKey(),l,s))},we.$setBlocksType_experimental=function(t,n){if("root"===t.anchor.key){n=n();var r=e.$getRoot();(t=r.getFirstChild())?t.replace(n,!0):r.append(n)}else for(r=t.getNodes(),"text"===t.anchor.type&&(t=(t=t.anchor.getNode().getParent()).isInline()?t.getParent():t,-1===r.indexOf(t)&&r.push(t)),t=0;t<r.length;t++){let o=r[t];var i=o;!e.$isElementNode(i)||e.$isRootOrShadowRoot(i)||i.isInline()||((i=n()).setFormat(o.getFormatType()),i.setIndent(o.getIndent()),o.replace(i,!0))}},we.$shouldOverrideDefaultCharacterSelection=function(t,n){return t=e.$getAdjacentNode(t.focus,n),e.$isDecoratorNode(t)&&!t.isIsolated()||e.$isElementNode(t)&&!t.isInline()&&!t.canBeEmpty()},we.$sliceSelectedTextNodeContent=function(t,n){if(n.isSelected()&&!n.isSegmented()&&!n.isToken()&&(e.$isRangeSelection(t)||e.DEPRECATED_$isGridSelection(t))){var r=t.anchor.getNode(),i=t.focus.getNode(),o=n.is(r),s=n.is(i);if(o||s){o=t.isBackward();let e,[l,a]=t.getCharacterOffsets();t=r.is(i),s=n.is(o?i:r),i=n.is(o?r:i),r=0,t?(r=l>a?a:l,e=l>a?l:a):s?(r=o?a:l,e=void 0):i&&(r=0,e=o=o?l:a),n.__text=n.__text.slice(r,e)}}return n},we.$wrapNodes=function(t,n,r=null){var i=t.getNodes();let o=i.length;var s=t.anchor;if(0===o||1===o&&"element"===s.type&&0===s.getNode().getChildrenSize()){i=(t="text"===s.type?s.getNode().getParentOrThrow():s.getNode()).getChildren();let e=n();e.setFormat(t.getFormatType()),e.setIndent(t.getIndent()),i.forEach(t=>e.append(t)),r&&(e=r.append(e)),t.replace(e)}else{s=null;var l=[];for(let c=0;c<o;c++){let o=i[c];e.$isRootOrShadowRoot(o)?(a(t,l,l.length,n,r),l=[],s=o):null===s||null!==s&&e.$hasAncestor(o,s)?l.push(o):(a(t,l,l.length,n,r),l=[o])}a(t,l,l.length,n,r)}},we.createDOMRange=function(t,i,o,s,l){let a=i.getKey(),c=s.getKey(),u=document.createRange(),d=t.getElementByKey(a);if(t=t.getElementByKey(c),e.$isTextNode(i)&&(d=n(d)),e.$isTextNode(s)&&(t=n(t)),void 0===i||void 0===s||null===d||null===t)return null;"BR"===d.nodeName&&([d,o]=r(d)),"BR"===t.nodeName&&([t,l]=r(t)),i=d.firstChild,d===t&&null!=i&&"BR"===i.nodeName&&0===o&&0===l&&(l=1);try{u.setStart(d,o),u.setEnd(t,l)}catch(e){return null}return!u.collapsed||o===l&&a===c||(u.setStart(t,l),u.setEnd(d,o)),u},we.createRectsFromDOMRange=function(e,t){var n=e.getRootElement();if(null===n)return[];e=n.getBoundingClientRect(),n=getComputedStyle(n),n=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight);let r,i=(t=Array.from(t.getClientRects())).length;for(let o=0;o<i;o++){let s=t[o],l=s.width+n===e.width;r&&r.top===s.top&&r.left===s.left&&r.width===s.width&&r.height===s.height||l?(t.splice(o--,1),i--):r=s}return t},we.getStyleObjectFromCSS=o,we.trimTextContentFromAnchor=function(t,n,r){let i=n.getNode();if(e.$isElementNode(i)){var o=i.getDescendantByIndex(n.offset);null!==o&&(i=o)}for(;0<r&&null!==i;){var s=i.getPreviousSibling(),l=0;if(null===s){for(var a=(o=i.getParentOrThrow()).getPreviousSibling();null===a;){if(null===(o=o.getParent())){s=null;break}a=o.getPreviousSibling()}null!==o&&(l=o.isInline()?0:2,s=e.$isElementNode(a)?a.getLastDescendant():a)}let c=i.getTextContent();""===c&&e.$isElementNode(i)&&!i.isInline()&&(c="\n\n"),a=(o=c.length)-r;let u=c.slice(0,a);if(!e.$isTextNode(i)||r>=o)a=i.getParent(),i.remove(),null!=a&&0===a.getChildrenSize()&&a.remove(),r-=o+l,i=s;else{let d=i.getKey();null!==(s=t.getEditorState().read(()=>{const t=e.$getNodeByKey(d);return e.$isTextNode(t)&&t.isSimpleText()?t.getTextContent():null}))&&s!==c?(r=e.$getPreviousSelection(),o=i,i.isSimpleText()?i.setTextContent(s):(o=e.$createTextNode(s),i.replace(o)),e.$isRangeSelection(r)&&r.isCollapsed()&&(r=r.anchor.offset,o.select(r,r))):i.isSimpleText()?(s=n.key===d,(l=n.offset)<r&&(l=o),r=s?l-r:0,o=s?l:a,s&&0===r?([r]=i.splitText(r,o),r.remove()):([,r]=i.splitText(r,o),r.remove())):(r=e.$createTextNode(u),i.replace(r)),r=0}}},we}();var ke,Re={};var Me,$e="development"===process.env.NODE_ENV?function(){if(Ae)return Se;Ae=1;var e=De,t=h;function n(e,t){for(const n of t)if(e.type.startsWith(n))return!0;return!1}function r(e,n){let r=e;for(;r!==t.$getRoot()&&null!=r;){if(n(r))return r;r=r.getParent()}return null}function i(e){return 1===e.nodeType}return Se.$splitNode=t.$splitNode,Se.$dfs=function(e,n){const r=[],i=(e||t.$getRoot()).getLatest(),o=n||(t.$isElementNode(i)?i.getLastDescendant():i);let s=i,l=function(e){let t=e,n=0;for(;null!==(t=t.getParent());)n++;return n}(s);for(;null!==s&&!s.is(o);)if(r.push({depth:l,node:s}),t.$isElementNode(s)&&s.getChildrenSize()>0)s=s.getFirstChild(),l++;else{let e=null;for(;null===e&&null!==s;)e=s.getNextSibling(),null===e?(s=s.getParent(),l--):s=e}return null!==s&&s.is(o)&&r.push({depth:l,node:s}),r},Se.$findMatchingParent=r,Se.$getNearestBlockElementAncestorOrThrow=function(e){const n=r(e,e=>t.$isElementNode(e)&&!e.isInline());if(!t.$isElementNode(n))throw Error(`Expected node ${e.__key} to have closest block element node.`);return n},Se.$getNearestNodeOfType=function(e,t){let n=e;for(;null!=n;){if(n instanceof t)return n;n=n.getParent()}return null},Se.$insertNodeToNearestRoot=function(e){const n=t.$getSelection();if(t.$isRangeSelection(n)){const{focus:r}=n,i=r.getNode(),o=r.offset;if(t.$isRootOrShadowRoot(i)){const t=i.getChildAtIndex(o);null==t?i.append(e):t.insertBefore(e),e.selectNext()}else{let n,r;t.$isTextNode(i)?(n=i.getParentOrThrow(),r=i.getIndexWithinParent(),o>0&&(r+=1,i.splitText(o))):(n=i,r=o);const[,s]=t.$splitNode(n,r);s.insertBefore(e),s.selectStart()}}else{if(t.$isNodeSelection(n)||t.DEPRECATED_$isGridSelection(n)){const t=n.getNodes();t[t.length-1].getTopLevelElementOrThrow().insertAfter(e)}else{t.$getRoot().append(e)}const r=t.$createParagraphNode();e.insertAfter(r),r.select()}return e.getLatest()},Se.$restoreEditorState=function(n,r){const i=new Map,o=n._pendingEditorState;for(const[n,o]of r._nodeMap){const r=e.$cloneWithProperties(o);t.$isTextNode(r)&&(r.__text=o.__text),i.set(n,r)}o&&(o._nodeMap=i),n._dirtyType=2;const s=r._selection;t.$setSelection(null===s?null:s.clone())},Se.$wrapNodeInElement=function(e,t){const n=t();return e.replace(n),n.append(e),n},Se.addClassNamesToElement=function(e,...t){t.forEach(t=>{if("string"==typeof t){const n=t.split(" ").filter(e=>""!==e);e.classList.add(...n)}})},Se.isHTMLAnchorElement=function(e){return i(e)&&"A"===e.tagName},Se.isHTMLElement=i,Se.isMimeType=n,Se.mediaFileReader=function(e,t){const r=e[Symbol.iterator]();return new Promise((e,i)=>{const o=[],s=()=>{const{done:l,value:a}=r.next();if(l)return e(o);const c=new FileReader;c.addEventListener("error",i),c.addEventListener("load",()=>{const e=c.result;"string"==typeof e&&o.push({file:a,result:e}),s()}),n(a,t)?c.readAsDataURL(a):s()};s()})},Se.mergeRegister=function(...e){return()=>{e.forEach(e=>e())}},Se.registerNestedElementResolver=function(e,t,n,r){const i=e=>e instanceof t;return e.registerNodeTransform(t,e=>{const t=(e=>{const t=e.getChildren();for(let e=0;e<t.length;e++){const n=t[e];if(i(n))return null}let n=e,r=e;for(;null!==n;)if(r=n,n=n.getParent(),i(n))return{child:r,parent:n};return null})(e);if(null!==t){const{child:i,parent:o}=t;if(i.is(e)){r(o,e);const t=i.getNextSiblings(),s=t.length;if(o.insertAfter(i),0!==s){const e=n(o);i.insertAfter(e);for(let n=0;n<s;n++)e.append(t[n])}o.canBeEmpty()||0!==o.getChildrenSize()||o.remove()}}})},Se.removeClassNamesFromElement=function(e,...t){t.forEach(t=>{"string"==typeof t&&e.classList.remove(...t.split(" "))})},Se}():function(){if(ke)return Re;ke=1;var e=De,t=h;function n(e,t){for(let n of t)if(e.type.startsWith(n))return!0;return!1}function r(e,n){for(;e!==t.$getRoot()&&null!=e;){if(n(e))return e;e=e.getParent()}return null}function i(e){return 1===e.nodeType}return Re.$splitNode=t.$splitNode,Re.$dfs=function(e,n){let r=[];e=(e||t.$getRoot()).getLatest(),n=n||(t.$isElementNode(e)?e.getLastDescendant():e);for(var i=e,o=0;null!==(i=i.getParent());)o++;for(i=o;null!==e&&!e.is(n);)if(r.push({depth:i,node:e}),t.$isElementNode(e)&&0<e.getChildrenSize())e=e.getFirstChild(),i++;else for(o=null;null===o&&null!==e;)null===(o=e.getNextSibling())?(e=e.getParent(),i--):e=o;return null!==e&&e.is(n)&&r.push({depth:i,node:e}),r},Re.$findMatchingParent=r,Re.$getNearestBlockElementAncestorOrThrow=function(e){if(e=r(e,e=>t.$isElementNode(e)&&!e.isInline()),!t.$isElementNode(e))throw Error("Minified Lexical error #4; visit https://lexical.dev/docs/error?code=4 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return e},Re.$getNearestNodeOfType=function(e,t){for(;null!=e;){if(e instanceof t)return e;e=e.getParent()}return null},Re.$insertNodeToNearestRoot=function(e){var n=t.$getSelection();if(t.$isRangeSelection(n)){var{focus:r}=n;if(n=r.getNode(),r=r.offset,t.$isRootOrShadowRoot(n))null==(r=n.getChildAtIndex(r))?n.append(e):r.insertBefore(e),e.selectNext();else{let i,o;t.$isTextNode(n)?(i=n.getParentOrThrow(),o=n.getIndexWithinParent(),0<r&&(o+=1,n.splitText(r))):(i=n,o=r),[,n]=t.$splitNode(i,o),n.insertBefore(e),n.selectStart()}}else t.$isNodeSelection(n)||t.DEPRECATED_$isGridSelection(n)?(n=n.getNodes())[n.length-1].getTopLevelElementOrThrow().insertAfter(e):t.$getRoot().append(e),n=t.$createParagraphNode(),e.insertAfter(n),n.select();return e.getLatest()},Re.$restoreEditorState=function(n,r){let i=new Map,o=n._pendingEditorState;for(let[n,o]of r._nodeMap){let r=e.$cloneWithProperties(o);t.$isTextNode(r)&&(r.__text=o.__text),i.set(n,r)}o&&(o._nodeMap=i),n._dirtyType=2,n=r._selection,t.$setSelection(null===n?null:n.clone())},Re.$wrapNodeInElement=function(e,t){return t=t(),e.replace(t),t.append(e),t},Re.addClassNamesToElement=function(e,...t){t.forEach(t=>{"string"==typeof t&&(t=t.split(" ").filter(e=>""!==e),e.classList.add(...t))})},Re.isHTMLAnchorElement=function(e){return i(e)&&"A"===e.tagName},Re.isHTMLElement=i,Re.isMimeType=n,Re.mediaFileReader=function(e,t){let r=e[Symbol.iterator]();return new Promise((e,i)=>{let o=[],s=()=>{const{done:l,value:a}=r.next();if(l)return e(o);const c=new FileReader;c.addEventListener("error",i),c.addEventListener("load",()=>{const e=c.result;"string"==typeof e&&o.push({file:a,result:e}),s()}),n(a,t)?c.readAsDataURL(a):s()};s()})},Re.mergeRegister=function(...e){return()=>{e.forEach(e=>e())}},Re.registerNestedElementResolver=function(e,t,n,r){return e.registerNodeTransform(t,e=>{e:{for(var i=e.getChildren(),o=0;o<i.length;o++)if(i[o]instanceof t){i=null;break e}for(i=e;null!==i;)if(o=i,(i=i.getParent())instanceof t){i={child:o,parent:i};break e}i=null}if(null!==i){const{child:t,parent:s}=i;if(t.is(e)){if(r(s,e),i=(e=t.getNextSiblings()).length,s.insertAfter(t),0!==i){o=n(s),t.insertAfter(o);for(let t=0;t<i;t++)o.append(e[t])}s.canBeEmpty()||0!==s.getChildrenSize()||s.remove()}}})},Re.removeClassNamesFromElement=function(e,...t){t.forEach(t=>{"string"==typeof t&&e.classList.remove(...t.split(" "))})},Re}();var Le,Pe={};var Ie,Fe="development"===process.env.NODE_ENV?function(){if(Me)return R;Me=1;var e=L();F(),K(),U(),V(),X(),Q(),ne(),oe(),ae(),de(),he(),_e(),Ee(),ve();var t=$e,n=h;const r=t=>null!=t&&e.languages.hasOwnProperty(t)?t:void 0;function i(e,n){for(const r of e.childNodes){if(t.isHTMLElement(r)&&r.tagName===n)return!0;i(r,n)}return!1}const o="data-highlight-language";class s extends n.ElementNode{static getType(){return"code"}static clone(e){return new s(e.__language,e.__key)}constructor(e,t){super(t),this.__language=r(e)}createDOM(e){const n=document.createElement("code");t.addClassNamesToElement(n,e.theme.code),n.setAttribute("spellcheck","false");const r=this.getLanguage();return r&&n.setAttribute(o,r),n}updateDOM(e,t,n){const r=this.__language,i=e.__language;return r?r!==i&&t.setAttribute(o,r):i&&t.removeAttribute(o),!1}static importDOM(){return{code:e=>null!=e.textContent&&(/\r?\n/.test(e.textContent)||i(e,"BR"))?{conversion:c,priority:1}:null,div:e=>({conversion:u,priority:1}),pre:e=>({conversion:c,priority:0}),table:e=>m(e)?{conversion:d,priority:3}:null,td:e=>{const t=e,n=t.closest("table");return t.classList.contains("js-file-line")?{conversion:f,priority:3}:n&&m(n)?{conversion:g,priority:3}:null},tr:e=>{const t=e.closest("table");return t&&m(t)?{conversion:g,priority:3}:null}}}static importJSON(e){const t=l(e.language);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),type:"code",version:1}}insertNewAfter(e,t=!0){const r=this.getChildren(),i=r.length;if(i>=2&&"\n"===r[i-1].getTextContent()&&"\n"===r[i-2].getTextContent()&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===i){r[i-1].remove(),r[i-2].remove();const e=n.$createParagraphNode();return this.insertAfter(e,t),e}const o=e.anchor.getNode(),s=S(o);if(null!=s){let t=0;const r=s.getTextContent();for(;t<r.length&&/[\t ]/.test(r[t]);)t+=1;if(t>0){const i=v(r.substring(0,t));return o.insertAfter(i),e.insertNodes([n.$createLineBreakNode()]),i.select(),i}}return null}canInsertTab(){const e=n.$getSelection();return!(!n.$isRangeSelection(e)||!e.isCollapsed())}canIndent(){return!1}collapseAtStart(){const e=n.$createParagraphNode();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}setLanguage(e){this.getWritable().__language=r(e)}getLanguage(){return this.getLatest().__language}}function l(e){return n.$applyNodeReplacement(new s(e))}function a(e){return e instanceof s}function c(e){return{node:l(),preformatted:!0}}function u(e){const t=e,r=p(t);return r||function(e){let t=e.parentElement;for(;null!==t;){if(p(t))return!0;t=t.parentElement}return!1}(t)?{after:t=>{const r=e.parentNode;return null!=r&&e!==r.lastChild&&t.push(n.$createLineBreakNode()),t},node:r?l():null,preformatted:r}:{node:null}}function d(){return{node:l(),preformatted:!0}}function g(){return{node:null}}function f(e){const t=e;return{after:e=>(t.parentNode&&t.parentNode.nextSibling&&e.push(n.$createLineBreakNode()),e),node:null}}function p(e){return null!==e.style.fontFamily.match("monospace")}function m(e){return e.classList.contains("js-file-line-container")}const _="javascript",N={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},y={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};function E(e){return y[e]||e}class C extends n.TextNode{constructor(e,t,n){super(e,n),this.__highlightType=t}static getType(){return"code-highlight"}static clone(e){return new C(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}createDOM(e){const n=super.createDOM(e),r=x(e.theme,this.__highlightType);return t.addClassNamesToElement(n,r),n}updateDOM(e,n,r){const i=super.updateDOM(e,n,r),o=x(r.theme,e.__highlightType),s=x(r.theme,this.__highlightType);return o!==s&&(o&&t.removeClassNamesFromElement(n,o),s&&t.addClassNamesToElement(n,s)),i}static importJSON(e){const t=v(e.text,e.highlightType);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType(),type:"code-highlight",version:1}}setFormat(e){return this}isParentRequired(){return!0}createParentElementNode(){return l()}}function x(e,t){return t&&e&&e.codeHighlight&&e.codeHighlight[t]}function v(e,t){return n.$applyNodeReplacement(new C(e,t))}function T(e){return e instanceof C}function S(e){let t=null;const r=e.getPreviousSiblings();for(r.push(e);r.length>0;){const e=r.pop();if(T(e)&&(t=e),n.$isLineBreakNode(e))break}return t}function b(e){let t=null;const r=e.getNextSiblings();for(r.unshift(e);r.length>0;){const e=r.shift();if(T(e)&&(t=e),n.$isLineBreakNode(e))break}return t}const O={defaultLanguage:_,tokenize(t,n){return e.tokenize(t,e.languages[n||""]||e.languages[this.defaultLanguage])}};function w(e){return" "===e||"\t"===e}function A(e,t){const n=e.length;let r=-1;if(t)for(let t=0;t<n;t++){if(!w(e[t])){r=t;break}}else for(let t=n-1;t>-1;t--){if(!w(e[t])){r=t;break}}return r}function D(e){let t=null,r=-1;const i=e.getPreviousSiblings();for(i.push(e);i.length>0;){const e=i.pop();if(T(e)){const n=A(e.getTextContent(),!0);-1!==n&&(t=e,r=n)}if(n.$isLineBreakNode(e))break}if(null===t){const i=e.getNextSiblings();for(;i.length>0;){const e=i.shift();if(T(e)){const n=A(e.getTextContent(),!0);if(-1!==n){t=e,r=n;break}}if(n.$isLineBreakNode(e))break}}return{node:t,offset:r}}function k(e){let t=null,r=-1;const i=e.getNextSiblings();for(i.unshift(e);i.length>0;){const e=i.shift();if(T(e)){const n=A(e.getTextContent(),!1);-1!==n&&(t=e,r=n+1)}if(n.$isLineBreakNode(e))break}if(null===t){const i=e.getPreviousSiblings();for(;i.length>0;){const e=i.pop();if(T(e)){const n=A(e.getTextContent(),!1);if(-1!==n){t=e,r=n+1;break}}if(n.$isLineBreakNode(e))break}}return{node:t,offset:r}}function M(e,t,r){const i=e.getParent();a(i)?I(i,t,r):T(e)&&e.replace(n.$createTextNode(e.__text))}function $(e,t){const r=t.getElementByKey(e.getKey());if(null===r)return;const i=e.getChildren(),o=i.length;if(o===r.__cachedChildrenLength)return;r.__cachedChildrenLength=o;let s="1",l=1;for(let e=0;e<o;e++)n.$isLineBreakNode(i[e])&&(s+="\n"+ ++l);r.setAttribute("data-gutter",s)}const P=new Set;function I(e,t,r){const i=e.getKey();P.has(i)||(P.add(i),void 0===e.getLanguage()&&e.setLanguage(r.defaultLanguage),t.update(()=>{!function(e,t){const r=n.$getNodeByKey(e);if(!a(r)||!r.isAttached())return;const i=n.$getSelection();if(!n.$isRangeSelection(i))return void t();const o=i.anchor,s=o.offset,l="element"===o.type&&n.$isLineBreakNode(r.getChildAtIndex(o.offset-1));let c=0;if(!l){const e=o.getNode();c=s+e.getPreviousSiblings().reduce((e,t)=>e+t.getTextContentSize(),0)}if(!t())return;if(l)return void o.getNode().select(s,s);r.getChildren().some(e=>{const t=n.$isTextNode(e);if(t||n.$isLineBreakNode(e)){const n=e.getTextContentSize();if(t&&n>=c)return e.select(c,c),!0;c-=n}return!1})}(i,()=>{const t=n.$getNodeByKey(i);if(!a(t)||!t.isAttached())return!1;const o=t.getTextContent(),s=B(r.tokenize(o,t.getLanguage()||r.defaultLanguage)),l=function(e,t){let n=0;for(;n<e.length&&z(e[n],t[n]);)n++;const r=e.length,i=t.length,o=Math.min(r,i)-n;let s=0;for(;s<o;)if(s++,!z(e[r-s],t[i-s])){s--;break}const l=n,a=r-s,c=t.slice(n,i-s);return{from:l,nodesForReplacement:c,to:a}}(t.getChildren(),s),{from:c,to:u,nodesForReplacement:d}=l;return!(c===u&&!d.length)&&(e.splice(c,u-c,d),!0)})},{onUpdate:()=>{P.delete(i)},skipTransforms:!0}))}function B(e){const t=[];return e.forEach(e=>{if("string"==typeof e){const r=e.split("\n");for(let e=0;e<r.length;e++){const i=r[e];i.length&&t.push(v(i)),e<r.length-1&&t.push(n.$createLineBreakNode())}}else{const{content:n}=e;"string"==typeof n?t.push(v(n,e.type)):Array.isArray(n)&&1===n.length&&"string"==typeof n[0]?t.push(v(n[0],e.type)):Array.isArray(n)&&t.push(...B(n))}}),t}function z(e,t){return T(e)&&T(t)?e.__text===t.__text&&e.__highlightType===t.__highlightType:!(!n.$isLineBreakNode(e)||!n.$isLineBreakNode(t))}function H(e){const t=n.$getSelection();if(!n.$isRangeSelection(t)||t.isCollapsed())return!1;const r=t.getNodes();for(let e=0;e<r.length;e++){const t=r[e];if(!T(t)&&!n.$isLineBreakNode(t))return!1}const i=S(r[0]);null!=i&&W(i,e);for(let t=1;t<r.length;t++){const i=r[t];n.$isLineBreakNode(r[t-1])&&T(i)&&W(i,e)}return!0}function W(e,t){const r=e.getTextContent();if(t===n.INDENT_CONTENT_COMMAND)if(r.length>0&&/\s/.test(r[0]))e.setTextContent("\t"+r);else{const t=v("\t");e.insertBefore(t)}else 0===r.indexOf("\t")&&(1===r.length?e.remove():e.setTextContent(r.substring(1)))}function Y(e,t){const r=n.$getSelection();if(!n.$isRangeSelection(r))return!1;const{anchor:i,focus:o}=r,s=i.offset,l=o.offset,a=i.getNode(),c=o.getNode(),u=e===n.KEY_ARROW_UP_COMMAND;if(!T(a)||!T(c))return!1;if(!t.altKey){if(r.isCollapsed()){const e=a.getParentOrThrow();if(u&&0===s&&null===a.getPreviousSibling()){if(null===e.getPreviousSibling())return e.selectPrevious(),t.preventDefault(),!0}else if(!u&&s===a.getTextContentSize()&&null===a.getNextSibling()){if(null===e.getNextSibling())return e.selectNext(),t.preventDefault(),!0}}return!1}const d=S(a),g=b(c);if(null==d||null==g)return!1;const f=d.getNodesBetween(g);for(let e=0;e<f.length;e++){const t=f[e];if(!T(t)&&!n.$isLineBreakNode(t))return!1}t.preventDefault(),t.stopPropagation();const h=u?d.getPreviousSibling():g.getNextSibling();if(!n.$isLineBreakNode(h))return!0;const p=u?h.getPreviousSibling():h.getNextSibling();if(null==p)return!0;const m=u?S(p):b(p);let _=null!=m?m:p;return h.remove(),f.forEach(e=>e.remove()),e===n.KEY_ARROW_UP_COMMAND?(f.forEach(e=>_.insertBefore(e)),_.insertBefore(h)):(_.insertAfter(h),_=h,f.forEach(e=>{_.insertAfter(e),_=e})),r.setTextNodeRange(a,s,c,l),!0}function G(e,t){const r=n.$getSelection();if(!n.$isRangeSelection(r))return!1;const{anchor:i,focus:o}=r,s=i.getNode(),l=o.getNode(),a=e===n.MOVE_TO_START;if(!T(s)||!T(l))return!1;let c,u;return({node:c,offset:u}=a?D(l):k(l)),null!==c&&-1!==u&&r.setTextNodeRange(c,u,c,u),t.preventDefault(),t.stopPropagation(),!0}return R.$createCodeHighlightNode=v,R.$createCodeNode=l,R.$isCodeHighlightNode=T,R.$isCodeNode=a,R.CODE_LANGUAGE_FRIENDLY_NAME_MAP=N,R.CODE_LANGUAGE_MAP=y,R.CodeHighlightNode=C,R.CodeNode=s,R.DEFAULT_CODE_LANGUAGE=_,R.PrismTokenizer=O,R.getCodeLanguages=()=>Object.keys(e.languages).filter(t=>"function"!=typeof e.languages[t]).sort(),R.getDefaultCodeLanguage=()=>_,R.getEndOfCodeInLine=k,R.getFirstCodeHighlightNodeOfLine=S,R.getLanguageFriendlyName=function(e){const t=E(e);return N[t]||t},R.getLastCodeHighlightNodeOfLine=b,R.getStartOfCodeInLine=D,R.normalizeCodeLang=E,R.registerCodeHighlighting=function(e,r){if(!e.hasNodes([s,C]))throw new Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");return null==r&&(r=O),t.mergeRegister(e.registerMutationListener(s,t=>{e.update(()=>{for(const[r,i]of t)if("destroyed"!==i){const t=n.$getNodeByKey(r);null!==t&&$(t,e)}})}),e.registerNodeTransform(s,t=>I(t,e,r)),e.registerNodeTransform(n.TextNode,t=>M(t,e,r)),e.registerNodeTransform(C,t=>M(t,e,r)),e.registerCommand(n.INDENT_CONTENT_COMMAND,e=>H(n.INDENT_CONTENT_COMMAND),n.COMMAND_PRIORITY_LOW),e.registerCommand(n.OUTDENT_CONTENT_COMMAND,e=>H(n.OUTDENT_CONTENT_COMMAND),n.COMMAND_PRIORITY_LOW),e.registerCommand(n.KEY_ARROW_UP_COMMAND,e=>Y(n.KEY_ARROW_UP_COMMAND,e),n.COMMAND_PRIORITY_LOW),e.registerCommand(n.KEY_ARROW_DOWN_COMMAND,e=>Y(n.KEY_ARROW_DOWN_COMMAND,e),n.COMMAND_PRIORITY_LOW),e.registerCommand(n.MOVE_TO_END,e=>G(n.MOVE_TO_END,e),n.COMMAND_PRIORITY_LOW),e.registerCommand(n.MOVE_TO_START,e=>G(n.MOVE_TO_START,e),n.COMMAND_PRIORITY_LOW))},R}():function(){if(Le)return Pe;Le=1;var e=L();F(),K(),U(),V(),X(),Q(),ne(),oe(),ae(),de(),he(),_e(),Ee(),ve();var t=$e,n=h;let r=t=>null!=t&&e.languages.hasOwnProperty(t)?t:void 0;function i(e,n){for(let r of e.childNodes){if(t.isHTMLElement(r)&&r.tagName===n)return!0;i(r,n)}return!1}class o extends n.ElementNode{static getType(){return"code"}static clone(e){return new o(e.__language,e.__key)}constructor(e,t){super(t),this.__language=r(e)}createDOM(e){let n=document.createElement("code");return t.addClassNamesToElement(n,e.theme.code),n.setAttribute("spellcheck","false"),(e=this.getLanguage())&&n.setAttribute("data-highlight-language",e),n}updateDOM(e,t){let n=this.__language;return e=e.__language,n?n!==e&&t.setAttribute("data-highlight-language",n):e&&t.removeAttribute("data-highlight-language"),!1}static importDOM(){return{code:e=>null!=e.textContent&&(/\r?\n/.test(e.textContent)||i(e,"BR"))?{conversion:a,priority:1}:null,div:()=>({conversion:c,priority:1}),pre:()=>({conversion:a,priority:0}),table:e=>f(e)?{conversion:u,priority:3}:null,td:e=>{let t=e.closest("table");return e.classList.contains("js-file-line")?{conversion:g,priority:3}:t&&f(t)?{conversion:d,priority:3}:null},tr:e=>(e=e.closest("table"))&&f(e)?{conversion:d,priority:3}:null}}static importJSON(e){let t=s(e.language);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),language:this.getLanguage(),type:"code",version:1}}insertNewAfter(e,t=!0){var r=this.getChildren(),i=r.length;if(2<=i&&"\n"===r[i-1].getTextContent()&&"\n"===r[i-2].getTextContent()&&e.isCollapsed()&&e.anchor.key===this.__key&&e.anchor.offset===i)return r[i-1].remove(),r[i-2].remove(),e=n.$createParagraphNode(),this.insertAfter(e,t),e;if(null!=(i=x(t=e.anchor.getNode()))){for(r=0,i=i.getTextContent();r<i.length&&/[\t ]/.test(i[r]);)r+=1;if(0<r)return r=E(r=i.substring(0,r)),t.insertAfter(r),e.insertNodes([n.$createLineBreakNode()]),r.select(),r}return null}canInsertTab(){let e=n.$getSelection();return!(!n.$isRangeSelection(e)||!e.isCollapsed())}canIndent(){return!1}collapseAtStart(){let e=n.$createParagraphNode();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}setLanguage(e){this.getWritable().__language=r(e)}getLanguage(){return this.getLatest().__language}}function s(e){return n.$applyNodeReplacement(new o(e))}function l(e){return e instanceof o}function a(){return{node:s(),preformatted:!0}}function c(e){let t=null!==e.style.fontFamily.match("monospace");return t||function(e){for(e=e.parentElement;null!==e;){if(null!==e.style.fontFamily.match("monospace"))return!0;e=e.parentElement}return!1}(e)?{after:t=>{let r=e.parentNode;return null!=r&&e!==r.lastChild&&t.push(n.$createLineBreakNode()),t},node:t?s():null,preformatted:t}:{node:null}}function u(){return{node:s(),preformatted:!0}}function d(){return{node:null}}function g(e){return{after:t=>(e.parentNode&&e.parentNode.nextSibling&&t.push(n.$createLineBreakNode()),t),node:null}}function f(e){return e.classList.contains("js-file-line-container")}let p={c:"C",clike:"C-like",cpp:"C++",css:"CSS",html:"HTML",java:"Java",js:"JavaScript",markdown:"Markdown",objc:"Objective-C",plain:"Plain Text",py:"Python",rust:"Rust",sql:"SQL",swift:"Swift",typescript:"TypeScript",xml:"XML"},m={cpp:"cpp",java:"java",javascript:"js",md:"markdown",plaintext:"plain",python:"py",text:"plain",ts:"typescript"};function _(e){return m[e]||e}class N extends n.TextNode{constructor(e,t,n){super(e,n),this.__highlightType=t}static getType(){return"code-highlight"}static clone(e){return new N(e.__text,e.__highlightType||void 0,e.__key)}getHighlightType(){return this.getLatest().__highlightType}createDOM(e){let n=super.createDOM(e);return e=y(e.theme,this.__highlightType),t.addClassNamesToElement(n,e),n}updateDOM(e,n,r){let i=super.updateDOM(e,n,r);return(e=y(r.theme,e.__highlightType))!==(r=y(r.theme,this.__highlightType))&&(e&&t.removeClassNamesFromElement(n,e),r&&t.addClassNamesToElement(n,r)),i}static importJSON(e){let t=E(e.text,e.highlightType);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportJSON(){return{...super.exportJSON(),highlightType:this.getHighlightType(),type:"code-highlight",version:1}}setFormat(){return this}isParentRequired(){return!0}createParentElementNode(){return s()}}function y(e,t){return t&&e&&e.codeHighlight&&e.codeHighlight[t]}function E(e,t){return n.$applyNodeReplacement(new N(e,t))}function C(e){return e instanceof N}function x(e){let t=null,r=e.getPreviousSiblings();for(r.push(e);0<r.length&&(C(e=r.pop())&&(t=e),!n.$isLineBreakNode(e)););return t}function v(e){let t=null,r=e.getNextSiblings();for(r.unshift(e);0<r.length&&(C(e=r.shift())&&(t=e),!n.$isLineBreakNode(e)););return t}let T={defaultLanguage:"javascript",tokenize(t,n){return e.tokenize(t,e.languages[n||""]||e.languages[this.defaultLanguage])}};function S(e,t){var n=e.length;let r=-1;if(t)for(t=0;t<n;t++){let n=e[t];if(" "!==n&&"\t"!==n){r=t;break}}else for(--n;-1<n;n--)if(" "!==(t=e[n])&&"\t"!==t){r=n;break}return r}function b(e){let t=null,r=-1;var i=e.getPreviousSiblings();for(i.push(e);0<i.length;){var o=i.pop();if(C(o)){var s=o.getTextContent();-1!==(s=S(s,!0))&&(t=o,r=s)}if(n.$isLineBreakNode(o))break}if(null===t)for(e=e.getNextSiblings();0<e.length;){if(C(i=e.shift())&&-1!==(o=S(o=i.getTextContent(),!0))){t=i,r=o;break}if(n.$isLineBreakNode(i))break}return{node:t,offset:r}}function O(e){let t=null,r=-1;var i=e.getNextSiblings();for(i.unshift(e);0<i.length;){var o=i.shift();if(C(o)){var s=o.getTextContent();-1!==(s=S(s,!1))&&(t=o,r=s+1)}if(n.$isLineBreakNode(o))break}if(null===t)for(e=e.getPreviousSiblings();0<e.length;){if(C(i=e.pop())&&-1!==(o=S(o=i.getTextContent(),!1))){t=i,r=o+1;break}if(n.$isLineBreakNode(i))break}return{node:t,offset:r}}function w(e,t,r){let i=e.getParent();l(i)?D(i,t,r):C(e)&&e.replace(n.$createTextNode(e.__text))}let A=new Set;function D(e,t,r){let i=e.getKey();A.has(i)||(A.add(i),void 0===e.getLanguage()&&e.setLanguage(r.defaultLanguage),t.update(()=>{!function(e,t){if(e=n.$getNodeByKey(e),l(e)&&e.isAttached()){var r=n.$getSelection();if(n.$isRangeSelection(r)){var i=(r=r.anchor).offset,o="element"===r.type&&n.$isLineBreakNode(e.getChildAtIndex(r.offset-1)),s=0;if(!o){let e=r.getNode();s=i+e.getPreviousSiblings().reduce((e,t)=>e+t.getTextContentSize(),0)}t()&&(o?r.getNode().select(i,i):e.getChildren().some(e=>{let t=n.$isTextNode(e);if(t||n.$isLineBreakNode(e)){let n=e.getTextContentSize();if(t&&n>=s)return e.select(s,s),!0;s-=n}return!1}))}else t()}}(i,()=>{var t=n.$getNodeByKey(i);if(!l(t)||!t.isAttached())return!1;var o=t.getTextContent();o=k(o=r.tokenize(o,t.getLanguage()||r.defaultLanguage));var s=t.getChildren();for(t=0;t<s.length&&R(s[t],o[t]);)t++;var a=s.length;let c=o.length,u=Math.min(a,c)-t,d=0;for(;d<u;)if(d++,!R(s[a-d],o[c-d])){d--;break}s=t,a-=d,o=o.slice(t,c-d);let{from:g,to:f,nodesForReplacement:h}={from:s,nodesForReplacement:o,to:a};return!(g===f&&!h.length)&&(e.splice(g,f-g,h),!0)})},{onUpdate:()=>{A.delete(i)},skipTransforms:!0}))}function k(e){let t=[];return e.forEach(e=>{if("string"==typeof e){e=e.split("\n");for(var r=0;r<e.length;r++){let i=e[r];i.length&&t.push(E(i)),r<e.length-1&&t.push(n.$createLineBreakNode())}}else({content:r}=e),"string"==typeof r?t.push(E(r,e.type)):Array.isArray(r)&&1===r.length&&"string"==typeof r[0]?t.push(E(r[0],e.type)):Array.isArray(r)&&t.push(...k(r))}),t}function R(e,t){return C(e)&&C(t)?e.__text===t.__text&&e.__highlightType===t.__highlightType:!(!n.$isLineBreakNode(e)||!n.$isLineBreakNode(t))}function M(e){var t=n.$getSelection();if(!n.$isRangeSelection(t)||t.isCollapsed())return!1;t=t.getNodes();for(var r=0;r<t.length;r++){var i=t[r];if(!C(i)&&!n.$isLineBreakNode(i))return!1}for(null!=(r=x(t[0]))&&$(r,e),r=1;r<t.length;r++)i=t[r],n.$isLineBreakNode(t[r-1])&&C(i)&&$(i,e);return!0}function $(e,t){let r=e.getTextContent();t===n.INDENT_CONTENT_COMMAND?0<r.length&&/\s/.test(r[0])?e.setTextContent("\t"+r):(t=E("\t"),e.insertBefore(t)):0===r.indexOf("\t")&&(1===r.length?e.remove():e.setTextContent(r.substring(1)))}function P(e,t){let r=n.$getSelection();if(!n.$isRangeSelection(r))return!1;let{anchor:i,focus:o}=r,s=i.offset,l=o.offset,a=i.getNode(),c=o.getNode();var u=e===n.KEY_ARROW_UP_COMMAND;if(!C(a)||!C(c))return!1;if(!t.altKey){if(r.isCollapsed())if(e=a.getParentOrThrow(),u&&0===s&&null===a.getPreviousSibling()){if(null===e.getPreviousSibling())return e.selectPrevious(),t.preventDefault(),!0}else if(!u&&s===a.getTextContentSize()&&null===a.getNextSibling()&&null===e.getNextSibling())return e.selectNext(),t.preventDefault(),!0;return!1}var d=x(a);let g=v(c);if(null==d||null==g)return!1;let f=d.getNodesBetween(g);for(let e=0;e<f.length;e++){let t=f[e];if(!C(t)&&!n.$isLineBreakNode(t))return!1}if(t.preventDefault(),t.stopPropagation(),t=u?d.getPreviousSibling():g.getNextSibling(),!n.$isLineBreakNode(t))return!0;if(null==(d=u?t.getPreviousSibling():t.getNextSibling()))return!0;let h=null!=(u=u?x(d):v(d))?u:d;return t.remove(),f.forEach(e=>e.remove()),e===n.KEY_ARROW_UP_COMMAND?(f.forEach(e=>h.insertBefore(e)),h.insertBefore(t)):(h.insertAfter(t),h=t,f.forEach(e=>{h.insertAfter(e),h=e})),r.setTextNodeRange(a,s,c,l),!0}function I(e,t){let r=n.$getSelection();if(!n.$isRangeSelection(r))return!1;let i,o,{anchor:s,focus:l}=r,a=s.getNode(),c=l.getNode();return e=e===n.MOVE_TO_START,!(!C(a)||!C(c))&&(({node:i,offset:o}=e?b(c):O(c)),null!==i&&-1!==o&&r.setTextNodeRange(i,o,i,o),t.preventDefault(),t.stopPropagation(),!0)}return Pe.$createCodeHighlightNode=E,Pe.$createCodeNode=s,Pe.$isCodeHighlightNode=C,Pe.$isCodeNode=l,Pe.CODE_LANGUAGE_FRIENDLY_NAME_MAP=p,Pe.CODE_LANGUAGE_MAP=m,Pe.CodeHighlightNode=N,Pe.CodeNode=o,Pe.DEFAULT_CODE_LANGUAGE="javascript",Pe.PrismTokenizer=T,Pe.getCodeLanguages=()=>Object.keys(e.languages).filter(t=>"function"!=typeof e.languages[t]).sort(),Pe.getDefaultCodeLanguage=()=>"javascript",Pe.getEndOfCodeInLine=O,Pe.getFirstCodeHighlightNodeOfLine=x,Pe.getLanguageFriendlyName=function(e){return e=_(e),p[e]||e},Pe.getLastCodeHighlightNodeOfLine=v,Pe.getStartOfCodeInLine=b,Pe.normalizeCodeLang=_,Pe.registerCodeHighlighting=function(e,r){if(!e.hasNodes([o,N]))throw Error("CodeHighlightPlugin: CodeNode or CodeHighlightNode not registered on editor");return null==r&&(r=T),t.mergeRegister(e.registerMutationListener(o,t=>{e.update(()=>{for(let[o,s]of t)if("destroyed"!==s){var r=n.$getNodeByKey(o);if(null!==r)e:{var i=r;if(null===(r=e.getElementByKey(i.getKey())))break e;let t=(i=i.getChildren()).length;if(t===r.__cachedChildrenLength)break e;r.__cachedChildrenLength=t;let o="1",s=1;for(let e=0;e<t;e++)n.$isLineBreakNode(i[e])&&(o+="\n"+ ++s);r.setAttribute("data-gutter",o)}}})}),e.registerNodeTransform(o,t=>D(t,e,r)),e.registerNodeTransform(n.TextNode,t=>w(t,e,r)),e.registerNodeTransform(N,t=>w(t,e,r)),e.registerCommand(n.INDENT_CONTENT_COMMAND,()=>M(n.INDENT_CONTENT_COMMAND),n.COMMAND_PRIORITY_LOW),e.registerCommand(n.OUTDENT_CONTENT_COMMAND,()=>M(n.OUTDENT_CONTENT_COMMAND),n.COMMAND_PRIORITY_LOW),e.registerCommand(n.KEY_ARROW_UP_COMMAND,e=>P(n.KEY_ARROW_UP_COMMAND,e),n.COMMAND_PRIORITY_LOW),e.registerCommand(n.KEY_ARROW_DOWN_COMMAND,e=>P(n.KEY_ARROW_DOWN_COMMAND,e),n.COMMAND_PRIORITY_LOW),e.registerCommand(n.MOVE_TO_END,e=>I(n.MOVE_TO_END,e),n.COMMAND_PRIORITY_LOW),e.registerCommand(n.MOVE_TO_START,e=>I(n.MOVE_TO_START,e),n.COMMAND_PRIORITY_LOW))},Pe}(),Be={};var ze,Ke={};var He,We="development"===process.env.NODE_ENV?function(){if(Ie)return Be;Ie=1;var e=h,t=$e;function n(e){let t=1,n=e.getParent();for(;null!=n;){if(E(n)){const e=n.getParent();if(O(e)){t++,n=e.getParent();continue}throw Error("A ListItemNode must have a ListNode for a parent.")}return t}return t}function r(e){let t=e.getParent();if(!O(t))throw Error("A ListItemNode must have a ListNode for a parent.");let n=t;for(;null!==n;)n=n.getParent(),O(n)&&(t=n);return t}function i(e){let t=[];const n=e.getChildren().filter(E);for(let e=0;e<n.length;e++){const r=n[e],o=r.getFirstChild();O(o)?t=t.concat(i(o)):t.push(r)}return t}function o(e){return E(e)&&O(e.getFirstChild())}function s(e){return y().append(e)}function l(e,t){return E(e)&&(0===t.length||1===t.length&&e.is(t[0])&&0===e.getChildrenSize())}function a(e){const t=e.getParent();let n=1;if(null!=t){if(!O(t))throw Error("$getListItemValue: list node is not parent of list item node");n=t.getStart()}const r=e.getPreviousSiblings();for(let e=0;e<r.length;e++){const t=r[e];E(t)&&!O(t.getFirstChild())&&n++}return n}function c(e,t){e.splice(e.getChildrenSize(),0,t)}function u(e,t){if(O(e))return e;const n=e.getPreviousSibling(),r=e.getNextSibling(),i=y();if(i.setFormat(e.getFormatType()),i.setIndent(e.getIndent()),c(i,e.getChildren()),O(n)&&t===n.getListType())return n.append(i),e.remove(),O(r)&&t===r.getListType()&&(c(n,r.getChildren()),r.remove()),n;if(O(r)&&t===r.getListType())return r.getFirstChildOrThrow().insertBefore(i),e.remove(),r;{const n=b(t);return n.append(i),e.replace(n),d(n),n}}function d(e,t){const n=t||e.getChildren();if(void 0!==n)for(let e=0;e<n.length;e++){const t=n[e];if(E(t)){const e=t.getValue(),n=a(t);e!==n&&t.setValue(n)}}}function g(e){const t=new Set;if(o(e)||t.has(e.getKey()))return;const n=e.getParent(),r=e.getNextSibling(),i=e.getPreviousSibling();if(o(r)&&o(i)){const n=i.getFirstChild();if(O(n)){n.append(e);const i=r.getFirstChild();if(O(i)){c(n,i.getChildren()),r.remove(),t.add(r.getKey())}d(n)}}else if(o(r)){const t=r.getFirstChild();if(O(t)){const n=t.getFirstChild();null!==n&&n.insertBefore(e),d(t)}}else if(o(i)){const t=i.getFirstChild();O(t)&&(t.append(e),d(t))}else if(O(n)){const t=y(),o=b(n.getListType());t.append(o),o.append(e),i?i.insertAfter(t):r?r.insertBefore(t):n.append(t)}O(n)&&d(n)}function f(e){if(o(e))return;const t=e.getParent(),n=t?t.getParent():void 0,r=n?n.getParent():void 0;if(O(r)&&E(n)&&O(t)){const i=t?t.getFirstChild():void 0,o=t?t.getLastChild():void 0;if(e.is(i))n.insertBefore(e),t.isEmpty()&&n.remove();else if(e.is(o))n.insertAfter(e),t.isEmpty()&&n.remove();else{const r=t.getListType(),i=y(),o=b(r);i.append(o),e.getPreviousSiblings().forEach(e=>o.append(e));const s=y(),l=b(r);s.append(l),c(l,e.getNextSiblings()),n.insertBefore(i),n.insertAfter(s),n.replace(e)}d(t),d(r)}}class p extends e.ElementNode{static getType(){return"listitem"}static clone(e){return new p(e.__value,e.__checked,e.__key)}constructor(e,t,n){super(n),this.__value=void 0===e?1:e,this.__checked=t}createDOM(e){const t=document.createElement("li"),n=this.getParent();return O(n)&&(d(n),_(t,this,null,n)),t.value=this.__value,m(t,e.theme,this),t}updateDOM(e,t,n){const r=this.getParent();return O(r)&&(d(r),_(t,this,e,r)),t.value=this.__value,m(t,n.theme,this),!1}static importDOM(){return{li:e=>({conversion:N,priority:0})}}static importJSON(e){const t=new p(e.value,e.checked);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...t){for(let n=0;n<t.length;n++){const r=t[n];if(e.$isElementNode(r)&&this.canMergeWith(r)){const e=r.getChildren();this.append(...e),r.remove()}else super.append(r)}return this}replace(e,t){if(E(e))return super.replace(e);const n=this.getParentOrThrow();if(O(n)){const r=n.getChildrenKeys(),i=r.length,o=r.indexOf(this.__key);if(0===o)n.insertBefore(e);else if(o===i-1)n.insertAfter(e);else{const t=b(n.getListType()),r=n.getChildren();for(let e=o+1;e<i;e++){const n=r[e];t.append(n)}n.insertAfter(e),e.insertAfter(t)}t&&this.getChildren().forEach(t=>{e.append(t)}),this.remove(),1===i&&n.remove()}return e}insertAfter(e,t=!0){const n=this.getParentOrThrow();if(!O(n))throw Error("insertAfter: list node is not parent of list item node");const r=this.getNextSiblings();if(E(e)){const n=super.insertAfter(e,t),r=e.getParentOrThrow();return O(r)&&d(r),n}if(O(e)&&e.getListType()===n.getListType()){let n=e;const r=e.getChildren();for(let e=r.length-1;e>=0;e--)n=r[e],this.insertAfter(n,t);return n}if(n.insertAfter(e,t),0!==r.length){const i=b(n.getListType());r.forEach(e=>i.append(e)),e.insertAfter(i,t)}return e}remove(e){const t=this.getNextSibling();if(super.remove(e),null!==t){const e=t.getParent();O(e)&&d(e)}}insertNewAfter(e,t=!0){const n=y(null==this.__checked&&void 0);return this.insertAfter(n,t),n}collapseAtStart(t){const n=e.$createParagraphNode();this.getChildren().forEach(e=>n.append(e));const r=this.getParentOrThrow(),i=r.getParentOrThrow(),o=E(i);if(1===r.getChildrenSize())if(o)r.remove(),i.select();else{r.insertBefore(n),r.remove();const e=t.anchor,i=t.focus,o=n.getKey();"element"===e.type&&e.getNode().is(this)&&e.set(o,e.offset,"element"),"element"===i.type&&i.getNode().is(this)&&i.set(o,i.offset,"element")}else r.insertBefore(n),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){this.getWritable().__value=e}getChecked(){return this.getLatest().__checked}setChecked(e){this.getWritable().__checked=e}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){const e=this.getParent();if(null===e)return this.getLatest().__indent;let t=e.getParentOrThrow(),n=0;for(;E(t);)t=t.getParentOrThrow().getParentOrThrow(),n++;return n}setIndent(e){let t=this.getIndent();for(;t!==e;)t<e?(g(this),t++):(f(this),t--);return this}insertBefore(e){if(E(e)){const e=this.getParentOrThrow();if(O(e)){d(e,this.getNextSiblings())}}return super.insertBefore(e)}canInsertAfter(e){return E(e)}canReplaceWith(e){return E(e)}canMergeWith(t){return e.$isParagraphNode(t)||E(t)}extractWithChild(t,n){if(!e.$isRangeSelection(n))return!1;const r=n.anchor.getNode(),i=n.focus.getNode();return this.isParentOf(r)&&this.isParentOf(i)&&this.getTextContent().length===n.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return b("bullet")}}function m(e,n,r){const i=[],o=[],s=n.list,l=s?s.listitem:void 0;let a;if(s&&s.nested&&(a=s.nested.listitem),void 0!==l){const e=l.split(" ");i.push(...e)}if(s){const e=r.getParent(),t=O(e)&&"check"===e.getListType(),n=r.getChecked();t&&!n||o.push(s.listitemUnchecked),t&&n||o.push(s.listitemChecked),t&&i.push(n?s.listitemChecked:s.listitemUnchecked)}if(void 0!==a){const e=a.split(" ");r.getChildren().some(e=>O(e))?i.push(...e):o.push(...e)}o.length>0&&t.removeClassNamesFromElement(e,...o),i.length>0&&t.addClassNamesToElement(e,...i)}function _(e,t,n,r){"check"===r.getListType()?O(t.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),n&&t.__checked===n.__checked||e.setAttribute("aria-checked",t.getChecked()?"true":"false")):null!=t.getChecked()&&t.setChecked(void 0)}function N(e){return{node:y(t.isHTMLElement(e)&&"true"===e.getAttribute("aria-checked"))}}function y(t){return e.$applyNodeReplacement(new p(void 0,t))}function E(e){return e instanceof p}class C extends e.ElementNode{static getType(){return"list"}static clone(e){const t=e.__listType||S[e.__tag];return new C(t,e.__start,e.__key)}constructor(e,t,n){super(n);const r=S[e]||e;this.__listType=r,this.__tag="number"===r?"ol":"ul",this.__start=t}getTag(){return this.__tag}getListType(){return this.__listType}getStart(){return this.__start}createDOM(e,t){const n=this.__tag,r=document.createElement(n);return 1!==this.__start&&r.setAttribute("start",String(this.__start)),r.__lexicalListType=this.__listType,x(r,e.theme,this),r}updateDOM(e,t,n){return e.__tag!==this.__tag||(x(t,n.theme,this),!1)}static importDOM(){return{ol:e=>({conversion:T,priority:0}),ul:e=>({conversion:T,priority:0})}}static importJSON(e){const t=b(e.listType,e.start);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportDOM(e){const{element:t}=super.exportDOM(e);return t&&(1!==this.__start&&t.setAttribute("start",String(this.__start)),"check"===this.__listType&&t.setAttribute("__lexicalListType","check")),{element:t}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...t){for(let n=0;n<t.length;n++){const r=t[n];if(E(r))super.append(r);else{const t=y();if(O(r))t.append(r);else if(e.$isElementNode(r)){const n=e.$createTextNode(r.getTextContent());t.append(n)}else t.append(r);super.append(t)}}return this}extractWithChild(e){return E(e)}}function x(e,r,i){const o=[],s=[],l=r.list;if(void 0!==l){const e=l[`${i.__tag}Depth`]||[],t=n(i)-1,r=t%e.length,a=e[r],c=l[i.__tag];let u;const d=l.nested;if(void 0!==d&&d.list&&(u=d.list),void 0!==c&&o.push(c),void 0!==a){const t=a.split(" ");o.push(...t);for(let t=0;t<e.length;t++)t!==r&&s.push(i.__tag+t)}if(void 0!==u){const e=u.split(" ");t>1?o.push(...e):s.push(...e)}}s.length>0&&t.removeClassNamesFromElement(e,...s),o.length>0&&t.addClassNamesToElement(e,...o)}function v(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(E(r)){t.push(r);const e=r.getChildren();e.length>1&&e.forEach(e=>{O(e)&&t.push(s(e))})}else t.push(s(r))}return t}function T(e){const n=e.nodeName.toLowerCase();let r=null;return"ol"===n?r=b("number"):"ul"===n&&(r=t.isHTMLElement(e)&&"check"===e.getAttribute("__lexicallisttype")?b("check"):b("bullet")),{after:v,node:r}}const S={ol:"number",ul:"bullet"};function b(t,n=1){return e.$applyNodeReplacement(new C(t,n))}function O(e){return e instanceof C}const w=e.createCommand("INSERT_UNORDERED_LIST_COMMAND"),A=e.createCommand("INSERT_ORDERED_LIST_COMMAND"),D=e.createCommand("INSERT_CHECK_LIST_COMMAND"),k=e.createCommand("REMOVE_LIST_COMMAND");return Be.$createListItemNode=y,Be.$createListNode=b,Be.$getListDepth=n,Be.$handleListInsertParagraph=function(){const t=e.$getSelection();if(!e.$isRangeSelection(t)||!t.isCollapsed())return!1;const n=t.anchor.getNode();if(!E(n)||""!==n.getTextContent())return!1;const i=r(n),o=n.getParent();if(!O(o))throw Error("A ListItemNode must have a ListNode for a parent.");const s=o.getParent();let l;if(e.$isRootOrShadowRoot(s))l=e.$createParagraphNode(),i.insertAfter(l);else{if(!E(s))return!1;l=y(),s.insertAfter(l)}l.select();const a=n.getNextSiblings();if(a.length>0){const t=b(o.getListType());if(e.$isParagraphNode(l))l.insertAfter(t);else{const e=y();e.append(t),l.insertAfter(e)}a.forEach(e=>{e.remove(),t.append(e)})}return function(e){let t=e;for(;null==t.getNextSibling()&&null==t.getPreviousSibling();){const e=t.getParent();if(null==e||!E(t)&&!O(t))break;t=e}t.remove()}(n),!0},Be.$isListItemNode=E,Be.$isListNode=O,Be.INSERT_CHECK_LIST_COMMAND=D,Be.INSERT_ORDERED_LIST_COMMAND=A,Be.INSERT_UNORDERED_LIST_COMMAND=w,Be.ListItemNode=p,Be.ListNode=C,Be.REMOVE_LIST_COMMAND=k,Be.insertList=function(t,n){t.update(()=>{const t=e.$getSelection();if(e.$isRangeSelection(t)||e.DEPRECATED_$isGridSelection(t)){const r=t.getNodes(),i=t.anchor.getNode(),o=i.getParent();if(l(i,r)){const t=b(n);if(e.$isRootOrShadowRoot(o)){i.replace(t);const n=y();e.$isElementNode(i)&&(n.setFormat(i.getFormatType()),n.setIndent(i.getIndent())),t.append(n)}else if(E(i)){const e=i.getParentOrThrow();c(t,e.getChildren()),e.replace(t)}return}{const t=new Set;for(let i=0;i<r.length;i++){const o=r[i];if(e.$isElementNode(o)&&o.isEmpty()&&!t.has(o.getKey()))u(o,n);else if(e.$isLeafNode(o)){let r=o.getParent();for(;null!=r;){const i=r.getKey();if(O(r)){if(!t.has(i)){const e=b(n);c(e,r.getChildren()),r.replace(e),d(e),t.add(i)}break}{const o=r.getParent();if(e.$isRootOrShadowRoot(o)&&!t.has(i)){t.add(i),u(r,n);break}r=o}}}}}}})},Be.removeList=function(n){n.update(()=>{const n=e.$getSelection();if(e.$isRangeSelection(n)){const o=new Set,s=n.getNodes(),a=n.anchor.getNode();if(l(a,s))o.add(r(a));else for(let n=0;n<s.length;n++){const i=s[n];if(e.$isLeafNode(i)){const e=t.$getNearestNodeOfType(i,p);null!=e&&o.add(r(e))}}for(const t of o){let r=t;const o=i(t);for(const t of o){const i=e.$createParagraphNode();c(i,t.getChildren()),r.insertAfter(i),r=i,t.__key===n.anchor.key&&n.anchor.set(i.getKey(),0,"element"),t.__key===n.focus.key&&n.focus.set(i.getKey(),0,"element"),t.remove()}t.remove()}}})},Be}():function(){if(ze)return Ke;ze=1;var e=h,t=$e;function n(e){throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?code=${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function r(e){let t=1;for(e=e.getParent();null!=e;){if(y(e)){if(b(e=e.getParent())){t++,e=e.getParent();continue}n(40)}break}return t}function i(e){b(e=e.getParent())||n(40);let t=e;for(;null!==t;)t=t.getParent(),b(t)&&(e=t);return e}function o(e){let t=[];e=e.getChildren().filter(y);for(let n=0;n<e.length;n++){let r=e[n],i=r.getFirstChild();b(i)?t=t.concat(o(i)):t.push(r)}return t}function s(e){return y(e)&&b(e.getFirstChild())}function l(e){return N().append(e)}function a(e,t){return y(e)&&(0===t.length||1===t.length&&e.is(t[0])&&0===e.getChildrenSize())}function c(e,t){e.splice(e.getChildrenSize(),0,t)}function u(e,t){if(b(e))return e;let n=e.getPreviousSibling(),r=e.getNextSibling(),i=N();return i.setFormat(e.getFormatType()),i.setIndent(e.getIndent()),c(i,e.getChildren()),b(n)&&t===n.getListType()?(n.append(i),e.remove(),b(r)&&t===r.getListType()&&(c(n,r.getChildren()),r.remove()),n):b(r)&&t===r.getListType()?(r.getFirstChildOrThrow().insertBefore(i),e.remove(),r):((t=S(t)).append(i),e.replace(t),d(t),t)}function d(e,t){if(void 0!==(e=t||e.getChildren()))for(t=0;t<e.length;t++){let s=e[t];if(y(s)){let e=s.getValue();var r=s,i=r.getParent(),o=1;for(null!=i&&(b(i)?o=i.getStart():n(44)),r=r.getPreviousSiblings(),i=0;i<r.length;i++){let e=r[i];y(e)&&!b(e.getFirstChild())&&o++}e!==o&&s.setValue(o)}}}function g(e){if(!s(e)){var t=e.getParent(),n=t?t.getParent():void 0,r=n?n.getParent():void 0;if(b(r)&&y(n)&&b(t)){var i=t?t.getFirstChild():void 0,o=t?t.getLastChild():void 0;if(e.is(i))n.insertBefore(e),t.isEmpty()&&n.remove();else if(e.is(o))n.insertAfter(e),t.isEmpty()&&n.remove();else{var l=t.getListType();i=N();let r=S(l);i.append(r),e.getPreviousSiblings().forEach(e=>r.append(e)),o=N(),l=S(l),o.append(l),c(l,e.getNextSiblings()),n.insertBefore(i),n.insertAfter(o),n.replace(e)}d(t),d(r)}}}class f extends e.ElementNode{static getType(){return"listitem"}static clone(e){return new f(e.__value,e.__checked,e.__key)}constructor(e,t,n){super(n),this.__value=void 0===e?1:e,this.__checked=t}createDOM(e){let t=document.createElement("li"),n=this.getParent();return b(n)&&(d(n),m(t,this,null,n)),t.value=this.__value,p(t,e.theme,this),t}updateDOM(e,t,n){let r=this.getParent();return b(r)&&(d(r),m(t,this,e,r)),t.value=this.__value,p(t,n.theme,this),!1}static importDOM(){return{li:()=>({conversion:_,priority:0})}}static importJSON(e){let t=new f(e.value,e.checked);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...t){for(let n=0;n<t.length;n++){let r=t[n];if(e.$isElementNode(r)&&this.canMergeWith(r)){let e=r.getChildren();this.append(...e),r.remove()}else super.append(r)}return this}replace(e,t){if(y(e))return super.replace(e);let n=this.getParentOrThrow();if(b(n)){var r=n.getChildrenKeys();let o=r.length;var i=r.indexOf(this.__key);if(0===i)n.insertBefore(e);else if(i===o-1)n.insertAfter(e);else{r=S(n.getListType());let t=n.getChildren();for(i+=1;i<o;i++)r.append(t[i]);n.insertAfter(e),e.insertAfter(r)}t&&this.getChildren().forEach(t=>{e.append(t)}),this.remove(),1===o&&n.remove()}return e}insertAfter(e,t=!0){var r=this.getParentOrThrow();b(r)||n(39);var i=this.getNextSiblings();if(y(e))return t=super.insertAfter(e,t),b(e=e.getParentOrThrow())&&d(e),t;if(b(e)&&e.getListType()===r.getListType()){for(r=e,i=(e=e.getChildren()).length-1;0<=i;i--)r=e[i],this.insertAfter(r,t);return r}if(r.insertAfter(e,t),0!==i.length){let n=S(r.getListType());i.forEach(e=>n.append(e)),e.insertAfter(n,t)}return e}remove(e){let t=this.getNextSibling();super.remove(e),null!==t&&(b(e=t.getParent())&&d(e))}insertNewAfter(e,t=!0){return e=N(null==this.__checked&&void 0),this.insertAfter(e,t),e}collapseAtStart(t){let n=e.$createParagraphNode();this.getChildren().forEach(e=>n.append(e));var r=this.getParentOrThrow(),i=r.getParentOrThrow();let o=y(i);return 1===r.getChildrenSize()?o?(r.remove(),i.select()):(r.insertBefore(n),r.remove(),r=t.anchor,t=t.focus,i=n.getKey(),"element"===r.type&&r.getNode().is(this)&&r.set(i,r.offset,"element"),"element"===t.type&&t.getNode().is(this)&&t.set(i,t.offset,"element")):(r.insertBefore(n),this.remove()),!0}getValue(){return this.getLatest().__value}setValue(e){this.getWritable().__value=e}getChecked(){return this.getLatest().__checked}setChecked(e){this.getWritable().__checked=e}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){var e=this.getParent();if(null===e)return this.getLatest().__indent;e=e.getParentOrThrow();let t=0;for(;y(e);)e=e.getParentOrThrow().getParentOrThrow(),t++;return t}setIndent(e){let t=this.getIndent();for(;t!==e;)if(t<e){e:{var n=new Set;if(s(this)||n.has(this.getKey()))break e;let e=this.getParent();var r=this.getNextSibling(),i=this.getPreviousSibling();if(s(r)&&s(i)){if(b(i=i.getFirstChild())){i.append(this);var o=r.getFirstChild();b(o)&&(c(i,o=o.getChildren()),r.remove(),n.add(r.getKey())),d(i)}}else s(r)?b(r=r.getFirstChild())&&(null!==(n=r.getFirstChild())&&n.insertBefore(this),d(r)):s(i)?b(r=i.getFirstChild())&&(r.append(this),d(r)):b(e)&&(n=N(),o=S(e.getListType()),n.append(o),o.append(this),i?i.insertAfter(n):r?r.insertBefore(n):e.append(n));b(e)&&d(e)}t++}else g(this),t--;return this}insertBefore(e){if(y(e)){let e=this.getParentOrThrow();if(b(e)){d(e,this.getNextSiblings())}}return super.insertBefore(e)}canInsertAfter(e){return y(e)}canReplaceWith(e){return y(e)}canMergeWith(t){return e.$isParagraphNode(t)||y(t)}extractWithChild(t,n){if(!e.$isRangeSelection(n))return!1;t=n.anchor.getNode();let r=n.focus.getNode();return this.isParentOf(t)&&this.isParentOf(r)&&this.getTextContent().length===n.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return S("bullet")}}function p(e,n,r){let i=[],o=[];var s=(n=n.list)?n.listitem:void 0;if(n&&n.nested)var l=n.nested.listitem;if(void 0!==s&&(s=s.split(" "),i.push(...s)),n){s=b(s=r.getParent())&&"check"===s.getListType();let e=r.getChecked();s&&!e||o.push(n.listitemUnchecked),s&&e||o.push(n.listitemChecked),s&&i.push(e?n.listitemChecked:n.listitemUnchecked)}void 0!==l&&(l=l.split(" "),r.getChildren().some(e=>b(e))?i.push(...l):o.push(...l)),0<o.length&&t.removeClassNamesFromElement(e,...o),0<i.length&&t.addClassNamesToElement(e,...i)}function m(e,t,n,r){"check"===r.getListType()?b(t.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),n&&t.__checked===n.__checked||e.setAttribute("aria-checked",t.getChecked()?"true":"false")):null!=t.getChecked()&&t.setChecked(void 0)}function _(e){return{node:N(e=t.isHTMLElement(e)&&"true"===e.getAttribute("aria-checked"))}}function N(t){return e.$applyNodeReplacement(new f(void 0,t))}function y(e){return e instanceof f}class E extends e.ElementNode{static getType(){return"list"}static clone(e){return new E(e.__listType||T[e.__tag],e.__start,e.__key)}constructor(e,t,n){super(n),this.__listType=e=T[e]||e,this.__tag="number"===e?"ol":"ul",this.__start=t}getTag(){return this.__tag}getListType(){return this.__listType}getStart(){return this.__start}createDOM(e){let t=document.createElement(this.__tag);return 1!==this.__start&&t.setAttribute("start",String(this.__start)),t.__lexicalListType=this.__listType,C(t,e.theme,this),t}updateDOM(e,t,n){return e.__tag!==this.__tag||(C(t,n.theme,this),!1)}static importDOM(){return{ol:()=>({conversion:v,priority:0}),ul:()=>({conversion:v,priority:0})}}static importJSON(e){let t=S(e.listType,e.start);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportDOM(e){return({element:e}=super.exportDOM(e)),e&&(1!==this.__start&&e.setAttribute("start",String(this.__start)),"check"===this.__listType&&e.setAttribute("__lexicalListType","check")),{element:e}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...t){for(let r=0;r<t.length;r++){var n=t[r];if(y(n))super.append(n);else{let t=N();b(n)?t.append(n):e.$isElementNode(n)?(n=e.$createTextNode(n.getTextContent()),t.append(n)):t.append(n),super.append(t)}}return this}extractWithChild(e){return y(e)}}function C(e,n,i){let o=[],s=[];var l=n.list;if(void 0!==l){let e=l[`${i.__tag}Depth`]||[],t=(n=r(i)-1)%e.length;var a=e[t];let c,u=l[i.__tag];if(void 0!==(l=l.nested)&&l.list&&(c=l.list),void 0!==u&&o.push(u),void 0!==a)for(a=a.split(" "),o.push(...a),a=0;a<e.length;a++)a!==t&&s.push(i.__tag+a);void 0!==c&&(i=c.split(" "),1<n?o.push(...i):s.push(...i))}0<s.length&&t.removeClassNamesFromElement(e,...s),0<o.length&&t.addClassNamesToElement(e,...o)}function x(e){let t=[];for(let r=0;r<e.length;r++){var n=e[r];y(n)?(t.push(n),1<(n=n.getChildren()).length&&n.forEach(e=>{b(e)&&t.push(l(e))})):t.push(l(n))}return t}function v(e){let n=e.nodeName.toLowerCase(),r=null;return"ol"===n?r=S("number"):"ul"===n&&(r=t.isHTMLElement(e)&&"check"===e.getAttribute("__lexicallisttype")?S("check"):S("bullet")),{after:x,node:r}}let T={ol:"number",ul:"bullet"};function S(t,n=1){return e.$applyNodeReplacement(new E(t,n))}function b(e){return e instanceof E}let O=e.createCommand("INSERT_UNORDERED_LIST_COMMAND"),w=e.createCommand("INSERT_ORDERED_LIST_COMMAND"),A=e.createCommand("INSERT_CHECK_LIST_COMMAND"),D=e.createCommand("REMOVE_LIST_COMMAND");return Ke.$createListItemNode=N,Ke.$createListNode=S,Ke.$getListDepth=r,Ke.$handleListInsertParagraph=function(){var t=e.$getSelection();if(!e.$isRangeSelection(t)||!t.isCollapsed())return!1;if(!y(t=t.anchor.getNode())||""!==t.getTextContent())return!1;var r=i(t),o=t.getParent();b(o)||n(40);let s,l=o.getParent();if(e.$isRootOrShadowRoot(l))s=e.$createParagraphNode(),r.insertAfter(s);else{if(!y(l))return!1;s=N(),l.insertAfter(s)}if(s.select(),0<(r=t.getNextSiblings()).length){let t=S(o.getListType());e.$isParagraphNode(s)?s.insertAfter(t):((o=N()).append(t),s.insertAfter(o)),r.forEach(e=>{e.remove(),t.append(e)})}return function(e){for(;null==e.getNextSibling()&&null==e.getPreviousSibling();){let t=e.getParent();if(null==t||!y(e)&&!b(e))break;e=t}e.remove()}(t),!0},Ke.$isListItemNode=y,Ke.$isListNode=b,Ke.INSERT_CHECK_LIST_COMMAND=A,Ke.INSERT_ORDERED_LIST_COMMAND=w,Ke.INSERT_UNORDERED_LIST_COMMAND=O,Ke.ListItemNode=f,Ke.ListNode=E,Ke.REMOVE_LIST_COMMAND=D,Ke.insertList=function(t,n){t.update(()=>{var t=e.$getSelection();if(e.$isRangeSelection(t)||e.DEPRECATED_$isGridSelection(t)){var r=t.getNodes(),i=(t=t.anchor.getNode()).getParent();if(a(t,r))r=S(n),e.$isRootOrShadowRoot(i)?(t.replace(r),i=N(),e.$isElementNode(t)&&(i.setFormat(t.getFormatType()),i.setIndent(t.getIndent())),r.append(i)):y(t)&&(c(r,(t=t.getParentOrThrow()).getChildren()),t.replace(r));else for(t=new Set,i=0;i<r.length;i++){var o=r[i];if(e.$isElementNode(o)&&o.isEmpty()&&!t.has(o.getKey()))u(o,n);else if(e.$isLeafNode(o))for(o=o.getParent();null!=o;){let r=o.getKey();if(b(o)){if(!t.has(r)){var s=S(n);c(s,o.getChildren()),o.replace(s),d(s),t.add(r)}break}if(s=o.getParent(),e.$isRootOrShadowRoot(s)&&!t.has(r)){t.add(r),u(o,n);break}o=s}}}})},Ke.removeList=function(n){n.update(()=>{let n=e.$getSelection();if(e.$isRangeSelection(n)){var r=new Set,s=n.getNodes(),l=n.anchor.getNode();if(a(l,s))r.add(i(l));else for(l=0;l<s.length;l++){var u=s[l];e.$isLeafNode(u)&&(null!=(u=t.$getNearestNodeOfType(u,f))&&r.add(i(u)))}for(let t of r){r=t,s=o(t);for(let t of s)c(s=e.$createParagraphNode(),t.getChildren()),r.insertAfter(s),r=s,t.__key===n.anchor.key&&n.anchor.set(s.getKey(),0,"element"),t.__key===n.focus.key&&n.focus.set(s.getKey(),0,"element"),t.remove();t.remove()}}})},Ke}(),Ue={},Ye={},Ge={};var Ve,je,Je,Xe,qe={};function Ze(){if(Je)return je;Je=1;const e="development"===process.env.NODE_ENV?function(){if(He)return Ge;He=1;var e=De,t=h;function n(r,i,o,s=null){let l=null==s||i.isSelected();const a=t.$isElementNode(i)&&i.excludeFromCopy("html");let c=i;if(null!==s){let n=e.$cloneWithProperties(i);n=t.$isTextNode(n)&&null!=s?e.$sliceSelectedTextNodeContent(s,n):n,c=n}const u=t.$isElementNode(c)?c.getChildren():[],{element:d,after:g}=c.exportDOM(r);if(!d)return!1;const f=new DocumentFragment;for(let e=0;e<u.length;e++){const o=u[e],a=n(r,o,f,s);!l&&t.$isElementNode(i)&&a&&i.extractWithChild(o,s,"html")&&(l=!0)}if(l&&!a){if(d.append(f),o.append(d),g){const e=g.call(c,d);e&&d.replaceWith(e)}}else o.append(f);return l}const r=new Set(["STYLE"]);function i(e,n,o=new Map,s,l=!1){let a=[];if(r.has(e.nodeName))return a;let c=null;const u=function(e,t){const{nodeName:n}=e,r=t._htmlConversions.get(n.toLowerCase());let i=null;if(void 0!==r)for(const t of r){const n=t(e);null!==n&&(null===i||i.priority<n.priority)&&(i=n)}return null!==i?i.conversion:null}(e,n),d=u?u(e,void 0,l):null;let g=null;if(null!==d){if(g=d.after,c=d.node,null!==c){for(const[,e]of o)if(c=e(c,s),!c)break;c&&a.push(c)}null!=d.forChild&&o.set(e.nodeName,d.forChild)}const f=e.childNodes;let h=[];for(let e=0;e<f.length;e++)h.push(...i(f[e],n,new Map(o),c,l||!0===(d&&d.preformatted)));return null!=g&&(h=g(h)),null==c?a=a.concat(h):t.$isElementNode(c)&&c.append(...h),a}return Ge.$generateHtmlFromNodes=function(e,r){if("undefined"==typeof document||"undefined"==typeof window)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const i=document.createElement("div"),o=t.$getRoot().getChildren();for(let t=0;t<o.length;t++)n(e,o[t],i,r);return i.innerHTML},Ge.$generateNodesFromDOM=function(e,t){let n=[];const o=t.body?Array.from(t.body.childNodes):[],s=o.length;for(let t=0;t<s;t++){const s=o[t];if(!r.has(s.nodeName)){const t=i(s,e);null!==t&&(n=n.concat(t))}}return n},Ge}():function(){if(Ve)return qe;Ve=1;var e=De,t=h;function n(r,i,o,s=null){let l=null==s||i.isSelected(),a=t.$isElementNode(i)&&i.excludeFromCopy("html");var c=i;null!==s&&(c=e.$cloneWithProperties(i),c=t.$isTextNode(c)&&null!=s?e.$sliceSelectedTextNodeContent(s,c):c);let u=t.$isElementNode(c)?c.getChildren():[],{element:d,after:g}=c.exportDOM(r);if(!d)return!1;let f=new DocumentFragment;for(let e=0;e<u.length;e++){let o=u[e],a=n(r,o,f,s);!l&&t.$isElementNode(i)&&a&&i.extractWithChild(o,s,"html")&&(l=!0)}return l&&!a?(d.append(f),o.append(d),g&&(r=g.call(c,d))&&d.replaceWith(r)):o.append(f),l}let r=new Set(["STYLE"]);function i(e,n,o=new Map,s,l=!1){let a=[];if(r.has(e.nodeName))return a;let c=null;var{nodeName:u}=e,d=n._htmlConversions.get(u.toLowerCase());if(u=null,void 0!==d)for(g of d)null!==(d=g(e))&&(null===u||u.priority<d.priority)&&(u=d);var g=(g=null!==u?u.conversion:null)?g(e,void 0,l):null;if(u=null,null!==g){if(u=g.after,c=g.node,null!==c){for(var[,f]of o)if(c=f(c,s),!c)break;c&&a.push(c)}null!=g.forChild&&o.set(e.nodeName,g.forChild)}for(e=e.childNodes,s=[],f=0;f<e.length;f++)s.push(...i(e[f],n,new Map(o),c,l||!0===(g&&g.preformatted)));return null!=u&&(s=u(s)),null==c?a=a.concat(s):t.$isElementNode(c)&&c.append(...s),a}return qe.$generateHtmlFromNodes=function(e,r){if("undefined"==typeof document||"undefined"==typeof window)throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let i=document.createElement("div"),o=t.$getRoot().getChildren();for(let t=0;t<o.length;t++)n(e,o[t],i,r);return i.innerHTML},qe.$generateNodesFromDOM=function(e,t){let n=[],o=(t=t.body?Array.from(t.body.childNodes):[]).length;for(let l=0;l<o;l++){var s=t[l];r.has(s.nodeName)||null!==(s=i(s,e))&&(n=n.concat(s))}return n},qe}();return je=e}function Qe(){if(Xe)return Ye;Xe=1;var e=Ze(),t=De,n=$e,r=h;function i(t){const n=r.$getSelection();if(null==n)throw Error("Expected valid LexicalSelection");return r.$isRangeSelection(n)&&n.isCollapsed()||0===n.getNodes().length?"":e.$generateHtmlFromNodes(t,n)}function o(e){const t=r.$getSelection();if(null==t)throw Error("Expected valid LexicalSelection");return r.$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(a(e,t))}function s(e,t,i){(r.DEPRECATED_$isGridSelection(i)||null!==n.$findMatchingParent(i.anchor.getNode(),e=>r.DEPRECATED_$isGridCellNode(e))&&null!==n.$findMatchingParent(i.focus.getNode(),e=>r.DEPRECATED_$isGridCellNode(e)))&&1===t.length&&r.DEPRECATED_$isGridNode(t[0])?function(e,t,i,o){if(1!==e.length||!r.DEPRECATED_$isGridNode(e[0]))throw Error("$mergeGridNodesStrategy: Expected Grid insertion.");const s=e[0],l=s.getChildren(),a=s.getFirstChildOrThrow().getChildrenSize(),c=s.getChildrenSize(),u=n.$findMatchingParent(t.anchor.getNode(),e=>r.DEPRECATED_$isGridCellNode(e)),d=u&&n.$findMatchingParent(u,e=>r.DEPRECATED_$isGridRowNode(e)),g=d&&n.$findMatchingParent(d,e=>r.DEPRECATED_$isGridNode(e));if(!r.DEPRECATED_$isGridCellNode(u)||!r.DEPRECATED_$isGridRowNode(d)||!r.DEPRECATED_$isGridNode(g))throw Error("$mergeGridNodesStrategy: Expected selection to be inside of a Grid.");const f=d.getIndexWithinParent(),h=Math.min(g.getChildrenSize()-1,f+c-1),p=u.getIndexWithinParent(),m=Math.min(d.getChildrenSize()-1,p+a-1),_=Math.min(p,m),N=Math.min(f,h),y=Math.max(p,m),E=Math.max(f,h),C=g.getChildren();let x,v,T=0;for(let e=N;e<=E;e++){const t=C[e];if(!r.DEPRECATED_$isGridRowNode(t))throw Error("getNodes: expected to find GridRowNode");const n=l[T];if(!r.DEPRECATED_$isGridRowNode(n))throw Error("getNodes: expected to find GridRowNode");const i=t.getChildren(),o=n.getChildren();let s=0;for(let t=_;t<=y;t++){const n=i[t];if(!r.DEPRECATED_$isGridCellNode(n))throw Error("getNodes: expected to find GridCellNode");const l=o[s];if(!r.DEPRECATED_$isGridCellNode(l))throw Error("getNodes: expected to find GridCellNode");e===N&&t===_?x=n.getKey():e===E&&t===y&&(v=n.getKey());const a=n.getChildren();l.getChildren().forEach(e=>{if(r.$isTextNode(e)){r.$createParagraphNode().append(e),n.append(e)}else n.append(e)}),a.forEach(e=>e.remove()),s++}T++}if(x&&v){const e=r.DEPRECATED_$createGridSelection();e.set(g.getKey(),x,v),r.$setSelection(e),o.dispatchCommand(r.SELECTION_CHANGE_COMMAND,void 0)}}(t,i,0,e):function(e,t){const n=[];let i=null;for(let t=0;t<e.length;t++){const o=e[t],s=r.$isLineBreakNode(o);if(s||r.$isDecoratorNode(o)&&o.isInline()||r.$isElementNode(o)&&o.isInline()||r.$isTextNode(o)||o.isParentRequired()){if(null===i&&(i=o.createParentElementNode(),n.push(i),s))continue;null!==i&&i.append(o)}else n.push(o),i=null}if(r.$isRangeSelection(t))t.insertNodes(n);else if(r.DEPRECATED_$isGridSelection(t)){const e=t.anchor.getNode();if(!r.DEPRECATED_$isGridCellNode(e))throw Error("Expected Grid Cell in Grid Selection");e.append(...n)}}(t,i)}function l(e,n,i,o=[]){let s=null==n||i.isSelected(n);const a=r.$isElementNode(i)&&i.excludeFromCopy("html");let c=i;if(null!==n){let e=t.$cloneWithProperties(i);e=r.$isTextNode(e)&&null!=n?t.$sliceSelectedTextNodeContent(n,e):e,c=e}const u=r.$isElementNode(c)?c.getChildren():[],d=function(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType())throw Error(`LexicalNode: Node ${n.name} does not implement .exportJSON().`);const i=t.children;if(r.$isElementNode(e)&&!Array.isArray(i))throw Error(`LexicalNode: Node ${n.name} is an element but .exportJSON() does not have a children array.`);return t}(c);if(r.$isTextNode(c)){const e=c.__text;e.length>0?d.text=e:s=!1}for(let t=0;t<u.length;t++){const o=u[t],a=l(e,n,o,d.children);!s&&r.$isElementNode(i)&&a&&i.extractWithChild(o,n,"clone")&&(s=!0)}if(s&&!a)o.push(d);else if(Array.isArray(d.children))for(let e=0;e<d.children.length;e++){const t=d.children[e];o.push(t)}return s}function a(e,t){const n=[],i=r.$getRoot().getChildren();for(let r=0;r<i.length;r++){l(e,t,i[r],n)}return{namespace:e._config.namespace,nodes:n}}function c(e){const n=[];for(let i=0;i<e.length;i++){const o=e[i],s=r.$parseSerializedNode(o);r.$isTextNode(s)&&t.$addNodeStyle(s),n.push(s)}return n}let u=null;function d(e,t){const n=window.getSelection();if(!n)return!1;const s=n.anchorNode,l=n.focusNode;if(null!==s&&null!==l&&!r.isSelectionWithinEditor(e,s,l))return!1;t.preventDefault();const a=t.clipboardData,c=r.$getSelection();if(null===a||null===c)return!1;const u=i(e),d=o(e);let g="";return null!==c&&(g=c.getTextContent()),null!==u&&a.setData("text/html",u),null!==d&&a.setData("application/x-lexical-editor",d),a.setData("text/plain",g),!0}return Ye.$generateJSONFromSelectedNodes=a,Ye.$generateNodesFromSerializedNodes=c,Ye.$getHtmlContent=i,Ye.$getLexicalContent=o,Ye.$insertDataTransferForPlainText=function(e,t){const n=e.getData("text/plain");null!=n&&t.insertRawText(n)},Ye.$insertDataTransferForRichText=function(t,n,i){const o=t.getData("application/x-lexical-editor");if(o)try{const e=JSON.parse(o);if(e.namespace===i._config.namespace&&Array.isArray(e.nodes)){return s(i,c(e.nodes),n)}}catch{}const l=t.getData("text/html");if(l)try{const t=(new DOMParser).parseFromString(l,"text/html");return s(i,e.$generateNodesFromDOM(i,t),n)}catch{}const a=t.getData("text/plain");if(null!=a)if(r.$isRangeSelection(n)){const e=a.split(/\r?\n/),t=e.length;for(let r=0;r<t;r++)n.insertText(e[r]),r<t-1&&n.insertParagraph()}else n.insertRawText(a)},Ye.$insertGeneratedNodes=s,Ye.copyToClipboard__EXPERIMENTAL=async function(e,t){if(null!==u)return!1;if(null!==t)return new Promise((n,r)=>{e.update(()=>{n(d(e,t))})});const n=e.getRootElement(),i=document.getSelection();if(null===n||null===i)return!1;const o=document.createElement("span");o.style.cssText="position: fixed; top: -1000px;",o.append(document.createTextNode("#")),n.append(o);const s=new Range;return s.setStart(o,0),s.setEnd(o,1),i.removeAllRanges(),i.addRange(s),new Promise((t,n)=>{const i=e.registerCommand(r.COPY_COMMAND,n=>(n instanceof ClipboardEvent&&(i(),null!==u&&(window.clearTimeout(u),u=null),t(d(e,n))),!0),r.COMMAND_PRIORITY_CRITICAL);u=window.setTimeout(()=>{i(),u=null,t(!1)},50),document.execCommand("copy"),o.remove()})},Ye}var et,tt,nt,rt,it={};function ot(){if(et)return it;et=1;var e=Ze(),t=De,n=$e,r=h;function i(e){throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?code=${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function o(t){let n=r.$getSelection();if(null==n)throw Error("Expected valid LexicalSelection");return r.$isRangeSelection(n)&&n.isCollapsed()||0===n.getNodes().length?"":e.$generateHtmlFromNodes(t,n)}function s(e){let t=r.$getSelection();if(null==t)throw Error("Expected valid LexicalSelection");return r.$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(c(e,t))}function l(e,t,o){(r.DEPRECATED_$isGridSelection(o)||null!==n.$findMatchingParent(o.anchor.getNode(),e=>r.DEPRECATED_$isGridCellNode(e))&&null!==n.$findMatchingParent(o.focus.getNode(),e=>r.DEPRECATED_$isGridCellNode(e)))&&1===t.length&&r.DEPRECATED_$isGridNode(t[0])?function(e,t,o,s){1===e.length&&r.DEPRECATED_$isGridNode(e[0])||i(42);var l=e[0];e=l.getChildren(),o=l.getFirstChildOrThrow().getChildrenSize();var a=l.getChildrenSize(),c=n.$findMatchingParent(t.anchor.getNode(),e=>r.DEPRECATED_$isGridCellNode(e));t=(l=c&&n.$findMatchingParent(c,e=>r.DEPRECATED_$isGridRowNode(e)))&&n.$findMatchingParent(l,e=>r.DEPRECATED_$isGridNode(e)),r.DEPRECATED_$isGridCellNode(c)&&r.DEPRECATED_$isGridRowNode(l)&&r.DEPRECATED_$isGridNode(t)||i(43);var u=l.getIndexWithinParent(),d=Math.min(t.getChildrenSize()-1,u+a-1);let g,f;a=c.getIndexWithinParent(),c=Math.min(l.getChildrenSize()-1,a+o-1),o=Math.min(a,c),l=Math.min(u,d),a=Math.max(a,c),u=Math.max(u,d),d=t.getChildren(),c=0;for(let t=l;t<=u;t++){var h=d[t];r.DEPRECATED_$isGridRowNode(h)||i(24);var p=e[c];r.DEPRECATED_$isGridRowNode(p)||i(24),h=h.getChildren(),p=p.getChildren();let n=0;for(let e=o;e<=a;e++){let s=h[e];r.DEPRECATED_$isGridCellNode(s)||i(25);let c=p[n];r.DEPRECATED_$isGridCellNode(c)||i(25),t===l&&e===o?g=s.getKey():t===u&&e===a&&(f=s.getKey());let d=s.getChildren();c.getChildren().forEach(e=>{r.$isTextNode(e)&&r.$createParagraphNode().append(e),s.append(e)}),d.forEach(e=>e.remove()),n++}c++}g&&f&&(e=r.DEPRECATED_$createGridSelection(),e.set(t.getKey(),g,f),r.$setSelection(e),s.dispatchCommand(r.SELECTION_CHANGE_COMMAND,void 0))}(t,o,!1,e):function(e,t){let n=[],o=null;for(let t=0;t<e.length;t++){let i=e[t],s=r.$isLineBreakNode(i);if(s||r.$isDecoratorNode(i)&&i.isInline()||r.$isElementNode(i)&&i.isInline()||r.$isTextNode(i)||i.isParentRequired()){if(null===o&&(o=i.createParentElementNode(),n.push(o),s))continue;null!==o&&o.append(i)}else n.push(i),o=null}r.$isRangeSelection(t)?t.insertNodes(n):r.DEPRECATED_$isGridSelection(t)&&(e=t.anchor.getNode(),r.DEPRECATED_$isGridCellNode(e)||i(41),e.append(...n))}(t,o)}function a(e,n,o,s=[]){let l=null==n||o.isSelected(n),c=r.$isElementNode(o)&&o.excludeFromCopy("html");var u=o;if(null!==n){var d=t.$cloneWithProperties(o);u=d=r.$isTextNode(d)&&null!=n?t.$sliceSelectedTextNodeContent(n,d):d}let g=r.$isElementNode(u)?u.getChildren():[];var f=u;(d=f.exportJSON()).type!==f.constructor.getType()&&i(58);var h=d.children;for(r.$isElementNode(f)&&(Array.isArray(h)||i(59)),r.$isTextNode(u)&&(0<(u=u.__text).length?d.text=u:l=!1),u=0;u<g.length;u++)h=a(e,n,f=g[u],d.children),!l&&r.$isElementNode(o)&&h&&o.extractWithChild(f,n,"clone")&&(l=!0);if(l&&!c)s.push(d);else if(Array.isArray(d.children))for(e=0;e<d.children.length;e++)s.push(d.children[e]);return l}function c(e,t){let n=[],i=r.$getRoot().getChildren();for(let r=0;r<i.length;r++)a(e,t,i[r],n);return{namespace:e._config.namespace,nodes:n}}function u(e){let n=[];for(let i=0;i<e.length;i++){let o=r.$parseSerializedNode(e[i]);r.$isTextNode(o)&&t.$addNodeStyle(o),n.push(o)}return n}let d=null;function g(e,t){var n=window.getSelection();if(!n)return!1;var i=n.anchorNode;if(n=n.focusNode,null!==i&&null!==n&&!r.isSelectionWithinEditor(e,i,n))return!1;if(t.preventDefault(),t=t.clipboardData,i=r.$getSelection(),null===t||null===i)return!1;n=o(e),e=s(e);let l="";return null!==i&&(l=i.getTextContent()),null!==n&&t.setData("text/html",n),null!==e&&t.setData("application/x-lexical-editor",e),t.setData("text/plain",l),!0}return it.$generateJSONFromSelectedNodes=c,it.$generateNodesFromSerializedNodes=u,it.$getHtmlContent=o,it.$getLexicalContent=s,it.$insertDataTransferForPlainText=function(e,t){null!=(e=e.getData("text/plain"))&&t.insertRawText(e)},it.$insertDataTransferForRichText=function(t,n,i){var o=t.getData("application/x-lexical-editor");if(o)try{let e=JSON.parse(o);if(e.namespace===i._config.namespace&&Array.isArray(e.nodes)){return l(i,u(e.nodes),n)}}catch{}if(o=t.getData("text/html"))try{var s=(new DOMParser).parseFromString(o,"text/html");return l(i,e.$generateNodesFromDOM(i,s),n)}catch{}if(null!=(t=t.getData("text/plain")))if(r.$isRangeSelection(n))for(i=(t=t.split(/\r?\n/)).length,s=0;s<i;s++)n.insertText(t[s]),s<i-1&&n.insertParagraph();else n.insertRawText(t)},it.$insertGeneratedNodes=l,it.copyToClipboard__EXPERIMENTAL=async function(e,t){if(null!==d)return!1;if(null!==t)return new Promise(n=>{e.update(()=>{n(g(e,t))})});var n=e.getRootElement();let i=document.getSelection();if(null===n||null===i)return!1;let o=document.createElement("span");return o.style.cssText="position: fixed; top: -1000px;",o.append(document.createTextNode("#")),n.append(o),(n=new Range).setStart(o,0),n.setEnd(o,1),i.removeAllRanges(),i.addRange(n),new Promise(t=>{let n=e.registerCommand(r.COPY_COMMAND,r=>(r instanceof ClipboardEvent&&(n(),null!==d&&(window.clearTimeout(d),d=null),t(g(e,r))),!0),r.COMMAND_PRIORITY_CRITICAL);d=window.setTimeout(()=>{n(),d=null,t(!1)},50),document.execCommand("copy"),o.remove()})},it}function st(){if(nt)return tt;nt=1;const e="development"===process.env.NODE_ENV?Qe():ot();return tt=e}var lt,at={};var ct,ut="development"===process.env.NODE_ENV?function(){if(rt)return Ue;rt=1;var e=st(),t=De,n=$e,r=h;function i(e,t){if(void 0!==document.caretRangeFromPoint){const n=document.caretRangeFromPoint(e,t);return null===n?null:{node:n.startContainer,offset:n.startOffset}}if("undefined"!==document.caretPositionFromPoint){const n=document.caretPositionFromPoint(e,t);return null===n?null:{node:n.offsetNode,offset:n.offset}}return null}const o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,s=o&&"documentMode"in document?document.documentMode:null,l=!(!o||!("InputEvent"in window)||s)&&"getTargetRanges"in new window.InputEvent("input"),a=o&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),c=o&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,u=o&&/^(?=.*Chrome).*/i.test(navigator.userAgent),d=o&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!u,g=r.createCommand("DRAG_DROP_PASTE_FILE");class f extends r.ElementNode{static getType(){return"quote"}static clone(e){return new f(e.__key)}constructor(e){super(e)}createDOM(e){const t=document.createElement("blockquote");return n.addClassNamesToElement(t,e.theme.quote),t}updateDOM(e,t){return!1}static importDOM(){return{blockquote:e=>({conversion:y,priority:0})}}static importJSON(e){const t=p();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(e,t){const n=r.$createParagraphNode(),i=this.getDirection();return n.setDirection(i),this.insertAfter(n,t),n}collapseAtStart(){const e=r.$createParagraphNode();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}}function p(){return r.$applyNodeReplacement(new f)}class m extends r.ElementNode{static getType(){return"heading"}static clone(e){return new m(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}createDOM(e){const t=this.__tag,r=document.createElement(t),i=e.theme.heading;if(void 0!==i){const e=i[t];n.addClassNamesToElement(r,e)}return r}updateDOM(e,t){return!1}static importDOM(){return{h1:e=>({conversion:N,priority:0}),h2:e=>({conversion:N,priority:0}),h3:e=>({conversion:N,priority:0}),h4:e=>({conversion:N,priority:0}),h5:e=>({conversion:N,priority:0}),h6:e=>({conversion:N,priority:0}),p:e=>{const t=e.firstChild;return null!==t&&_(t)?{conversion:()=>({node:null}),priority:3}:null},span:e=>_(e)?{conversion:e=>({node:E("h1")}),priority:3}:null}}static importJSON(e){const t=E(e.tag);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(e,t=!0){const n=e?e.anchor.offset:0,i=n>0&&n<this.getTextContentSize()?E(this.getTag()):r.$createParagraphNode(),o=this.getDirection();return i.setDirection(o),this.insertAfter(i,t),i}collapseAtStart(){const e=this.isEmpty()?r.$createParagraphNode():E(this.getTag());return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}extractWithChild(){return!0}}function _(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function N(e){const t=e.nodeName.toLowerCase();let n=null;return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t||(n=E(t)),{node:n}}function y(){return{node:p()}}function E(e){return r.$applyNodeReplacement(new m(e))}function C(e){let t=null;if(e instanceof DragEvent?t=e.dataTransfer:e instanceof ClipboardEvent&&(t=e.clipboardData),null===t)return[!1,[],!1];const n=t.types,r=n.includes("Files"),i=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(t.files),i]}function x(e,t){const i=r.$getSelection();if(!r.$isRangeSelection(i))return;const o=new Set,s=i.getNodes();for(let r=0;r<s.length;r++){const i=s[r],l=i.getKey();if(o.has(l))continue;const a=n.$getNearestBlockElementAncestorOrThrow(i),c=a.getKey();a.canInsertTab()?(e(i),o.add(l)):a.canIndent()&&!o.has(c)&&(o.add(c),t(a))}}function v(e){const t=r.$getNearestNodeFromDOMNode(e);return r.$isDecoratorNode(t)}return Ue.$createHeadingNode=E,Ue.$createQuoteNode=p,Ue.$isHeadingNode=function(e){return e instanceof m},Ue.$isQuoteNode=function(e){return e instanceof f},Ue.DRAG_DROP_PASTE=g,Ue.HeadingNode=m,Ue.QuoteNode=f,Ue.eventFiles=C,Ue.registerRichText=function(o){const s=n.mergeRegister(o.registerCommand(r.CLICK_COMMAND,e=>{const t=r.$getSelection();return!!r.$isNodeSelection(t)&&(t.clear(),!0)},0),o.registerCommand(r.DELETE_CHARACTER_COMMAND,e=>{const t=r.$getSelection();return!!r.$isRangeSelection(t)&&(t.deleteCharacter(e),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.DELETE_WORD_COMMAND,e=>{const t=r.$getSelection();return!!r.$isRangeSelection(t)&&(t.deleteWord(e),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.DELETE_LINE_COMMAND,e=>{const t=r.$getSelection();return!!r.$isRangeSelection(t)&&(t.deleteLine(e),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.CONTROLLED_TEXT_INSERTION_COMMAND,t=>{const n=r.$getSelection();if("string"==typeof t)r.$isRangeSelection(n)?n.insertText(t):r.DEPRECATED_$isGridSelection(n);else{if(!r.$isRangeSelection(n)&&!r.DEPRECATED_$isGridSelection(n))return!1;const i=t.dataTransfer;if(null!=i)e.$insertDataTransferForRichText(i,n,o);else if(r.$isRangeSelection(n)){const e=t.data;return e&&n.insertText(e),!0}}return!0},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.REMOVE_TEXT_COMMAND,()=>{const e=r.$getSelection();return!!r.$isRangeSelection(e)&&(e.removeText(),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.FORMAT_TEXT_COMMAND,e=>{const t=r.$getSelection();return!!r.$isRangeSelection(t)&&(t.formatText(e),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.FORMAT_ELEMENT_COMMAND,e=>{const t=r.$getSelection();if(!r.$isRangeSelection(t)&&!r.$isNodeSelection(t))return!1;const i=t.getNodes();for(const t of i){n.$getNearestBlockElementAncestorOrThrow(t).setFormat(e)}return!0},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.INSERT_LINE_BREAK_COMMAND,e=>{const t=r.$getSelection();return!!r.$isRangeSelection(t)&&(t.insertLineBreak(e),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.INSERT_PARAGRAPH_COMMAND,()=>{const e=r.$getSelection();return!!r.$isRangeSelection(e)&&(e.insertParagraph(),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.INDENT_CONTENT_COMMAND,()=>(x(()=>{o.dispatchCommand(r.CONTROLLED_TEXT_INSERTION_COMMAND,"\t")},e=>{const t=e.getIndent();10!==t&&e.setIndent(t+1)}),!0),r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.OUTDENT_CONTENT_COMMAND,()=>(x(e=>{if(r.$isTextNode(e)){const t=e.getTextContent();"\t"===t[t.length-1]&&o.dispatchCommand(r.DELETE_CHARACTER_COMMAND,!0)}},e=>{const t=e.getIndent();0!==t&&e.setIndent(t-1)}),!0),r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.KEY_ARROW_UP_COMMAND,e=>{const t=r.$getSelection();if(r.$isNodeSelection(t)&&!v(e.target)){const e=t.getNodes();if(e.length>0)return e[0].selectPrevious(),!0}else if(r.$isRangeSelection(t)){const n=r.$getAdjacentNode(t.focus,!0);if(r.$isDecoratorNode(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),e.preventDefault(),!0;if(r.$isElementNode(n)&&!n.isInline()&&!n.canBeEmpty())return n.select(),e.preventDefault(),!0}return!1},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.KEY_ARROW_DOWN_COMMAND,e=>{const t=r.$getSelection();if(r.$isNodeSelection(t)){const e=t.getNodes();if(e.length>0)return e[0].selectNext(0,0),!0}else if(r.$isRangeSelection(t)){if(function(e){const t=e.focus;return"root"===t.key&&t.offset===r.$getRoot().getChildrenSize()}(t))return e.preventDefault(),!0;const n=r.$getAdjacentNode(t.focus,!1);if(r.$isDecoratorNode(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),e.preventDefault(),!0}return!1},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.KEY_ARROW_LEFT_COMMAND,e=>{const n=r.$getSelection();if(r.$isNodeSelection(n)){const t=n.getNodes();if(t.length>0)return e.preventDefault(),t[0].selectPrevious(),!0}if(!r.$isRangeSelection(n))return!1;if(t.$shouldOverrideDefaultCharacterSelection(n,!0)){const r=e.shiftKey;return e.preventDefault(),t.$moveCharacter(n,r,!0),!0}return!1},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.KEY_ARROW_RIGHT_COMMAND,e=>{const n=r.$getSelection();if(r.$isNodeSelection(n)&&!v(e.target)){const t=n.getNodes();if(t.length>0)return e.preventDefault(),t[0].selectNext(0,0),!0}if(!r.$isRangeSelection(n))return!1;const i=e.shiftKey;return!!t.$shouldOverrideDefaultCharacterSelection(n,!1)&&(e.preventDefault(),t.$moveCharacter(n,i,!1),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.KEY_BACKSPACE_COMMAND,e=>{if(v(e.target))return!1;const t=r.$getSelection();if(!r.$isRangeSelection(t))return!1;e.preventDefault();const{anchor:i}=t,s=i.getNode();if(t.isCollapsed()&&0===i.offset&&!r.$isRootNode(s)){if(n.$getNearestBlockElementAncestorOrThrow(s).getIndent()>0)return o.dispatchCommand(r.OUTDENT_CONTENT_COMMAND,void 0)}return o.dispatchCommand(r.DELETE_CHARACTER_COMMAND,!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.KEY_DELETE_COMMAND,e=>{if(v(e.target))return!1;const t=r.$getSelection();return!!r.$isRangeSelection(t)&&(e.preventDefault(),o.dispatchCommand(r.DELETE_CHARACTER_COMMAND,!1))},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.KEY_ENTER_COMMAND,e=>{const t=r.$getSelection();if(!r.$isRangeSelection(t))return!1;if(null!==e){if((c||a||d)&&l)return!1;if(e.preventDefault(),e.shiftKey)return o.dispatchCommand(r.INSERT_LINE_BREAK_COMMAND,!1)}return o.dispatchCommand(r.INSERT_PARAGRAPH_COMMAND,void 0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.KEY_ESCAPE_COMMAND,()=>{const e=r.$getSelection();return!!r.$isRangeSelection(e)&&(o.blur(),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.DROP_COMMAND,e=>{const[,t]=C(e);if(t.length>0){const n=i(e.clientX,e.clientY);if(null!==n){const{offset:e,node:i}=n,s=r.$getNearestNodeFromDOMNode(i);if(null!==s){const t=r.$createRangeSelection();if(r.$isTextNode(s))t.anchor.set(s.getKey(),e,"text"),t.focus.set(s.getKey(),e,"text");else{const e=s.getParentOrThrow().getKey(),n=s.getIndexWithinParent()+1;t.anchor.set(e,n,"element"),t.focus.set(e,n,"element")}const n=r.$normalizeSelection__EXPERIMENTAL(t);r.$setSelection(n)}o.dispatchCommand(g,t)}return e.preventDefault(),!0}const n=r.$getSelection();return!!r.$isRangeSelection(n)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.DRAGSTART_COMMAND,e=>{const[t]=C(e),n=r.$getSelection();return!(t&&!r.$isRangeSelection(n))},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.DRAGOVER_COMMAND,e=>{const[t]=C(e),n=r.$getSelection();if(t&&!r.$isRangeSelection(n))return!1;const o=i(e.clientX,e.clientY);if(null!==o){const t=r.$getNearestNodeFromDOMNode(o.node);r.$isDecoratorNode(t)&&e.preventDefault()}return!0},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.COPY_COMMAND,t=>(e.copyToClipboard__EXPERIMENTAL(o,t instanceof ClipboardEvent?t:null),!0),r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.CUT_COMMAND,t=>(async function(t,n){await e.copyToClipboard__EXPERIMENTAL(n,t instanceof ClipboardEvent?t:null),n.update(()=>{const e=r.$getSelection();r.$isRangeSelection(e)?e.removeText():r.$isNodeSelection(e)&&e.getNodes().forEach(e=>e.remove())})}(t,o),!0),r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.PASTE_COMMAND,t=>{const[,n,i]=C(t);if(n.length>0&&!i)return o.dispatchCommand(g,n),!0;const s=r.$getSelection();return!(!r.$isRangeSelection(s)&&!r.DEPRECATED_$isGridSelection(s))&&(function(t,n){t.preventDefault(),n.update(()=>{const i=r.$getSelection(),o=t instanceof InputEvent||t instanceof KeyboardEvent?null:t.clipboardData;null!=o&&(r.$isRangeSelection(i)||r.DEPRECATED_$isGridSelection(i))&&e.$insertDataTransferForRichText(o,i,n)},{tag:"paste"})}(t,o),!0)},r.COMMAND_PRIORITY_EDITOR));return s},Ue}():function(){if(lt)return at;lt=1;var e=st(),t=De,n=$e,r=h;function i(e,t){return void 0!==document.caretRangeFromPoint?null===(e=document.caretRangeFromPoint(e,t))?null:{node:e.startContainer,offset:e.startOffset}:"undefined"!==document.caretPositionFromPoint?null===(e=document.caretPositionFromPoint(e,t))?null:{node:e.offsetNode,offset:e.offset}:null}let o="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,s=o&&"documentMode"in document?document.documentMode:null,l=!(!o||!("InputEvent"in window)||s)&&"getTargetRanges"in new window.InputEvent("input"),a=o&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),c=o&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,u=o&&/^(?=.*Chrome).*/i.test(navigator.userAgent),d=o&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!u,g=r.createCommand("DRAG_DROP_PASTE_FILE");class f extends r.ElementNode{static getType(){return"quote"}static clone(e){return new f(e.__key)}constructor(e){super(e)}createDOM(e){let t=document.createElement("blockquote");return n.addClassNamesToElement(t,e.theme.quote),t}updateDOM(){return!1}static importDOM(){return{blockquote:()=>({conversion:y,priority:0})}}static importJSON(e){let t=p();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(e,t){e=r.$createParagraphNode();let n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}collapseAtStart(){let e=r.$createParagraphNode();return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}}function p(){return r.$applyNodeReplacement(new f)}class m extends r.ElementNode{static getType(){return"heading"}static clone(e){return new m(e.__tag,e.__key)}constructor(e,t){super(t),this.__tag=e}getTag(){return this.__tag}createDOM(e){let t=this.__tag,r=document.createElement(t);return void 0!==(e=e.theme.heading)&&n.addClassNamesToElement(r,e[t]),r}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:N,priority:0}),h2:()=>({conversion:N,priority:0}),h3:()=>({conversion:N,priority:0}),h4:()=>({conversion:N,priority:0}),h5:()=>({conversion:N,priority:0}),h6:()=>({conversion:N,priority:0}),p:e=>null!==(e=e.firstChild)&&_(e)?{conversion:()=>({node:null}),priority:3}:null,span:e=>_(e)?{conversion:()=>({node:E("h1")}),priority:3}:null}}static importJSON(e){let t=E(e.tag);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(e,t=!0){e=0<(e=e?e.anchor.offset:0)&&e<this.getTextContentSize()?E(this.getTag()):r.$createParagraphNode();let n=this.getDirection();return e.setDirection(n),this.insertAfter(e,t),e}collapseAtStart(){let e=this.isEmpty()?r.$createParagraphNode():E(this.getTag());return this.getChildren().forEach(t=>e.append(t)),this.replace(e),!0}extractWithChild(){return!0}}function _(e){return"span"===e.nodeName.toLowerCase()&&"26pt"===e.style.fontSize}function N(e){let t=null;return"h1"!==(e=e.nodeName.toLowerCase())&&"h2"!==e&&"h3"!==e&&"h4"!==e&&"h5"!==e&&"h6"!==e||(t=E(e)),{node:t}}function y(){return{node:p()}}function E(e){return r.$applyNodeReplacement(new m(e))}function C(e){let t=null;if(e instanceof DragEvent?t=e.dataTransfer:e instanceof ClipboardEvent&&(t=e.clipboardData),null===t)return[!1,[],!1];var n=t.types;return e=n.includes("Files"),n=n.includes("text/html")||n.includes("text/plain"),[e,Array.from(t.files),n]}function x(e,t){var i=r.$getSelection();if(r.$isRangeSelection(i)){var o=new Set;i=i.getNodes();for(let r=0;r<i.length;r++){let s=i[r],l=s.getKey();if(o.has(l))continue;let a=n.$getNearestBlockElementAncestorOrThrow(s),c=a.getKey();a.canInsertTab()?(e(s),o.add(l)):a.canIndent()&&!o.has(c)&&(o.add(c),t(a))}}}function v(e){return e=r.$getNearestNodeFromDOMNode(e),r.$isDecoratorNode(e)}return at.$createHeadingNode=E,at.$createQuoteNode=p,at.$isHeadingNode=function(e){return e instanceof m},at.$isQuoteNode=function(e){return e instanceof f},at.DRAG_DROP_PASTE=g,at.HeadingNode=m,at.QuoteNode=f,at.eventFiles=C,at.registerRichText=function(o){return n.mergeRegister(o.registerCommand(r.CLICK_COMMAND,()=>{const e=r.$getSelection();return!!r.$isNodeSelection(e)&&(e.clear(),!0)},0),o.registerCommand(r.DELETE_CHARACTER_COMMAND,e=>{const t=r.$getSelection();return!!r.$isRangeSelection(t)&&(t.deleteCharacter(e),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.DELETE_WORD_COMMAND,e=>{const t=r.$getSelection();return!!r.$isRangeSelection(t)&&(t.deleteWord(e),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.DELETE_LINE_COMMAND,e=>{const t=r.$getSelection();return!!r.$isRangeSelection(t)&&(t.deleteLine(e),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.CONTROLLED_TEXT_INSERTION_COMMAND,t=>{const n=r.$getSelection();if("string"==typeof t)r.$isRangeSelection(n)?n.insertText(t):r.DEPRECATED_$isGridSelection(n);else{if(!r.$isRangeSelection(n)&&!r.DEPRECATED_$isGridSelection(n))return!1;const i=t.dataTransfer;null!=i?e.$insertDataTransferForRichText(i,n,o):r.$isRangeSelection(n)&&(t=t.data)&&n.insertText(t)}return!0},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.REMOVE_TEXT_COMMAND,()=>{const e=r.$getSelection();return!!r.$isRangeSelection(e)&&(e.removeText(),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.FORMAT_TEXT_COMMAND,e=>{const t=r.$getSelection();return!!r.$isRangeSelection(t)&&(t.formatText(e),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.FORMAT_ELEMENT_COMMAND,e=>{var t=r.$getSelection();if(!r.$isRangeSelection(t)&&!r.$isNodeSelection(t))return!1;t=t.getNodes();for(const r of t)n.$getNearestBlockElementAncestorOrThrow(r).setFormat(e);return!0},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.INSERT_LINE_BREAK_COMMAND,e=>{const t=r.$getSelection();return!!r.$isRangeSelection(t)&&(t.insertLineBreak(e),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.INSERT_PARAGRAPH_COMMAND,()=>{const e=r.$getSelection();return!!r.$isRangeSelection(e)&&(e.insertParagraph(),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.INDENT_CONTENT_COMMAND,()=>(x(()=>{o.dispatchCommand(r.CONTROLLED_TEXT_INSERTION_COMMAND,"\t")},e=>{const t=e.getIndent();10!==t&&e.setIndent(t+1)}),!0),r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.OUTDENT_CONTENT_COMMAND,()=>(x(e=>{r.$isTextNode(e)&&("\t"===(e=e.getTextContent())[e.length-1]&&o.dispatchCommand(r.DELETE_CHARACTER_COMMAND,!0))},e=>{const t=e.getIndent();0!==t&&e.setIndent(t-1)}),!0),r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.KEY_ARROW_UP_COMMAND,e=>{var t=r.$getSelection();if(r.$isNodeSelection(t)&&!v(e.target)){if(0<(e=t.getNodes()).length)return e[0].selectPrevious(),!0}else if(r.$isRangeSelection(t)){if(t=r.$getAdjacentNode(t.focus,!0),r.$isDecoratorNode(t)&&!t.isIsolated()&&!t.isInline())return t.selectPrevious(),e.preventDefault(),!0;if(r.$isElementNode(t)&&!t.isInline()&&!t.canBeEmpty())return t.select(),e.preventDefault(),!0}return!1},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.KEY_ARROW_DOWN_COMMAND,e=>{var t=r.$getSelection();if(r.$isNodeSelection(t)){if(0<(e=t.getNodes()).length)return e[0].selectNext(0,0),!0}else if(r.$isRangeSelection(t)){let n=t.focus;if("root"===n.key&&n.offset===r.$getRoot().getChildrenSize())return e.preventDefault(),!0;if(t=r.$getAdjacentNode(t.focus,!1),r.$isDecoratorNode(t)&&!t.isIsolated()&&!t.isInline())return t.selectNext(),e.preventDefault(),!0}return!1},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.KEY_ARROW_LEFT_COMMAND,e=>{const n=r.$getSelection();if(r.$isNodeSelection(n)){var i=n.getNodes();if(0<i.length)return e.preventDefault(),i[0].selectPrevious(),!0}return!!r.$isRangeSelection(n)&&(!!t.$shouldOverrideDefaultCharacterSelection(n,!0)&&(i=e.shiftKey,e.preventDefault(),t.$moveCharacter(n,i,!0),!0))},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.KEY_ARROW_RIGHT_COMMAND,e=>{const n=r.$getSelection();if(r.$isNodeSelection(n)&&!v(e.target)){var i=n.getNodes();if(0<i.length)return e.preventDefault(),i[0].selectNext(0,0),!0}return!!r.$isRangeSelection(n)&&(i=e.shiftKey,!!t.$shouldOverrideDefaultCharacterSelection(n,!1)&&(e.preventDefault(),t.$moveCharacter(n,i,!1),!0))},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.KEY_BACKSPACE_COMMAND,e=>{if(v(e.target))return!1;const t=r.$getSelection();if(!r.$isRangeSelection(t))return!1;e.preventDefault(),({anchor:e}=t);const i=e.getNode();return t.isCollapsed()&&0===e.offset&&!r.$isRootNode(i)&&0<n.$getNearestBlockElementAncestorOrThrow(i).getIndent()?o.dispatchCommand(r.OUTDENT_CONTENT_COMMAND,void 0):o.dispatchCommand(r.DELETE_CHARACTER_COMMAND,!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.KEY_DELETE_COMMAND,e=>{if(v(e.target))return!1;const t=r.$getSelection();return!!r.$isRangeSelection(t)&&(e.preventDefault(),o.dispatchCommand(r.DELETE_CHARACTER_COMMAND,!1))},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.KEY_ENTER_COMMAND,e=>{const t=r.$getSelection();if(!r.$isRangeSelection(t))return!1;if(null!==e){if((c||a||d)&&l)return!1;if(e.preventDefault(),e.shiftKey)return o.dispatchCommand(r.INSERT_LINE_BREAK_COMMAND,!1)}return o.dispatchCommand(r.INSERT_PARAGRAPH_COMMAND,void 0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.KEY_ESCAPE_COMMAND,()=>{const e=r.$getSelection();return!!r.$isRangeSelection(e)&&(o.blur(),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.DROP_COMMAND,e=>{const[,t]=C(e);if(0<t.length){var n=i(e.clientX,e.clientY);if(null!==n){const{offset:e,node:i}=n;var s=r.$getNearestNodeFromDOMNode(i);if(null!==s){if(n=r.$createRangeSelection(),r.$isTextNode(s))n.anchor.set(s.getKey(),e,"text"),n.focus.set(s.getKey(),e,"text");else{const e=s.getParentOrThrow().getKey();s=s.getIndexWithinParent()+1,n.anchor.set(e,s,"element"),n.focus.set(e,s,"element")}n=r.$normalizeSelection__EXPERIMENTAL(n),r.$setSelection(n)}o.dispatchCommand(g,t)}return e.preventDefault(),!0}return e=r.$getSelection(),!!r.$isRangeSelection(e)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.DRAGSTART_COMMAND,e=>{[e]=C(e);const t=r.$getSelection();return!(e&&!r.$isRangeSelection(t))},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.DRAGOVER_COMMAND,e=>{var[t]=C(e);const n=r.$getSelection();return!(t&&!r.$isRangeSelection(n))&&(null!==(t=i(e.clientX,e.clientY))&&(t=r.$getNearestNodeFromDOMNode(t.node),r.$isDecoratorNode(t)&&e.preventDefault()),!0)},r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.COPY_COMMAND,t=>(e.copyToClipboard__EXPERIMENTAL(o,t instanceof ClipboardEvent?t:null),!0),r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.CUT_COMMAND,t=>(async function(t,n){await e.copyToClipboard__EXPERIMENTAL(n,t instanceof ClipboardEvent?t:null),n.update(()=>{let e=r.$getSelection();r.$isRangeSelection(e)?e.removeText():r.$isNodeSelection(e)&&e.getNodes().forEach(e=>e.remove())})}(t,o),!0),r.COMMAND_PRIORITY_EDITOR),o.registerCommand(r.PASTE_COMMAND,t=>{const[,n,i]=C(t);if(0<n.length&&!i)return o.dispatchCommand(g,n),!0;const s=r.$getSelection();return!(!r.$isRangeSelection(s)&&!r.DEPRECATED_$isGridSelection(s))&&(function(t,n){t.preventDefault(),n.update(()=>{let i=r.$getSelection(),o=t instanceof InputEvent||t instanceof KeyboardEvent?null:t.clipboardData;null!=o&&(r.$isRangeSelection(i)||r.DEPRECATED_$isGridSelection(i))&&e.$insertDataTransferForRichText(o,i,n)},{tag:"paste"})}(t,o),!0)},r.COMMAND_PRIORITY_EDITOR))},at}(),dt={};var gt,ft={};var ht,pt="development"===process.env.NODE_ENV?function(){if(ct)return dt;ct=1;var e=$e,t=h;class n extends t.ElementNode{static getType(){return"link"}static clone(e){return new n(e.__url,{rel:e.__rel,target:e.__target},e.__key)}constructor(e,t={},n){super(n);const{target:r=null,rel:i=null}=t;this.__url=e,this.__target=r,this.__rel=i}createDOM(t){const n=document.createElement("a");return n.href=this.__url,null!==this.__target&&(n.target=this.__target),null!==this.__rel&&(n.rel=this.__rel),e.addClassNamesToElement(n,t.theme.link),n}updateDOM(e,t,n){const r=this.__url,i=this.__target,o=this.__rel;return r!==e.__url&&(t.href=r),i!==e.__target&&(i?t.target=i:t.removeAttribute("target")),o!==e.__rel&&(o?t.rel=o:t.removeAttribute("rel")),!1}static importDOM(){return{a:e=>({conversion:r,priority:1})}}static importJSON(e){const t=i(e.url,{rel:e.rel,target:e.target});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),type:"link",url:this.getURL(),version:1}}getURL(){return this.getLatest().__url}setURL(e){this.getWritable().__url=e}getTarget(){return this.getLatest().__target}setTarget(e){this.getWritable().__target=e}getRel(){return this.getLatest().__rel}setRel(e){this.getWritable().__rel=e}insertNewAfter(e,n=!0){const r=this.getParentOrThrow().insertNewAfter(e,n);if(t.$isElementNode(r)){const e=i(this.__url,{rel:this.__rel,target:this.__target});return r.append(e),e}return null}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,n,r){if(!t.$isRangeSelection(n))return!1;const i=n.anchor.getNode(),o=n.focus.getNode();return this.isParentOf(i)&&this.isParentOf(o)&&n.getTextContent().length>0}}function r(t){let n=null;if(e.isHTMLAnchorElement(t)){const e=t.textContent;null!==e&&""!==e&&(n=i(t.getAttribute("href")||"",{rel:t.getAttribute("rel"),target:t.getAttribute("target")}))}return{node:n}}function i(e,r){return t.$applyNodeReplacement(new n(e,r))}function o(e){return e instanceof n}class s extends n{static getType(){return"autolink"}static clone(e){return new s(e.__url,{rel:e.__rel,target:e.__target},e.__key)}static importJSON(e){const t=l(e.url,{rel:e.rel,target:e.target});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),type:"autolink",version:1}}insertNewAfter(e,n=!0){const r=this.getParentOrThrow().insertNewAfter(e,n);if(t.$isElementNode(r)){const e=l(this.__url,{rel:this._rel,target:this.__target});return r.append(e),e}return null}}function l(e,n){return t.$applyNodeReplacement(new s(e,n))}const a=t.createCommand("TOGGLE_LINK_COMMAND");return dt.$createAutoLinkNode=l,dt.$createLinkNode=i,dt.$isAutoLinkNode=function(e){return e instanceof s},dt.$isLinkNode=o,dt.AutoLinkNode=s,dt.LinkNode=n,dt.TOGGLE_LINK_COMMAND=a,dt.toggleLink=function(e,n={}){const{target:r}=n,s=void 0===n.rel?"noopener":n.rel,l=t.$getSelection();if(!t.$isRangeSelection(l))return;const a=l.extract();if(null===e)a.forEach(e=>{const t=e.getParent();if(o(t)){const e=t.getChildren();for(let n=0;n<e.length;n++)t.insertBefore(e[n]);t.remove()}});else{if(1===a.length){const t=a[0],n=o(t)?t:function(e,t){let n=e;for(;null!==n&&null!==(n=n.getParent())&&!t(n););return n}(t,e=>o(e));if(null!==n)return n.setURL(e),void 0!==r&&n.setTarget(r),void(null!==s&&n.setRel(s))}let n=null,l=null;a.forEach(a=>{const c=a.getParent();if(c!==l&&null!==c&&(!t.$isElementNode(a)||a.isInline())){if(o(c))return l=c,c.setURL(e),void 0!==r&&c.setTarget(r),void(null!==s&&l.setRel(s));if(c.is(n)||(n=c,l=i(e,{rel:s,target:r}),o(c)?null===a.getPreviousSibling()?c.insertBefore(l):c.insertAfter(l):a.insertBefore(l)),o(a)){if(a.is(l))return;if(null!==l){const e=a.getChildren();for(let t=0;t<e.length;t++)l.append(e[t])}a.remove()}else null!==l&&l.append(a)}})}},dt}():function(){if(gt)return ft;gt=1;var e=$e,t=h;class n extends t.ElementNode{static getType(){return"link"}static clone(e){return new n(e.__url,{rel:e.__rel,target:e.__target},e.__key)}constructor(e,t={},n){super(n);let{target:r=null,rel:i=null}=t;this.__url=e,this.__target=r,this.__rel=i}createDOM(t){let n=document.createElement("a");return n.href=this.__url,null!==this.__target&&(n.target=this.__target),null!==this.__rel&&(n.rel=this.__rel),e.addClassNamesToElement(n,t.theme.link),n}updateDOM(e,t){let n=this.__url,r=this.__target,i=this.__rel;return n!==e.__url&&(t.href=n),r!==e.__target&&(r?t.target=r:t.removeAttribute("target")),i!==e.__rel&&(i?t.rel=i:t.removeAttribute("rel")),!1}static importDOM(){return{a:()=>({conversion:r,priority:1})}}static importJSON(e){let t=i(e.url,{rel:e.rel,target:e.target});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),type:"link",url:this.getURL(),version:1}}getURL(){return this.getLatest().__url}setURL(e){this.getWritable().__url=e}getTarget(){return this.getLatest().__target}setTarget(e){this.getWritable().__target=e}getRel(){return this.getLatest().__rel}setRel(e){this.getWritable().__rel=e}insertNewAfter(e,n=!0){return e=this.getParentOrThrow().insertNewAfter(e,n),t.$isElementNode(e)?(n=i(this.__url,{rel:this.__rel,target:this.__target}),e.append(n),n):null}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(e,n){if(!t.$isRangeSelection(n))return!1;e=n.anchor.getNode();let r=n.focus.getNode();return this.isParentOf(e)&&this.isParentOf(r)&&0<n.getTextContent().length}}function r(t){let n=null;if(e.isHTMLAnchorElement(t)){let e=t.textContent;null!==e&&""!==e&&(n=i(t.getAttribute("href")||"",{rel:t.getAttribute("rel"),target:t.getAttribute("target")}))}return{node:n}}function i(e,r){return t.$applyNodeReplacement(new n(e,r))}function o(e){return e instanceof n}class s extends n{static getType(){return"autolink"}static clone(e){return new s(e.__url,{rel:e.__rel,target:e.__target},e.__key)}static importJSON(e){let t=l(e.url,{rel:e.rel,target:e.target});return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),type:"autolink",version:1}}insertNewAfter(e,n=!0){return e=this.getParentOrThrow().insertNewAfter(e,n),t.$isElementNode(e)?(n=l(this.__url,{rel:this._rel,target:this.__target}),e.append(n),n):null}}function l(e,n){return t.$applyNodeReplacement(new s(e,n))}let a=t.createCommand("TOGGLE_LINK_COMMAND");return ft.$createAutoLinkNode=l,ft.$createLinkNode=i,ft.$isAutoLinkNode=function(e){return e instanceof s},ft.$isLinkNode=o,ft.AutoLinkNode=s,ft.LinkNode=n,ft.TOGGLE_LINK_COMMAND=a,ft.toggleLink=function(e,n={}){let{target:r}=n,s=void 0===n.rel?"noopener":n.rel;if(n=t.$getSelection(),t.$isRangeSelection(n))if(n=n.extract(),null===e)n.forEach(e=>{if(o(e=e.getParent())){let t=e.getChildren();for(let n=0;n<t.length;n++)e.insertBefore(t[n]);e.remove()}});else{if(1===n.length){var l=n[0];if(l=o(l)?l:function(e){return function(e,t){for(;null!==e&&null!==(e=e.getParent())&&!t(e););return e}(e,e=>o(e))}(l),null!==l)return l.setURL(e),void 0!==r&&l.setTarget(r),void(null!==s&&l.setRel(s))}let a=null,c=null;n.forEach(n=>{var l=n.getParent();if(l!==c&&null!==l&&(!t.$isElementNode(n)||n.isInline()))if(o(l))c=l,l.setURL(e),void 0!==r&&l.setTarget(r),null!==s&&c.setRel(s);else if(l.is(a)||(a=l,c=i(e,{rel:s,target:r}),o(l)?null===n.getPreviousSibling()?l.insertBefore(c):l.insertAfter(c):n.insertBefore(c)),o(n)){if(!n.is(c)){if(null!==c){l=n.getChildren();for(let e=0;e<l.length;e++)c.append(l[e])}n.remove()}}else null!==c&&c.append(n)})}},ft}();var mt,_t={};var Nt,yt,Et,Ct,xt,vt,Tt="development"===process.env.NODE_ENV?function(){if(ht)return k;ht=1;var e=h,t=Fe,n=We,r=ut,i=$e,o=pt;function s(e,t){const n={};for(const r of e){const e=t(r);n[e]?n[e].push(r):n[e]=[r]}return n}function l(e){const t=s(e,e=>e.type);return{element:t.element||[],textFormat:t["text-format"]||[],textMatch:t["text-match"]||[]}}const a=/[!-/:-@[-`{-~\s]/;function c(t,n,r,i){for(const e of n){const n=e.export(t,e=>u(e,r,i));if(null!=n)return n}return e.$isElementNode(t)?u(t,r,i):e.$isDecoratorNode(t)?t.getTextContent():null}function u(t,n,r){const i=[],o=t.getChildren();e:for(const t of o){for(const e of r){const o=e.export(t,e=>u(e,n,r),(e,t)=>d(e,t,n));if(null!=o){i.push(o);continue e}}e.$isLineBreakNode(t)?i.push("\n"):e.$isTextNode(t)?i.push(d(t,t.getTextContent(),n)):e.$isElementNode(t)?i.push(u(t,n,r)):e.$isDecoratorNode(t)&&i.push(t.getTextContent())}return i.join("")}function d(e,t,n){const r=t.trim();let i=r;const o=new Set;for(const t of n){const n=t.format[0],r=t.tag;if(f(e,n)&&!o.has(n)){o.add(n);f(g(e,!0),n)||(i=r+i);f(g(e,!1),n)||(i+=r)}}return t.replace(r,i)}function g(t,n){let r=n?t.getPreviousSibling():t.getNextSibling();if(!r){const e=t.getParentOrThrow();e.isInline()&&(r=n?e.getPreviousSibling():e.getNextSibling())}for(;r;){if(e.$isElementNode(r)){if(!r.isInline())break;const t=n?r.getLastDescendant():r.getFirstDescendant();if(e.$isTextNode(t))return t;r=n?r.getPreviousSibling():r.getNextSibling()}if(e.$isTextNode(r))return r;if(!e.$isElementNode(r))return null}return null}function f(t,n){return e.$isTextNode(t)&&t.hasFormat(n)}const p="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,m=p&&"documentMode"in document?document.documentMode:null;p&&"InputEvent"in window&&!m&&new window.InputEvent("input");const _=p&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),N=p&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,y=p&&/^(?=.*Chrome).*/i.test(navigator.userAgent),E=p&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!y,C=/^\s{0,3}$/,x=/^```(\w{1,10})?\s?$/;function v(t){const n=l(t),r=function(e){const t={},n={},r=[],i="(?<![\\\\])";for(const i of e){const{tag:e}=i;t[e]=i;const o=e.replace(/(\*|\^|\+)/g,"\\$1");r.push(o),n[e]=_||N||E?new RegExp(`(${o})(?![${o}\\s])(.*?[^${o}\\s])${o}(?!${o})`):new RegExp(`(?<![\\\\${o}])(${o})((\\\\${o})?.*?[^${o}\\s](\\\\${o})?)((?<!\\\\)|(?<=\\\\\\\\))(${o})(?![\\\\${o}])`)}return{fullMatchRegExpByTag:n,openTagsRegExp:new RegExp((_||N||E?"":`${i}`)+"("+r.join("|")+")","g"),transformersByTag:t}}(n.textFormat);return t=>{const i=t.split("\n"),o=i.length,s=e.$getRoot();s.clear();for(let e=0;e<o;e++){const t=i[e],[o,l]=b(i,e,s);null==o?S(t,s,n.element,r,n.textMatch):e=l}const l=s.getChildren();for(const e of l)T(e)&&e.remove();s.selectEnd()}}function T(t){if(!e.$isParagraphNode(t))return!1;const n=t.getFirstChild();return null==n||1===t.getChildrenSize()&&e.$isTextNode(n)&&C.test(n.getTextContent())}function S(t,o,s,l,a){const c=t.trim(),u=e.$createTextNode(c),d=e.$createParagraphNode();d.append(u),o.append(d);for(const{regExp:e,replace:n}of s){const r=t.match(e);if(r){u.setTextContent(t.slice(r[0].length)),n(d,[u],r,!0);break}}if(O(u,l,a),d.isAttached()&&c.length>0){const t=d.getPreviousSibling();if(e.$isParagraphNode(t)||r.$isQuoteNode(t)||n.$isListNode(t)){let r=t;if(n.$isListNode(t)){const e=t.getLastDescendant();r=null==e?null:i.$findMatchingParent(e,n.$isListItemNode)}null!=r&&r.getTextContentSize()>0&&(r.splice(r.getChildrenSize(),0,[e.$createLineBreakNode(),...d.getChildren()]),d.remove())}}}function b(n,r,i){const o=n[r].match(x);if(o){let s=r;const l=n.length;for(;++s<l;){if(n[s].match(x)){const l=t.$createCodeNode(o[1]),a=e.$createTextNode(n.slice(r+1,s).join("\n"));return l.append(a),i.append(l),[l,s]}}}return[null,r]}function O(e,t,n){const r=e.getTextContent(),i=function(e,t){const n=e.match(t.openTagsRegExp);if(null==n)return null;for(const r of n){const n=r.replace(/^\s/,""),i=t.fullMatchRegExpByTag[n];if(null==i)continue;const o=e.match(i),s=t.transformersByTag[n];if(null!=o&&null!=s){if(!1!==s.intraword)return o;const{index:t=0}=o,n=e[t-1],r=e[t+o[0].length];if((!n||a.test(n))&&(!r||a.test(r)))return o}}return null}(r,t);if(!i)return void w(e,n);let o,s,l;if(i[0]===r)o=e;else{const t=i.index||0,n=t+i[0].length;0===t?[o,s]=e.splitText(n):[l,o,s]=e.splitText(t,n)}o.setTextContent(i[2]);const c=t.transformersByTag[i[1]];if(c)for(const e of c.format)o.hasFormat(e)||o.toggleFormat(e);o.hasFormat("code")||O(o,t,n),l&&O(l,t,n),s&&O(s,t,n)}function w(e,t){let n=e;e:for(;n;){for(const e of t){const r=n.getTextContent().match(e.importRegExp);if(!r)continue;const i=r.index||0,o=i+r[0].length;let s,l,a;0===i?[s,n]=n.splitText(o):[l,s,a]=n.splitText(i,o),l&&w(l,t),a&&(n=a),e.replace(s,r);continue e}break}}function A(e,t,n){const r=n.length;for(let i=t;i>=r;i--){const t=i-r;if(D(e,t,n,0,r)&&" "!==e[t+r])return t}return-1}function D(e,t,n,r,i){for(let o=0;o<i;o++)if(e[t+o]!==n[r+o])return!1;return!0}const R=e=>(t,n,r)=>{const i=e(r);i.append(...n),t.replace(i),i.select(0,0)},M=e=>(t,r,i)=>{const o=t.getPreviousSibling(),s=n.$createListItemNode("check"===e?"x"===i[3]:void 0);if(n.$isListNode(o)&&o.getListType()===e)o.append(s),t.remove();else{const r=n.$createListNode(e,"number"===e?Number(i[2]):void 0);r.append(s),t.replace(r)}s.append(...r),s.select(0,0);const l=Math.floor(i[1].length/4);l&&s.setIndent(l)},$=(e,t,r)=>{const i=[],o=e.getChildren();let s=0;for(const l of o)if(n.$isListItemNode(l)){if(1===l.getChildrenSize()){const e=l.getFirstChild();if(n.$isListNode(e)){i.push($(e,t,r+1));continue}}const o=" ".repeat(4*r),a=e.getListType(),c="number"===a?`${e.getStart()+s}. `:"check"===a?`- [${l.getChecked()?"x":" "}] `:"- ";i.push(o+c+t(l)),s++}return i.join("\n")},L={dependencies:[r.HeadingNode],export:(e,t)=>{if(!r.$isHeadingNode(e))return null;const n=Number(e.getTag().slice(1));return"#".repeat(n)+" "+t(e)},regExp:/^(#{1,6})\s/,replace:R(e=>{const t="h"+e[1].length;return r.$createHeadingNode(t)}),type:"element"},P={dependencies:[r.QuoteNode],export:(e,t)=>{if(!r.$isQuoteNode(e))return null;const n=t(e).split("\n"),i=[];for(const e of n)i.push("> "+e);return i.join("\n")},regExp:/^>\s/,replace:(t,n,i,o)=>{if(o){const i=t.getPreviousSibling();if(r.$isQuoteNode(i))return i.splice(i.getChildrenSize(),0,[e.$createLineBreakNode(),...n]),i.select(0,0),void t.remove()}const s=r.$createQuoteNode();s.append(...n),t.replace(s),s.select(0,0)},type:"element"},I={dependencies:[t.CodeNode],export:e=>{if(!t.$isCodeNode(e))return null;const n=e.getTextContent();return"```"+(e.getLanguage()||"")+(n?"\n"+n:"")+"\n```"},regExp:/^```(\w{1,10})?\s/,replace:R(e=>t.$createCodeNode(e?e[1]:void 0)),type:"element"},F={dependencies:[n.ListNode,n.ListItemNode],export:(e,t)=>n.$isListNode(e)?$(e,t,0):null,regExp:/^(\s*)[-*+]\s/,replace:M("bullet"),type:"element"},B={dependencies:[n.ListNode,n.ListItemNode],export:(e,t)=>n.$isListNode(e)?$(e,t,0):null,regExp:/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,replace:M("check"),type:"element"},z={dependencies:[n.ListNode,n.ListItemNode],export:(e,t)=>n.$isListNode(e)?$(e,t,0):null,regExp:/^(\s*)(\d{1,})\.\s/,replace:M("number"),type:"element"},K={format:["code"],tag:"`",type:"text-format"},H={format:["highlight"],tag:"==",type:"text-format"},W={format:["bold","italic"],tag:"***",type:"text-format"},U={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},Y={format:["bold"],tag:"**",type:"text-format"},G={format:["bold"],intraword:!1,tag:"__",type:"text-format"},V={format:["strikethrough"],tag:"~~",type:"text-format"},j={format:["italic"],tag:"*",type:"text-format"},J={format:["italic"],intraword:!1,tag:"_",type:"text-format"},X={dependencies:[o.LinkNode],export:(t,n,r)=>{if(!o.$isLinkNode(t))return null;const i=`[${t.getTextContent()}](${t.getURL()})`,s=t.getFirstChild();return 1===t.getChildrenSize()&&e.$isTextNode(s)?r(s,i):i},importRegExp:/(?:\[([^[]+)\])(?:\(([^()]+)\))/,regExp:/(?:\[([^[]+)\])(?:\(([^()]+)\))$/,replace:(t,n)=>{const[,r,i]=n,s=o.$createLinkNode(i),l=e.$createTextNode(r);l.setFormat(t.getFormat()),s.append(l),t.replace(s)},trigger:")",type:"text-match"},q=[L,P,I,F,z],Z=[K,W,U,Y,G,H,j,J,V],Q=[X],ee=[...q,...Z,...Q];return k.$convertFromMarkdownString=function(e,t=ee){return v(t)(e)},k.$convertToMarkdownString=function(t=ee){return function(t){const n=l(t),r=n.textFormat.filter(e=>1===e.format.length);return()=>{const t=[],i=e.$getRoot().getChildren();for(const e of i){const i=c(e,n.element,r,n.textMatch);null!=i&&t.push(i)}return t.join("\n\n")}}(t)()},k.BOLD_ITALIC_STAR=W,k.BOLD_ITALIC_UNDERSCORE=U,k.BOLD_STAR=Y,k.BOLD_UNDERSCORE=G,k.CHECK_LIST=B,k.CODE=I,k.ELEMENT_TRANSFORMERS=q,k.HEADING=L,k.HIGHLIGHT=H,k.INLINE_CODE=K,k.ITALIC_STAR=j,k.ITALIC_UNDERSCORE=J,k.LINK=X,k.ORDERED_LIST=z,k.QUOTE=P,k.STRIKETHROUGH=V,k.TEXT_FORMAT_TRANSFORMERS=Z,k.TEXT_MATCH_TRANSFORMERS=Q,k.TRANSFORMERS=ee,k.UNORDERED_LIST=F,k.registerMarkdownShortcuts=function(n,r=ee){const i=l(r),o=s(i.textFormat,({tag:e})=>e[e.length-1]),c=s(i.textMatch,({trigger:e})=>e);for(const e of r){const t=e.type;if("element"===t||"text-match"===t){const t=e.dependencies;if(!n.hasNodes(t))throw Error("MarkdownShortcuts: missing dependency for transformer. Ensure node dependency is included in editor initial config.")}}const u=(t,n,r)=>{(function(t,n,r,i){const o=t.getParent();if(!e.$isRootOrShadowRoot(o)||t.getFirstChild()!==n)return!1;const s=n.getTextContent();if(" "!==s[r-1])return!1;for(const{regExp:e,replace:o}of i){const i=s.match(e);if(i&&i[0].length===r){const e=n.getNextSiblings(),[s,l]=n.splitText(r);return s.remove(),o(t,l?[l,...e]:e,i,!1),!0}}return!1})(t,n,r,i.element)||function(e,t,n){let r=e.getTextContent();const i=n[r[t-1]];if(null==i)return!1;t<r.length&&(r=r.slice(0,t));for(const t of i){const n=r.match(t.regExp);if(null===n)continue;const i=n.index||0,o=i+n[0].length;let s;return 0===i?[s]=e.splitText(o):[,s]=e.splitText(i,o),s.selectNext(0,0),t.replace(s,n),!0}return!1}(n,r,c)||function(t,n,r){const i=t.getTextContent(),o=n-1,s=i[o],l=r[s];if(!l)return!1;for(const n of l){const{tag:r}=n,l=r.length,c=o-l+1;if(l>1&&!D(i,c,r,0,l))continue;if(" "===i[c-1])continue;const u=i[o+1];if(!1===n.intraword&&u&&!a.test(u))continue;const d=t;let g=d,f=A(i,c,r),h=g;for(;f<0&&(h=h.getPreviousSibling())&&!e.$isLineBreakNode(h);)if(e.$isTextNode(h)){const e=h.getTextContent();g=h,f=A(e,e.length,r)}if(f<0)continue;if(g===d&&f+l===c)continue;const p=g.getTextContent();if(f>0&&p[f-1]===s)continue;const m=p[f-1];if(!1===n.intraword&&m&&!a.test(m))continue;const _=d.getTextContent(),N=_.slice(0,c)+_.slice(o+1);d.setTextContent(N);const y=g===d?N:p;g.setTextContent(y.slice(0,f)+y.slice(f+l));const E=e.$getSelection(),C=e.$createRangeSelection();e.$setSelection(C);const x=o-l*(g===d?2:1)+1;C.anchor.set(g.__key,f,"text"),C.focus.set(d.__key,x,"text");for(const e of n.format)C.hasFormat(e)||C.formatText(e);C.anchor.set(C.focus.key,C.focus.offset,C.focus.type);for(const e of n.format)C.hasFormat(e)&&C.toggleFormat(e);return e.$isRangeSelection(E)&&(C.format=E.format),!0}}(n,r,o)};return n.registerUpdateListener(({tags:r,dirtyLeaves:i,editorState:o,prevEditorState:s})=>{if(r.has("historic"))return;const l=o.read(e.$getSelection),a=s.read(e.$getSelection);if(!e.$isRangeSelection(a)||!e.$isRangeSelection(l)||!l.isCollapsed())return;const c=l.anchor.key,d=l.anchor.offset,g=o._nodeMap.get(c);e.$isTextNode(g)&&i.has(c)&&(1===d||d===a.anchor.offset+1)&&n.update(()=>{if(g.hasFormat("code"))return;const e=g.getParent();null===e||t.$isCodeNode(e)||u(e,g,l.anchor.offset)})})},k}():function(){if(mt)return _t;mt=1;var e=h,t=Fe,n=We,r=ut,i=$e,o=pt;function s(e,t){let n={};for(let r of e)n[e=t(r)]?n[e].push(r):n[e]=[r];return n}function l(e){return{element:(e=s(e,e=>e.type)).element||[],textFormat:e["text-format"]||[],textMatch:e["text-match"]||[]}}let a=/[!-/:-@[-`{-~\s]/;function c(t,n,r,i){for(let e of n)if(null!=(n=e.export(t,e=>u(e,r,i))))return n;return e.$isElementNode(t)?u(t,r,i):e.$isDecoratorNode(t)?t.getTextContent():null}function u(t,n,r){let i=[];t=t.getChildren();e:for(let o of t){for(let e of r)if(null!=(t=e.export(o,e=>u(e,n,r),(e,t)=>d(e,t,n)))){i.push(t);continue e}e.$isLineBreakNode(o)?i.push("\n"):e.$isTextNode(o)?i.push(d(o,o.getTextContent(),n)):e.$isElementNode(o)?i.push(u(o,n,r)):e.$isDecoratorNode(o)&&i.push(o.getTextContent())}return i.join("")}function d(e,t,n){let r=t.trim(),i=r,o=new Set;for(let t of n){n=t.format[0];let r=t.tag;if(f(e,n)&&!o.has(n)){o.add(n);var s=g(e,!0);f(s,n)||(i=r+i),f(s=g(e,!1),n)||(i+=r)}}return t.replace(r,i)}function g(t,n){let r=n?t.getPreviousSibling():t.getNextSibling();for(r||(t=t.getParentOrThrow()).isInline()&&(r=n?t.getPreviousSibling():t.getNextSibling());r;){if(e.$isElementNode(r)){if(!r.isInline())break;if(t=n?r.getLastDescendant():r.getFirstDescendant(),e.$isTextNode(t))return t;r=n?r.getPreviousSibling():r.getNextSibling()}if(e.$isTextNode(r))return r;if(!e.$isElementNode(r))break}return null}function f(t,n){return e.$isTextNode(t)&&t.hasFormat(n)}let p="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,m=p&&"documentMode"in document?document.documentMode:null;p&&"InputEvent"in window&&!m&&new window.InputEvent("input");let _=p&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),N=p&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,y=p&&/^(?=.*Chrome).*/i.test(navigator.userAgent),E=p&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!y,C=/^\s{0,3}$/,x=/^```(\w{1,10})?\s?$/;function v(o){let s=l(o),a=function(e){let t={},n={},r=[];for(let i of e){({tag:e}=i),t[e]=i;let o=e.replace(/(\*|\^|\+)/g,"\\$1");r.push(o),n[e]=_||N||E?new RegExp(`(${o})(?![${o}\\s])(.*?[^${o}\\s])${o}(?!${o})`):new RegExp(`(?<![\\\\${o}])(${o})((\\\\${o})?.*?[^${o}\\s](\\\\${o})?)((?<!\\\\)|(?<=\\\\\\\\))(${o})(?![\\\\${o}])`)}return{fullMatchRegExpByTag:n,openTagsRegExp:new RegExp((_||N||E?"":"(?<![\\\\])")+"("+r.join("|")+")","g"),transformersByTag:t}}(s.textFormat);return o=>{var l=o.split("\n"),c=l.length;(o=e.$getRoot()).clear();for(let N=0;N<c;N++){var u=l[N];e:{var d=l,g=N,f=o,h=d[g].match(x);if(h)for(var p=g,m=d.length;++p<m;)if(d[p].match(x)){h=t.$createCodeNode(h[1]),d=e.$createTextNode(d.slice(g+1,p).join("\n")),h.append(d),f.append(h),f=[h,p];break e}f=[null,g]}let[c,y]=f;if(null!=c)N=y;else{f=u,m=o;var _=s.element;p=a,d=s.textMatch,g=f.trim(),h=e.$createTextNode(g),(u=e.$createParagraphNode()).append(h),m.append(u);for(let{regExp:e,replace:t}of _)if(m=f.match(e)){h.setTextContent(f.slice(m[0].length)),t(u,[h],m,!0);break}T(h,p,d),u.isAttached()&&0<g.length&&(f=u.getPreviousSibling(),e.$isParagraphNode(f)||r.$isQuoteNode(f)||n.$isListNode(f))&&(p=f,n.$isListNode(f)&&(p=null==(f=f.getLastDescendant())?null:i.$findMatchingParent(f,n.$isListItemNode)),null!=p&&0<p.getTextContentSize()&&(p.splice(p.getChildrenSize(),0,[e.$createLineBreakNode(),...u.getChildren()]),u.remove()))}}l=o.getChildren();for(let t of l)l=t,e.$isParagraphNode(l)?(c=l.getFirstChild(),l=null==c||1===l.getChildrenSize()&&e.$isTextNode(c)&&C.test(c.getTextContent())):l=!1,l&&t.remove();o.selectEnd()}}function T(e,t,n){var r=e.getTextContent();let i=function(e,t){var n=e.match(t.openTagsRegExp);if(null==n)return null;for(let o of n){var r=o.replace(/^\s/,"");if(null!=(n=t.fullMatchRegExpByTag[r])&&(n=e.match(n),r=t.transformersByTag[r],null!=n&&null!=r)){if(!1!==r.intraword)return n;var{index:i=0}=n;if(r=e[i-1],i=e[i+n[0].length],!(r&&!a.test(r)||i&&!a.test(i)))return n}}return null}(r,t);if(i){var o,s;if(i[0]===r)var l=e;else{let t=(r=i.index||0)+i[0].length;0===r?[l,o]=e.splitText(t):[s,l,o]=e.splitText(r,t)}if(l.setTextContent(i[2]),e=t.transformersByTag[i[1]])for(let t of e.format)l.hasFormat(t)||l.toggleFormat(t);l.hasFormat("code")||T(l,t,n),s&&T(s,t,n),o&&T(o,t,n)}else S(e,n)}function S(e,t){e:for(;e;){for(let n of t){let r=e.getTextContent().match(n.importRegExp);if(!r)continue;let i,o,s,l=r.index||0,a=l+r[0].length;0===l?[i,e]=e.splitText(a):[o,i,s]=e.splitText(l,a),o&&S(o,t),s&&(e=s),n.replace(i,r);continue e}break}}function b(e,t,n){let r=n.length;for(;t>=r;t--){let i=t-r;if(O(e,i,n,0,r)&&" "!==e[i+r])return i}return-1}function O(e,t,n,r,i){for(let o=0;o<i;o++)if(e[t+o]!==n[r+o])return!1;return!0}let w=e=>(t,n,r)=>{(r=e(r)).append(...n),t.replace(r),r.select(0,0)},A=e=>(t,r,i)=>{var o=t.getPreviousSibling();const s=n.$createListItemNode("check"===e?"x"===i[3]:void 0);n.$isListNode(o)&&o.getListType()===e?(o.append(s),t.remove()):((o=n.$createListNode(e,"number"===e?Number(i[2]):void 0)).append(s),t.replace(o)),s.append(...r),s.select(0,0),(t=Math.floor(i[1].length/4))&&s.setIndent(t)},D=(e,t,r)=>{const i=[];var o=e.getChildren();let s=0;for(const a of o)if(n.$isListItemNode(a)){if(1===a.getChildrenSize()&&(o=a.getFirstChild(),n.$isListNode(o))){i.push(D(o,t,r+1));continue}o=" ".repeat(4*r);var l=e.getListType();l="number"===l?`${e.getStart()+s}. `:"check"===l?`- [${a.getChecked()?"x":" "}] `:"- ",i.push(o+l+t(a)),s++}return i.join("\n")},k={dependencies:[r.HeadingNode],export:(e,t)=>{if(!r.$isHeadingNode(e))return null;const n=Number(e.getTag().slice(1));return"#".repeat(n)+" "+t(e)},regExp:/^(#{1,6})\s/,replace:w(e=>r.$createHeadingNode("h"+e[1].length)),type:"element"},R={dependencies:[r.QuoteNode],export:(e,t)=>{if(!r.$isQuoteNode(e))return null;e=t(e).split("\n"),t=[];for(const n of e)t.push("> "+n);return t.join("\n")},regExp:/^>\s/,replace:(t,n,i,o)=>{if(o&&(i=t.getPreviousSibling(),r.$isQuoteNode(i)))return i.splice(i.getChildrenSize(),0,[e.$createLineBreakNode(),...n]),i.select(0,0),void t.remove();(i=r.$createQuoteNode()).append(...n),t.replace(i),i.select(0,0)},type:"element"},M={dependencies:[t.CodeNode],export:e=>{if(!t.$isCodeNode(e))return null;const n=e.getTextContent();return"```"+(e.getLanguage()||"")+(n?"\n"+n:"")+"\n```"},regExp:/^```(\w{1,10})?\s/,replace:w(e=>t.$createCodeNode(e?e[1]:void 0)),type:"element"},$={dependencies:[n.ListNode,n.ListItemNode],export:(e,t)=>n.$isListNode(e)?D(e,t,0):null,regExp:/^(\s*)[-*+]\s/,replace:A("bullet"),type:"element"},L={dependencies:[n.ListNode,n.ListItemNode],export:(e,t)=>n.$isListNode(e)?D(e,t,0):null,regExp:/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,replace:A("check"),type:"element"},P={dependencies:[n.ListNode,n.ListItemNode],export:(e,t)=>n.$isListNode(e)?D(e,t,0):null,regExp:/^(\s*)(\d{1,})\.\s/,replace:A("number"),type:"element"},I={format:["code"],tag:"`",type:"text-format"},F={format:["highlight"],tag:"==",type:"text-format"},B={format:["bold","italic"],tag:"***",type:"text-format"},z={format:["bold","italic"],intraword:!1,tag:"___",type:"text-format"},K={format:["bold"],tag:"**",type:"text-format"},H={format:["bold"],intraword:!1,tag:"__",type:"text-format"},W={format:["strikethrough"],tag:"~~",type:"text-format"},U={format:["italic"],tag:"*",type:"text-format"},Y={format:["italic"],intraword:!1,tag:"_",type:"text-format"},G={dependencies:[o.LinkNode],export:(t,n,r)=>{if(!o.$isLinkNode(t))return null;n=`[${t.getTextContent()}](${t.getURL()})`;const i=t.getFirstChild();return 1===t.getChildrenSize()&&e.$isTextNode(i)?r(i,n):n},importRegExp:/(?:\[([^[]+)\])(?:\(([^()]+)\))/,regExp:/(?:\[([^[]+)\])(?:\(([^()]+)\))$/,replace:(t,n)=>{const[,r,i]=n;n=o.$createLinkNode(i);const s=e.$createTextNode(r);s.setFormat(t.getFormat()),n.append(s),t.replace(n)},trigger:")",type:"text-match"},V=[k,R,M,$,P],j=[I,B,z,K,H,F,U,Y,W],J=[G],X=[...V,...j,...J];return _t.$convertFromMarkdownString=function(e,t=X){return v(t)(e)},_t.$convertToMarkdownString=function(t=X){return function(t){let n=l(t),r=n.textFormat.filter(e=>1===e.format.length);return()=>{let t=[];var i=e.$getRoot().getChildren();for(let e of i)null!=(i=c(e,n.element,r,n.textMatch))&&t.push(i);return t.join("\n\n")}}(t)()},_t.BOLD_ITALIC_STAR=B,_t.BOLD_ITALIC_UNDERSCORE=z,_t.BOLD_STAR=K,_t.BOLD_UNDERSCORE=H,_t.CHECK_LIST=L,_t.CODE=M,_t.ELEMENT_TRANSFORMERS=V,_t.HEADING=k,_t.HIGHLIGHT=F,_t.INLINE_CODE=I,_t.ITALIC_STAR=U,_t.ITALIC_UNDERSCORE=Y,_t.LINK=G,_t.ORDERED_LIST=P,_t.QUOTE=R,_t.STRIKETHROUGH=W,_t.TEXT_FORMAT_TRANSFORMERS=j,_t.TEXT_MATCH_TRANSFORMERS=J,_t.TRANSFORMERS=X,_t.UNORDERED_LIST=$,_t.registerMarkdownShortcuts=function(n,r=X){let i=l(r),o=s(i.textFormat,({tag:e})=>e[e.length-1]),c=s(i.textMatch,({trigger:e})=>e);for(let e of r)if(("element"===(r=e.type)||"text-match"===r)&&!n.hasNodes(e.dependencies))throw Error("Minified Lexical error #79; visit https://lexical.dev/docs/error?code=79 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return n.registerUpdateListener(({tags:r,dirtyLeaves:s,editorState:l,prevEditorState:u})=>{if(!r.has("historic")){var d=l.read(e.$getSelection);if(r=u.read(e.$getSelection),e.$isRangeSelection(r)&&e.$isRangeSelection(d)&&d.isCollapsed()){u=d.anchor.key;var g=d.anchor.offset,f=l._nodeMap.get(u);e.$isTextNode(f)&&s.has(u)&&(1===g||g===r.anchor.offset+1)&&n.update(()=>{if(!f.hasFormat("code")){var n=f.getParent();if(null!==n&&!t.$isCodeNode(n)){var r=d.anchor.offset;e:{var s=i.element,l=n.getParent();if(e.$isRootOrShadowRoot(l)&&n.getFirstChild()===f&&" "===(l=f.getTextContent())[r-1])for(let{regExp:e,replace:t}of s)if((s=l.match(e))&&s[0].length===r){l=f.getNextSiblings();let[e,i]=f.splitText(r);e.remove(),t(n,l=i?[i,...l]:l,s,!1),n=!0;break e}n=!1}if(!n){e:{if(s=f.getTextContent(),null!=(n=c[s[r-1]]))for(g of(r<s.length&&(s=s.slice(0,r)),n))if(null!==(n=s.match(g.regExp))){l=(s=n.index||0)+n[0].length;var u=void 0;0===s?[u]=f.splitText(l):[,u]=f.splitText(s,l),u.selectNext(0,0),g.replace(u,n);var g=!0;break e}g=!1}if(!g)e:{var h=(l=f.getTextContent())[--r];if(g=o[h])for(let t of g){var{tag:p}=t;let i=r-(g=p.length)+1;if(!(1<g&&!O(l,i,p,0,g)||" "===l[i-1])&&(u=l[r+1],!1!==t.intraword||!u||a.test(u))){n=u=f,s=b(l,i,p);for(var m=n;0>s&&(m=m.getPreviousSibling())&&!e.$isLineBreakNode(m);)e.$isTextNode(m)&&(s=m.getTextContent(),n=m,s=b(s,s.length,p));if(!(0>s||n===u&&s+g===i||(p=n.getTextContent(),0<s&&p[s-1]===h||(m=p[s-1],!1===t.intraword&&m&&!a.test(m))))){l=(l=u.getTextContent()).slice(0,i)+l.slice(r+1),u.setTextContent(l),l=n===u?l:p,n.setTextContent(l.slice(0,s)+l.slice(s+g)),l=e.$getSelection(),h=e.$createRangeSelection(),e.$setSelection(h),r=r-g*(n===u?2:1)+1,h.anchor.set(n.__key,s,"text"),h.focus.set(u.__key,r,"text");for(let e of t.format)h.hasFormat(e)||h.formatText(e);h.anchor.set(h.focus.key,h.focus.offset,h.focus.type);for(let e of t.format)h.hasFormat(e)&&h.toggleFormat(e);e.$isRangeSelection(l)&&(h.format=l.format);break e}}}}}}}})}}})},_t}(),St={};function bt(){if(yt)return Nt;yt=1;var e=c,n=t;var r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect;function i(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}return Nt=function(){return function(t){const[i]=e.useLexicalComposerContext(),o=n.useMemo(()=>t(i),[i,t]),s=n.useRef(o.initialValueFn()),[l,a]=n.useState(s.current);return r(()=>{const{initialValueFn:e,subscribe:t}=o,n=e();return s.current!==n&&(s.current=n,a(n)),t(e=>{s.current=e,a(e)})},[o,t]),l}(i)},Nt}function Ot(){if(Ct)return Et;Ct=1;var e=c,n=t,r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect;function i(e){return{initialValueFn:()=>e.isEditable(),subscribe:t=>e.registerEditableListener(t)}}return Et=function(){return function(t){let[i]=e.useLexicalComposerContext(),o=n.useMemo(()=>t(i),[i,t]),s=n.useRef(o.initialValueFn()),[l,a]=n.useState(s.current);return r(()=>{let{initialValueFn:e,subscribe:t}=o,n=e();return s.current!==n&&(s.current=n,a(n)),t(e=>{s.current=e,a(e)})},[o,t]),l}(i)}}function wt(){if(vt)return xt;vt=1;const e="development"===process.env.NODE_ENV?bt():Ot();return xt=e}var At,Dt={};var kt,Rt,Mt,$t={};function Lt(){if(Mt)return Rt;Mt=1;const e="development"===process.env.NODE_ENV?function(){if(At)return Dt;At=1;var e=h;function t(e,t=!0){if(e)return!1;let r=n();return t&&(r=r.trim()),""===r}function n(){return e.$getRoot().getTextContent()}function r(n){if(!t(n,!1))return!1;const r=e.$getRoot().getChildren(),i=r.length;if(i>1)return!1;for(let t=0;t<i;t++){const n=r[t];if(e.$isElementNode(n)){if(!e.$isParagraphNode(n))return!1;if(0!==n.__indent)return!1;const r=n.getChildren(),i=r.length;for(let n=0;n<i;n++){const n=r[t];if(!e.$isTextNode(n))return!1}}}return!0}return Dt.$canShowPlaceholder=r,Dt.$canShowPlaceholderCurry=function(e){return()=>r(e)},Dt.$findTextIntersectionFromCharacters=function(t,n){let r=t.getFirstChild(),i=0;e:for(;null!==r;){if(e.$isElementNode(r)){const e=r.getFirstChild();if(null!==e){r=e;continue}}else if(e.$isTextNode(r)){const e=r.getTextContentSize();if(i+e>n)return{node:r,offset:n-i};i+=e}const t=r.getNextSibling();if(null!==t){r=t;continue}let o=r.getParent();for(;null!==o;){const e=o.getNextSibling();if(null!==e){r=e;continue e}o=o.getParent()}break}return null},Dt.$isRootTextContentEmpty=t,Dt.$isRootTextContentEmptyCurry=function(e,n){return()=>t(e,n)},Dt.$rootTextContent=n,Dt.registerLexicalTextEntity=function(t,n,r,i){const o=e=>e instanceof r,s=t=>{const n=e.$createTextNode(t.getTextContent());n.setFormat(t.getFormat()),t.replace(n)};return[t.registerNodeTransform(e.TextNode,t=>{if(!t.isSimpleText())return;const r=t.getPreviousSibling();let l,a=t.getTextContent(),c=t;if(e.$isTextNode(r)){const e=r.getTextContent(),i=n(e+a);if(o(r)){if(null===i||0!==(e=>e.getLatest().__mode)(r))return void s(r);{const n=i.end-e.length;if(n>0){const i=e+a.slice(0,n);if(r.select(),r.setTextContent(i),n===a.length)t.remove();else{const e=a.slice(n);t.setTextContent(e)}return}}}else if(null===i||i.start<e.length)return}for(;;){l=n(a);let t,u=null===l?"":a.slice(l.end);if(a=u,""===u){const t=c.getNextSibling();if(e.$isTextNode(t)){u=c.getTextContent()+t.getTextContent();const e=n(u);if(null===e)return void(o(t)?s(t):t.markDirty());if(0!==e.start)return}}else{const e=n(u);if(null!==e&&0===e.start)return}if(null===l)return;if(0===l.start&&e.$isTextNode(r)&&r.isTextEntity())continue;0===l.start?[t,c]=c.splitText(l.end):[,t,c]=c.splitText(l.start,l.end);const d=i(t);if(t.replace(d),null==c)return}}),t.registerNodeTransform(r,t=>{const r=t.getTextContent(),i=n(r);if(null===i||0!==i.start)return void s(t);if(r.length>i.end)return void t.splitText(i.end);const l=t.getPreviousSibling();e.$isTextNode(l)&&l.isTextEntity()&&(s(l),s(t));const a=t.getNextSibling();e.$isTextNode(a)&&a.isTextEntity()&&(s(a),o(t)&&s(t))})]},Dt}():function(){if(kt)return $t;kt=1;var e=h;function t(e,t=!0){return!e&&(e=n(),t&&(e=e.trim()),""===e)}function n(){return e.$getRoot().getTextContent()}function r(n){if(!t(n,!1))return!1;let r=(n=e.$getRoot().getChildren()).length;if(1<r)return!1;for(let t=0;t<r;t++){var i=n[t];if(e.$isElementNode(i)){if(!e.$isParagraphNode(i)||0!==i.__indent)return!1;let n=(i=i.getChildren()).length;for(let r=0;r<n;r++)if(!e.$isTextNode(i[t]))return!1}}return!0}return $t.$canShowPlaceholder=r,$t.$canShowPlaceholderCurry=function(e){return()=>r(e)},$t.$findTextIntersectionFromCharacters=function(t,n){var r=t.getFirstChild();t=0;e:for(;null!==r;){if(e.$isElementNode(r)){var i=r.getFirstChild();if(null!==i){r=i;continue}}else if(e.$isTextNode(r)){if(t+(i=r.getTextContentSize())>n)return{node:r,offset:n-t};t+=i}if(null===(i=r.getNextSibling())){for(r=r.getParent();null!==r;){if(null!==(i=r.getNextSibling())){r=i;continue e}r=r.getParent()}break}r=i}return null},$t.$isRootTextContentEmpty=t,$t.$isRootTextContentEmptyCurry=function(e,n){return()=>t(e,n)},$t.$rootTextContent=n,$t.registerLexicalTextEntity=function(t,n,r,i){let o=t=>{const n=e.$createTextNode(t.getTextContent());n.setFormat(t.getFormat()),t.replace(n)};return[t.registerNodeTransform(e.TextNode,t=>{if(t.isSimpleText()){var s=t.getPreviousSibling(),l=t.getTextContent(),a=t;if(e.$isTextNode(s)){var c=s.getTextContent(),u=n(c+l);if(s instanceof r){if(null===u||0!==s.getLatest().__mode)return void o(s);if(0<(u=u.end-c.length))return a=c+(a=l.slice(0,u)),s.select(),s.setTextContent(a),void(u===l.length?t.remove():(s=l.slice(u),t.setTextContent(s)))}else if(null===u||u.start<c.length)return}for(;;){if(l=u=null===(t=n(l))?"":l.slice(t.end),""===u){if(c=a.getNextSibling(),e.$isTextNode(c)){if(u=a.getTextContent()+c.getTextContent(),null===(u=n(u))){c instanceof r?o(c):c.markDirty();break}if(0!==u.start)break}}else if(null!==(c=n(u))&&0===c.start)break;if(null===t)break;if(0===t.start&&e.$isTextNode(s)&&s.isTextEntity())continue;let d;if(0===t.start?[d,a]=a.splitText(t.end):[,d,a]=a.splitText(t.start,t.end),t=i(d),d.replace(t),null==a)break}}}),t=t.registerNodeTransform(r,t=>{var i=t.getTextContent();const s=n(i);null===s||0!==s.start?o(t):i.length>s.end?t.splitText(s.end):(i=t.getPreviousSibling(),e.$isTextNode(i)&&i.isTextEntity()&&(o(i),o(t)),i=t.getNextSibling(),e.$isTextNode(i)&&i.isTextEntity()&&(o(i),t instanceof r&&o(t)))})]},$t}();return Rt=e}var Pt,It={};var Ft,Bt,zt,Kt,Ht={};function Wt(){if(zt)return Bt;zt=1;const e="development"===process.env.NODE_ENV?function(){if(Pt)return It;Pt=1;var e=h;return It.registerDragonSupport=function(t){const n=window.location.origin,r=r=>{if(r.origin!==n)return;const i=t.getRootElement();if(document.activeElement!==i)return;const o=r.data;if("string"==typeof o){let n;try{n=JSON.parse(o)}catch(e){return}if(n&&"nuanria_messaging"===n.protocol&&"request"===n.type){const i=n.payload;if(i&&"makeChanges"===i.functionId){const n=i.args;if(n){const[i,o,s,l,a,c]=n;t.update(()=>{const t=e.$getSelection();if(e.$isRangeSelection(t)){const n=t.anchor;let c=n.getNode(),u=0,d=0;if(e.$isTextNode(c)&&i>=0&&o>=0&&(u=i,d=i+o,t.setTextNodeRange(c,u,c,d)),u===d&&""===s||(t.insertRawText(s),c=n.getNode()),e.$isTextNode(c)){u=l,d=l+a;const e=c.getTextContentSize();u=u>e?e:u,d=d>e?e:d,t.setTextNodeRange(c,u,c,d)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",r,!0),()=>{window.removeEventListener("message",r,!0)}},It}():function(){if(Ft)return Ht;Ft=1;var e=h;return Ht.registerDragonSupport=function(t){let n=window.location.origin,r=r=>{if(r.origin===n){var i=t.getRootElement();if(document.activeElement===i&&"string"==typeof(i=r.data)){try{var o=JSON.parse(i)}catch(e){return}if(o&&"nuanria_messaging"===o.protocol&&"request"===o.type&&(o=o.payload)&&"makeChanges"===o.functionId&&(o=o.args)){const[n,i,s,l,a]=o;t.update(()=>{const t=e.$getSelection();if(e.$isRangeSelection(t)){var o=t.anchor;let c=o.getNode(),u=0,d=0;e.$isTextNode(c)&&0<=n&&0<=i&&(u=n,d=n+i,t.setTextNodeRange(c,u,c,d)),u===d&&""===s||(t.insertRawText(s),c=o.getNode()),e.$isTextNode(c)&&(u=l,d=l+a,u=u>(o=c.getTextContentSize())?o:u,d=d>o?o:d,t.setTextNodeRange(c,u,c,d)),r.stopImmediatePropagation()}})}}}};return window.addEventListener("message",r,!0),()=>{window.removeEventListener("message",r,!0)}},Ht}();return Bt=e}var Ut,Yt={};const Gt="development"===process.env.NODE_ENV?function(){if(Kt)return St;Kt=1;var e=c,r=wt(),i=t,o=Lt(),s=$e,l=n,a=Wt(),u=ut,d="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;function g(e){return e.getEditorState().read(o.$canShowPlaceholderCurry(e.isComposing()))}function f({content:t}){const[n]=e.useLexicalComposerContext(),o=function(e){const[t,n]=i.useState(()=>g(e));return d(()=>{function t(){const t=g(e);n(t)}return t(),s.mergeRegister(e.registerUpdateListener(()=>{t()}),e.registerEditableListener(()=>{t()}))},[e]),t}(n),l=r();return o?"function"==typeof t?t(l):t:null}return St.RichTextPlugin=function({contentEditable:t,placeholder:n,ErrorBoundary:r}){const[o]=e.useLexicalComposerContext(),c=function(e,t){const[n,r]=i.useState(()=>e.getDecorators());return d(()=>e.registerDecoratorListener(e=>{l.flushSync(()=>{r(e)})}),[e]),i.useEffect(()=>{r(e.getDecorators())},[e]),i.useMemo(()=>{const r=[],o=Object.keys(n);for(let s=0;s<o.length;s++){const a=o[s],c=i.createElement(t,{onError:t=>e._onError(t)},i.createElement(i.Suspense,{fallback:null},n[a])),u=e.getElementByKey(a);null!==u&&r.push(l.createPortal(c,u))}return r},[t,n,e])}(o,r);return function(e){d(()=>s.mergeRegister(u.registerRichText(e),a.registerDragonSupport(e)),[e])}(o),i.createElement(i.Fragment,null,t,i.createElement(f,{content:n}),c)},St}():function(){if(Ut)return Yt;Ut=1;var e=c,r=wt(),i=t,o=Lt(),s=$e,l=n,a=Wt(),u=ut,d="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;function g(e){return e.getEditorState().read(o.$canShowPlaceholderCurry(e.isComposing()))}function f({content:t}){var[n]=e.useLexicalComposerContext();n=function(e){let[t,n]=i.useState(()=>g(e));return d(()=>{function t(){let t=g(e);n(t)}return t(),s.mergeRegister(e.registerUpdateListener(()=>{t()}),e.registerEditableListener(()=>{t()}))},[e]),t}(n);let o=r();return n?"function"==typeof t?t(o):t:null}return Yt.RichTextPlugin=function({contentEditable:t,placeholder:n,ErrorBoundary:r}){let[o]=e.useLexicalComposerContext();return r=function(e,t){let[n,r]=i.useState(()=>e.getDecorators());return d(()=>e.registerDecoratorListener(e=>{l.flushSync(()=>{r(e)})}),[e]),i.useEffect(()=>{r(e.getDecorators())},[e]),i.useMemo(()=>{let r=[],o=Object.keys(n);for(let a=0;a<o.length;a++){var s=o[a];let c=i.createElement(t,{onError:t=>e._onError(t)},i.createElement(i.Suspense,{fallback:null},n[s]));null!==(s=e.getElementByKey(s))&&r.push(l.createPortal(c,s))}return r},[t,n,e])}(o,r),function(e){d(()=>s.mergeRegister(u.registerRichText(e),a.registerDragonSupport(e)),[e])}(o),i.createElement(i.Fragment,null,t,i.createElement(f,{content:n}),r)},Yt}();var Vt,jt=Gt,Jt={};var Xt,qt={};const Zt="development"===process.env.NODE_ENV?function(){if(Vt)return Jt;Vt=1;var e=c,n=t,r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect;return Jt.OnChangePlugin=function({ignoreHistoryMergeTagChange:t=!0,ignoreSelectionChange:n=!1,onChange:i}){const[o]=e.useLexicalComposerContext();return r(()=>{if(i)return o.registerUpdateListener(({editorState:e,dirtyElements:r,dirtyLeaves:s,prevEditorState:l,tags:a})=>{n&&0===r.size&&0===s.size||t&&a.has("history-merge")||l.isEmpty()||i(e,o)})},[o,t,n,i]),null},Jt}():function(){if(Xt)return qt;Xt=1;var e=c,n=t,r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect;return qt.OnChangePlugin=function({ignoreHistoryMergeTagChange:t=!0,ignoreSelectionChange:n=!1,onChange:i}){let[o]=e.useLexicalComposerContext();return r(()=>{if(i)return o.registerUpdateListener(({editorState:e,dirtyElements:r,dirtyLeaves:s,prevEditorState:l,tags:a})=>{n&&0===r.size&&0===s.size||t&&a.has("history-merge")||l.isEmpty()||i(e,o)})},[o,t,n,i]),null},qt}();var Qt,en=Zt,tn={},nn={};function rn(){if(Qt)return nn;Qt=1;var e=$e,t=h;function n(e,n,r,i,o){if(null===e||0===r.size&&0===i.size&&!o)return 0;const s=n._selection,l=e._selection;if(o)return 1;if(!(t.$isRangeSelection(s)&&t.$isRangeSelection(l)&&l.isCollapsed()&&s.isCollapsed()))return 0;const a=function(e,n,r){const i=e._nodeMap,o=[];for(const e of n){const t=i.get(e);void 0!==t&&o.push(t)}for(const[e,n]of r){if(!n)continue;const r=i.get(e);void 0===r||t.$isRootNode(r)||o.push(r)}return o}(n,r,i);if(0===a.length)return 0;if(a.length>1){const r=n._nodeMap,i=r.get(s.anchor.key),o=r.get(l.anchor.key);return i&&o&&!e._nodeMap.has(i.__key)&&t.$isTextNode(i)&&1===i.__text.length&&1===s.anchor.offset?2:0}const c=a[0],u=e._nodeMap.get(c.__key);if(!t.$isTextNode(u)||!t.$isTextNode(c)||u.__mode!==c.__mode)return 0;const d=u.__text,g=c.__text;if(d===g)return 0;const f=s.anchor,h=l.anchor;if(f.key!==h.key||"text"!==f.type)return 0;const p=f.offset,m=h.offset,_=g.length-d.length;return 1===_&&m===p-1?2:-1===_&&m===p+1?3:-1===_&&m===p?4:0}function r(e,r){let i=Date.now(),o=0;return(s,l,a,c,u,d)=>{const g=Date.now();if(d.has("historic"))return o=0,i=g,2;const f=n(s,l,c,u,e.isComposing()),h=(()=>{const n=null===a||a.editor===e,h=d.has("history-push");if(!h&&n&&d.has("history-merge"))return 0;if(null===s)return 1;const p=l._selection;if(!(c.size>0||u.size>0))return null!==p?0:2;if(!1===h&&0!==f&&f===o&&g<i+r&&n)return 0;if(1===c.size){if(function(e,n,r){const i=n._nodeMap.get(e),o=r._nodeMap.get(e),s=n._selection,l=r._selection;let a=!1;return t.$isRangeSelection(s)&&t.$isRangeSelection(l)&&(a="element"===s.anchor.type&&"element"===s.focus.type&&"text"===l.anchor.type&&"text"===l.focus.type),!(a||!t.$isTextNode(i)||!t.$isTextNode(o))&&i.__type===o.__type&&i.__text===o.__text&&i.__mode===o.__mode&&i.__detail===o.__detail&&i.__style===o.__style&&i.__format===o.__format&&i.__parent===o.__parent}(Array.from(c)[0],s,l))return 0}return 1})();return i=g,o=f,h}}function i(e){e.undoStack=[],e.redoStack=[],e.current=null}return nn.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}},nn.registerHistory=function(n,o,s){const l=r(n,s),a=({editorState:e,prevEditorState:r,dirtyLeaves:i,dirtyElements:s,tags:a})=>{const c=o.current,u=o.redoStack,d=o.undoStack,g=null===c?null:c.editorState;if(null!==c&&e===g)return;const f=l(r,e,c,i,s,a);if(1===f)0!==u.length&&(o.redoStack=[]),null!==c&&(d.push({...c,undoSelection:r.read(t.$getSelection)}),n.dispatchCommand(t.CAN_UNDO_COMMAND,!0));else if(2===f)return;o.current={editor:n,editorState:e}},c=e.mergeRegister(n.registerCommand(t.UNDO_COMMAND,()=>(function(e,n){const r=n.redoStack,i=n.undoStack;if(0!==i.length){const o=n.current,s=i.pop();null!==o&&(r.push(o),e.dispatchCommand(t.CAN_REDO_COMMAND,!0)),0===i.length&&e.dispatchCommand(t.CAN_UNDO_COMMAND,!1),n.current=s||null,s&&s.editor.setEditorState(s.editorState.clone(s.undoSelection),{tag:"historic"})}}(n,o),!0),t.COMMAND_PRIORITY_EDITOR),n.registerCommand(t.REDO_COMMAND,()=>(function(e,n){const r=n.redoStack,i=n.undoStack;if(0!==r.length){const o=n.current;null!==o&&(i.push(o),e.dispatchCommand(t.CAN_UNDO_COMMAND,!0));const s=r.pop();0===r.length&&e.dispatchCommand(t.CAN_REDO_COMMAND,!1),n.current=s||null,s&&s.editor.setEditorState(s.editorState,{tag:"historic"})}}(n,o),!0),t.COMMAND_PRIORITY_EDITOR),n.registerCommand(t.CLEAR_EDITOR_COMMAND,()=>(i(o),!1),t.COMMAND_PRIORITY_EDITOR),n.registerCommand(t.CLEAR_HISTORY_COMMAND,()=>(i(o),n.dispatchCommand(t.CAN_REDO_COMMAND,!1),n.dispatchCommand(t.CAN_UNDO_COMMAND,!1),!0),t.COMMAND_PRIORITY_EDITOR),n.registerUpdateListener(a)),u=n.registerUpdateListener(a);return()=>{c(),u()}},nn}var on,sn,ln,an,cn={};function un(){if(on)return cn;on=1;var e=$e,t=h;function n(e,n){let r=Date.now(),i=0;return(o,s,l,a,c,u)=>{let d=Date.now();if(u.has("historic"))return i=0,r=d,2;let g=function(e,n,r,i,o){if(null===e||0===r.size&&0===i.size&&!o)return 0;var s=n._selection,l=e._selection;if(o)return 1;if(!(t.$isRangeSelection(s)&&t.$isRangeSelection(l)&&l.isCollapsed()&&s.isCollapsed()))return 0;o=n._nodeMap;let a=[];for(let e of r)void 0!==(r=o.get(e))&&a.push(r);for(let[e,n]of i)n&&(void 0===(i=o.get(e))||t.$isRootNode(i)||a.push(i));return 0===a.length?0:1<a.length?(n=(i=n._nodeMap).get(s.anchor.key),l=i.get(l.anchor.key),n&&l&&!e._nodeMap.has(n.__key)&&t.$isTextNode(n)&&1===n.__text.length&&1===s.anchor.offset?2:0):(n=a[0],e=e._nodeMap.get(n.__key),t.$isTextNode(e)&&t.$isTextNode(n)&&e.__mode===n.__mode?(e=e.__text)===(n=n.__text)?0:(s=s.anchor,l=l.anchor,s.key!==l.key||"text"!==s.type?0:(s=s.offset,l=l.offset,1===(e=n.length-e.length)&&l===s-1?2:-1===e&&l===s+1?3:-1===e&&l===s?4:0)):0)}(o,s,a,c,e.isComposing()),f=(()=>{var f=null===l||l.editor===e,h=u.has("history-push");if(!h&&f&&u.has("history-merge"))return 0;if(null===o)return 1;var p=s._selection;if(!(0<a.size||0<c.size))return null!==p?0:2;if(!1===h&&0!==g&&g===i&&d<r+n&&f)return 0;if(1===a.size){{h=Array.from(a)[0],f=o._nodeMap.get(h),h=s._nodeMap.get(h),p=o._selection;let e=s._selection,n=!1;t.$isRangeSelection(p)&&t.$isRangeSelection(e)&&(n="element"===p.anchor.type&&"element"===p.focus.type&&"text"===e.anchor.type&&"text"===e.focus.type),f=!(n||!t.$isTextNode(f)||!t.$isTextNode(h))&&(f.__type===h.__type&&f.__text===h.__text&&f.__mode===h.__mode&&f.__detail===h.__detail&&f.__style===h.__style&&f.__format===h.__format&&f.__parent===h.__parent)}if(f)return 0}return 1})();return r=d,i=g,f}}return cn.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}},cn.registerHistory=function(r,i,o){let s=n(r,o);o=({editorState:e,prevEditorState:n,dirtyLeaves:o,dirtyElements:l,tags:a})=>{const c=i.current,u=i.redoStack,d=i.undoStack,g=null===c?null:c.editorState;if(null===c||e!==g){if(1===(o=s(n,e,c,o,l,a)))0!==u.length&&(i.redoStack=[]),null!==c&&(d.push({...c,undoSelection:n.read(t.$getSelection)}),r.dispatchCommand(t.CAN_UNDO_COMMAND,!0));else if(2===o)return;i.current={editor:r,editorState:e}}};let l=e.mergeRegister(r.registerCommand(t.UNDO_COMMAND,()=>{let e=i.redoStack,n=i.undoStack;if(0!==n.length){let o=i.current,s=n.pop();null!==o&&(e.push(o),r.dispatchCommand(t.CAN_REDO_COMMAND,!0)),0===n.length&&r.dispatchCommand(t.CAN_UNDO_COMMAND,!1),i.current=s||null,s&&s.editor.setEditorState(s.editorState.clone(s.undoSelection),{tag:"historic"})}return!0},t.COMMAND_PRIORITY_EDITOR),r.registerCommand(t.REDO_COMMAND,()=>{let e=i.redoStack;var n=i.undoStack;if(0!==e.length){let o=i.current;null!==o&&(n.push(o),r.dispatchCommand(t.CAN_UNDO_COMMAND,!0)),n=e.pop(),0===e.length&&r.dispatchCommand(t.CAN_REDO_COMMAND,!1),i.current=n||null,n&&n.editor.setEditorState(n.editorState,{tag:"historic"})}return!0},t.COMMAND_PRIORITY_EDITOR),r.registerCommand(t.CLEAR_EDITOR_COMMAND,()=>(i.undoStack=[],i.redoStack=[],i.current=null,!1),t.COMMAND_PRIORITY_EDITOR),r.registerCommand(t.CLEAR_HISTORY_COMMAND,()=>(i.undoStack=[],i.redoStack=[],i.current=null,r.dispatchCommand(t.CAN_REDO_COMMAND,!1),r.dispatchCommand(t.CAN_UNDO_COMMAND,!1),!0),t.COMMAND_PRIORITY_EDITOR),r.registerUpdateListener(o)),a=r.registerUpdateListener(o);return()=>{l(),a()}},cn}function dn(){if(ln)return sn;ln=1;const e="development"===process.env.NODE_ENV?rn():un();return sn=e}var gn,fn={};const hn="development"===process.env.NODE_ENV?function(){if(an)return tn;an=1;var e=c,n=dn(),r=t;return tn.createEmptyHistoryState=n.createEmptyHistoryState,tn.HistoryPlugin=function({externalHistoryState:t}){const[i]=e.useLexicalComposerContext();return function(e,t,i=1e3){const o=r.useMemo(()=>t||n.createEmptyHistoryState(),[t]);r.useEffect(()=>n.registerHistory(e,o,i),[i,e,o])}(i,t),null},tn}():function(){if(gn)return fn;gn=1;var e=c,n=dn(),r=t;return fn.createEmptyHistoryState=n.createEmptyHistoryState,fn.HistoryPlugin=function({externalHistoryState:t}){let[i]=e.useLexicalComposerContext();return function(e,t,i=1e3){let o=r.useMemo(()=>t||n.createEmptyHistoryState(),[t]);r.useEffect(()=>n.registerHistory(e,o,i),[i,e,o])}(i,t),null},fn}();var pn,mn=hn,_n={};var Nn,yn={};const En="development"===process.env.NODE_ENV?function(){if(pn)return _n;pn=1;var e=c,n=t;return _n.AutoFocusPlugin=function({defaultSelection:t}){const[r]=e.useLexicalComposerContext();return n.useEffect(()=>{r.focus(()=>{const e=document.activeElement,t=r.getRootElement();null===t||null!==e&&t.contains(e)||t.focus({preventScroll:!0})},{defaultSelection:t})},[t,r]),null},_n}():function(){if(Nn)return yn;Nn=1;var e=c,n=t;return yn.AutoFocusPlugin=function({defaultSelection:t}){let[r]=e.useLexicalComposerContext();return n.useEffect(()=>{r.focus(()=>{let e=document.activeElement,t=r.getRootElement();null===t||null!==e&&t.contains(e)||t.focus({preventScroll:!0})},{defaultSelection:t})},[t,r]),null},yn}();var Cn,xn=En,vn={};var Tn,Sn={};const bn="development"===process.env.NODE_ENV?function(){if(Cn)return vn;Cn=1;var e=pt,n=c,r=$e,i=h,o=t;return vn.LinkPlugin=function({validateUrl:t}){const[s]=n.useLexicalComposerContext();return o.useEffect(()=>{if(!s.hasNodes([e.LinkNode]))throw new Error("LinkPlugin: LinkNode not registered on editor");return r.mergeRegister(s.registerCommand(e.TOGGLE_LINK_COMMAND,n=>{if(null===n)return e.toggleLink(n),!0;if("string"==typeof n)return!(void 0!==t&&!t(n))&&(e.toggleLink(n),!0);{const{url:t,target:r,rel:i}=n;return e.toggleLink(t,{rel:i,target:r}),!0}},i.COMMAND_PRIORITY_LOW),void 0!==t?s.registerCommand(i.PASTE_COMMAND,n=>{const r=i.$getSelection();if(!i.$isRangeSelection(r)||r.isCollapsed()||!(n instanceof ClipboardEvent)||null==n.clipboardData)return!1;const o=n.clipboardData.getData("text");return!!t(o)&&(!r.getNodes().some(e=>i.$isElementNode(e))&&(s.dispatchCommand(e.TOGGLE_LINK_COMMAND,o),n.preventDefault(),!0))},i.COMMAND_PRIORITY_LOW):()=>{})},[s,t]),null},vn}():function(){if(Tn)return Sn;Tn=1;var e=pt,n=c,r=$e,i=h,o=t;return Sn.LinkPlugin=function({validateUrl:t}){let[s]=n.useLexicalComposerContext();return o.useEffect(()=>{if(!s.hasNodes([e.LinkNode]))throw Error("LinkPlugin: LinkNode not registered on editor");return r.mergeRegister(s.registerCommand(e.TOGGLE_LINK_COMMAND,n=>{if(null===n)return e.toggleLink(n),!0;if("string"==typeof n)return!(void 0!==t&&!t(n))&&(e.toggleLink(n),!0);let{url:r,target:i,rel:o}=n;return e.toggleLink(r,{rel:o,target:i}),!0},i.COMMAND_PRIORITY_LOW),void 0!==t?s.registerCommand(i.PASTE_COMMAND,n=>{let r=i.$getSelection();if(!i.$isRangeSelection(r)||r.isCollapsed()||!(n instanceof ClipboardEvent)||null==n.clipboardData)return!1;let o=n.clipboardData.getData("text");return!!t(o)&&(!r.getNodes().some(e=>i.$isElementNode(e))&&(s.dispatchCommand(e.TOGGLE_LINK_COMMAND,o),n.preventDefault(),!0))},i.COMMAND_PRIORITY_LOW):()=>{})},[s,t]),null},Sn}();var On,wn=bn,An={};var Dn,kn={};const Rn="development"===process.env.NODE_ENV?function(){if(On)return An;On=1;var e=We,n=c,r=t,i=$e,o=h;return An.ListPlugin=function(){const[t]=n.useLexicalComposerContext();return r.useEffect(()=>{if(!t.hasNodes([e.ListNode,e.ListItemNode]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[t]),function(t){r.useEffect(()=>i.mergeRegister(t.registerCommand(e.INSERT_ORDERED_LIST_COMMAND,()=>(e.insertList(t,"number"),!0),o.COMMAND_PRIORITY_LOW),t.registerCommand(e.INSERT_UNORDERED_LIST_COMMAND,()=>(e.insertList(t,"bullet"),!0),o.COMMAND_PRIORITY_LOW),t.registerCommand(e.REMOVE_LIST_COMMAND,()=>(e.removeList(t),!0),o.COMMAND_PRIORITY_LOW),t.registerCommand(o.INSERT_PARAGRAPH_COMMAND,()=>!!e.$handleListInsertParagraph(),o.COMMAND_PRIORITY_LOW)),[t])}(t),null},An}():function(){if(Dn)return kn;Dn=1;var e=We,n=c,r=t,i=$e,o=h;return kn.ListPlugin=function(){let[t]=n.useLexicalComposerContext();return r.useEffect(()=>{if(!t.hasNodes([e.ListNode,e.ListItemNode]))throw Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[t]),function(t){r.useEffect(()=>i.mergeRegister(t.registerCommand(e.INSERT_ORDERED_LIST_COMMAND,()=>(e.insertList(t,"number"),!0),o.COMMAND_PRIORITY_LOW),t.registerCommand(e.INSERT_UNORDERED_LIST_COMMAND,()=>(e.insertList(t,"bullet"),!0),o.COMMAND_PRIORITY_LOW),t.registerCommand(e.REMOVE_LIST_COMMAND,()=>(e.removeList(t),!0),o.COMMAND_PRIORITY_LOW),t.registerCommand(o.INSERT_PARAGRAPH_COMMAND,()=>!!e.$handleListInsertParagraph(),o.COMMAND_PRIORITY_LOW)),[t])}(t),null},kn}();var Mn,$n=Rn,Ln={},Pn={},In={};var Fn,Bn,zn,Kn,Hn={};function Wn(){if(zn)return Bn;zn=1;const e="development"===process.env.NODE_ENV?function(){if(Mn)return In;Mn=1;var e=c,n=h,r=t;function i(e,t){return e.getEditorState().read(()=>{const e=n.$getNodeByKey(t);return null!==e&&e.isSelected()})}return In.useLexicalNodeSelection=function(t){const[o]=e.useLexicalComposerContext(),[s,l]=r.useState(()=>i(o,t));return r.useEffect(()=>{let e=!0;const n=o.registerUpdateListener(()=>{e&&l(i(o,t))});return()=>{e=!1,n()}},[o,t]),[s,r.useCallback(e=>{o.update(()=>{let r=n.$getSelection();n.$isNodeSelection(r)||(r=n.$createNodeSelection(),n.$setSelection(r)),e?r.add(t):r.delete(t)})},[o,t]),r.useCallback(()=>{o.update(()=>{const e=n.$getSelection();n.$isNodeSelection(e)&&e.clear()})},[o])]},In}():function(){if(Fn)return Hn;Fn=1;var e=c,n=h,r=t;function i(e,t){return e.getEditorState().read(()=>{let e=n.$getNodeByKey(t);return null!==e&&e.isSelected()})}return Hn.useLexicalNodeSelection=function(t){let[o]=e.useLexicalComposerContext(),[s,l]=r.useState(()=>i(o,t));return r.useEffect(()=>{let e=!0,n=o.registerUpdateListener(()=>{e&&l(i(o,t))});return()=>{e=!1,n()}},[o,t]),[s,r.useCallback(e=>{o.update(()=>{let r=n.$getSelection();n.$isNodeSelection(r)||(r=n.$createNodeSelection(),n.$setSelection(r)),e?r.add(t):r.delete(t)})},[o,t]),r.useCallback(()=>{o.update(()=>{const e=n.$getSelection();n.$isNodeSelection(e)&&e.clear()})},[o])]},Hn}();return Bn=e}var Un,Yn,Gn,Vn,jn={};function Jn(){if(Gn)return Yn;Gn=1;const e="development"===process.env.NODE_ENV?function(){if(Kn)return Pn;Kn=1;var e=c,n=Wn(),r=$e,i=h,o=t;const s=i.createCommand("INSERT_HORIZONTAL_RULE_COMMAND");function l({nodeKey:t}){const[s]=e.useLexicalComposerContext(),[l,a,c]=n.useLexicalNodeSelection(t),u=o.useCallback(e=>{if(l&&i.$isNodeSelection(i.$getSelection())){e.preventDefault();const n=i.$getNodeByKey(t);g(n)&&n.remove(),a(!1)}return!1},[l,t,a]);return o.useEffect(()=>r.mergeRegister(s.registerCommand(i.CLICK_COMMAND,e=>{const n=s.getElementByKey(t);return e.target===n&&(e.shiftKey||c(),a(!l),!0)},i.COMMAND_PRIORITY_LOW),s.registerCommand(i.KEY_DELETE_COMMAND,u,i.COMMAND_PRIORITY_LOW),s.registerCommand(i.KEY_BACKSPACE_COMMAND,u,i.COMMAND_PRIORITY_LOW)),[c,s,l,t,u,a]),o.useEffect(()=>{const e=s.getElementByKey(t);null!==e&&(e.className=l?"selected":"")},[s,l,t]),null}class a extends i.DecoratorNode{static getType(){return"horizontalrule"}static clone(e){return new a(e.__key)}static importJSON(e){return d()}static importDOM(){return{hr:()=>({conversion:u,priority:0})}}exportJSON(){return{type:"horizontalrule",version:1}}exportDOM(){return{element:document.createElement("hr")}}createDOM(){return document.createElement("hr")}getTextContent(){return"\n"}isInline(){return!1}updateDOM(){return!1}decorate(){return o.createElement(l,{nodeKey:this.__key})}}function u(){return{node:d()}}function d(){return i.$applyNodeReplacement(new a)}function g(e){return e instanceof a}return Pn.$createHorizontalRuleNode=d,Pn.$isHorizontalRuleNode=g,Pn.HorizontalRuleNode=a,Pn.INSERT_HORIZONTAL_RULE_COMMAND=s,Pn}():function(){if(Un)return jn;Un=1;var e=c,n=Wn(),r=$e,i=h,o=t;let s=i.createCommand("INSERT_HORIZONTAL_RULE_COMMAND");function l({nodeKey:t}){let[s]=e.useLexicalComposerContext(),[l,a,c]=n.useLexicalNodeSelection(t),u=o.useCallback(e=>(l&&i.$isNodeSelection(i.$getSelection())&&(e.preventDefault(),g(e=i.$getNodeByKey(t))&&e.remove(),a(!1)),!1),[l,t,a]);return o.useEffect(()=>r.mergeRegister(s.registerCommand(i.CLICK_COMMAND,e=>{let n=s.getElementByKey(t);return e.target===n&&(e.shiftKey||c(),a(!l),!0)},i.COMMAND_PRIORITY_LOW),s.registerCommand(i.KEY_DELETE_COMMAND,u,i.COMMAND_PRIORITY_LOW),s.registerCommand(i.KEY_BACKSPACE_COMMAND,u,i.COMMAND_PRIORITY_LOW)),[c,s,l,t,u,a]),o.useEffect(()=>{let e=s.getElementByKey(t);null!==e&&(e.className=l?"selected":"")},[s,l,t]),null}class a extends i.DecoratorNode{static getType(){return"horizontalrule"}static clone(e){return new a(e.__key)}static importJSON(){return d()}static importDOM(){return{hr:()=>({conversion:u,priority:0})}}exportJSON(){return{type:"horizontalrule",version:1}}exportDOM(){return{element:document.createElement("hr")}}createDOM(){return document.createElement("hr")}getTextContent(){return"\n"}isInline(){return!1}updateDOM(){return!1}decorate(){return o.createElement(l,{nodeKey:this.__key})}}function u(){return{node:d()}}function d(){return i.$applyNodeReplacement(new a)}function g(e){return e instanceof a}return jn.$createHorizontalRuleNode=d,jn.$isHorizontalRuleNode=g,jn.HorizontalRuleNode=a,jn.INSERT_HORIZONTAL_RULE_COMMAND=s,jn}();return Yn=e}var Xn,qn={};const Zn="development"===process.env.NODE_ENV?function(){if(Vn)return Ln;Vn=1;var e=Tt,n=c,r=Jn(),i=t;const o=[{dependencies:[r.HorizontalRuleNode],export:e=>r.$isHorizontalRuleNode(e)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(e,t,n,i)=>{const o=r.$createHorizontalRuleNode();i||null!=e.getNextSibling()?e.replace(o):e.insertBefore(o),o.selectNext()},type:"element"},...e.TRANSFORMERS];return Ln.DEFAULT_TRANSFORMERS=o,Ln.MarkdownShortcutPlugin=function({transformers:t=o}){const[r]=n.useLexicalComposerContext();return i.useEffect(()=>e.registerMarkdownShortcuts(r,t),[r,t]),null},Ln}():function(){if(Xn)return qn;Xn=1;var e=Tt,n=c,r=Jn(),i=t;let o=[{dependencies:[r.HorizontalRuleNode],export:e=>r.$isHorizontalRuleNode(e)?"***":null,regExp:/^(---|\*\*\*|___)\s?$/,replace:(e,t,n,i)=>{t=r.$createHorizontalRuleNode(),i||null!=e.getNextSibling()?e.replace(t):e.insertBefore(t),t.selectNext()},type:"element"},...e.TRANSFORMERS];return qn.DEFAULT_TRANSFORMERS=o,qn.MarkdownShortcutPlugin=function({transformers:t=o}){let[r]=n.useLexicalComposerContext();return i.useEffect(()=>e.registerMarkdownShortcuts(r,t),[r,t]),null},qn}();var Qn=Zn;const er=new Set(["paragraph","quote","code","h1","h2","ul","ol"]),tr={code:"Code Block",h1:"Large Heading",h2:"Small Heading",h3:"Heading",h4:"Heading",h5:"Heading",ol:"Numbered List",paragraph:"Normal",quote:"Quote",ul:"Bulleted List"};function nr(){return t.createElement("div",{className:"divider"})}function rr(){const[e]=c.useLexicalComposerContext(),[n,r]=t.useState("paragraph"),[i,o]=t.useState(null),[s,l]=t.useState(!1),[a,u]=t.useState(!1),[d,g]=t.useState(!1),[f,p]=t.useState(""),[m,_]=t.useState(!1),[N,y]=t.useState(!1),[E,C]=t.useState(!1),[x,v]=t.useState(!1),[T,S]=t.useState(!1),[b,O]=t.useState(!1),[w,A]=t.useState(!1),D=t.useCallback(()=>{const t=h.$getSelection();if(h.$isRangeSelection(t)){const n=t.anchor.getNode(),i="root"===n.getKey()?n:n.getTopLevelElementOrThrow(),s=i.getKey();if(null!==e.getElementByKey(s))if(o(s),We.$isListNode(i)){const e=$e.$getNearestNodeOfType(n,We.ListNode),t=e?e.getTag():i.getTag();r(t)}else{const e=ut.$isHeadingNode(i)?i.getTag():i.getType();r(e),Fe.$isCodeNode(i)&&p(i.getLanguage()||Fe.getDefaultCodeLanguage())}C(t.hasFormat("bold")),v(t.hasFormat("italic")),S(t.hasFormat("underline")),O(t.hasFormat("strikethrough")),A(t.hasFormat("code")),_(De.$isParentElementRTL(t));const l=function(e){const t=e.anchor,n=e.focus,r=e.anchor.getNode(),i=e.focus.getNode();return r===i?r:e.isBackward()?De.$isAtNodeEnd(n)?r:i:De.$isAtNodeEnd(t)?i:r}(t),a=l.getParent();pt.$isLinkNode(a)||pt.$isLinkNode(l)?y(!0):y(!1)}},[e]);t.useEffect(()=>$e.mergeRegister(e.registerUpdateListener(({editorState:e})=>{e.read(()=>{D()})}),e.registerCommand(h.SELECTION_CHANGE_COMMAND,(e,t)=>(D(),!1),1),e.registerCommand(h.CAN_UNDO_COMMAND,e=>(u(e),!1),1),e.registerCommand(h.CAN_REDO_COMMAND,e=>(g(e),!1),1)),[e]);const k=t.useMemo(()=>Fe.getCodeLanguages(),[]),R=t.useCallback(t=>{e.update(()=>{if(null!==i){const e=h.$getNodeByKey(i);Fe.$isCodeNode(e)&&e.setLanguage(t.target.value)}})},[e,i]),M=t.useCallback(()=>{N?e.dispatchCommand(pt.TOGGLE_LINK_COMMAND,null):e.dispatchCommand(pt.TOGGLE_LINK_COMMAND,"https://")},[e,N]),$=t.useRef(null);t.useEffect(()=>{function e(e){$.current&&!$.current.contains(e.target)&&l(!1)}return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}},[]);return t.createElement("div",{className:"toolbar"},t.createElement("button",{type:"button",className:"toolbar-item spaced",disabled:!a,onClick:()=>e.dispatchCommand(h.UNDO_COMMAND),"aria-label":"Undo"},t.createElement("i",{className:"format undo"})),t.createElement("button",{type:"button",className:"toolbar-item spaced",disabled:!d,onClick:()=>e.dispatchCommand(h.REDO_COMMAND),"aria-label":"Redo"},t.createElement("i",{className:"format redo"})),t.createElement(nr,null),er.has(n)&&t.createElement(t.Fragment,null,t.createElement("div",{className:"dropdown",ref:$},t.createElement("button",{type:"button",className:"toolbar-item block-controls",onClick:()=>l(e=>!e),"aria-label":"Formatting options"},t.createElement("span",{className:"icon block-type "+n}),t.createElement("span",{className:"text"},tr[n])),s&&t.createElement("ul",{className:""},t.createElement("li",null,t.createElement("button",{type:"button",className:"item",onClick:()=>{"paragraph"!==n&&e.update(()=>{const e=h.$getSelection();h.$isRangeSelection(e)&&De.$wrapNodes(e,()=>h.$createParagraphNode())}),l(!1)}},t.createElement("span",{className:"icon paragraph"}),t.createElement("span",{className:"text"},"Normal"),"paragraph"===n&&t.createElement("span",{className:"active"}))),t.createElement("li",null,t.createElement("button",{type:"button",className:"item",onClick:()=>{"h1"!==n&&e.update(()=>{const e=h.$getSelection();h.$isRangeSelection(e)&&De.$wrapNodes(e,()=>ut.$createHeadingNode("h1"))}),l(!1)}},t.createElement("span",{className:"icon large-heading"}),t.createElement("span",{className:"text"},"Large Heading"),"h1"===n&&t.createElement("span",{className:"active"}))),t.createElement("li",null,t.createElement("button",{type:"button",className:"item",onClick:()=>{"h2"!==n&&e.update(()=>{const e=h.$getSelection();h.$isRangeSelection(e)&&De.$wrapNodes(e,()=>ut.$createHeadingNode("h2"))}),l(!1)}},t.createElement("span",{className:"icon small-heading"}),t.createElement("span",{className:"text"},"Small Heading"),"h2"===n&&t.createElement("span",{className:"active"}))),t.createElement("li",null,t.createElement("button",{type:"button",className:"item",onClick:()=>{"ul"!==n?e.dispatchCommand(We.INSERT_UNORDERED_LIST_COMMAND):e.dispatchCommand(We.REMOVE_LIST_COMMAND),l(!1)}},t.createElement("span",{className:"icon bullet-list"}),t.createElement("span",{className:"text"},"Bullet List"),"ul"===n&&t.createElement("span",{className:"active"}))),t.createElement("li",null,t.createElement("button",{type:"button",className:"item",onClick:()=>{"ol"!==n?e.dispatchCommand(We.INSERT_ORDERED_LIST_COMMAND):e.dispatchCommand(We.REMOVE_LIST_COMMAND),l(!1)}},t.createElement("span",{className:"icon numbered-list"}),t.createElement("span",{className:"text"},"Numbered List"),"ol"===n&&t.createElement("span",{className:"active"}))),t.createElement("li",null,t.createElement("button",{type:"button",className:"item",onClick:()=>{"quote"!==n&&e.update(()=>{const e=h.$getSelection();h.$isRangeSelection(e)&&De.$wrapNodes(e,()=>ut.$createQuoteNode())}),l(!1)}},t.createElement("span",{className:"icon quote"}),t.createElement("span",{className:"text"},"Quote"),"quote"===n&&t.createElement("span",{className:"active"}))),t.createElement("li",null,t.createElement("button",{type:"button",className:"item",onClick:()=>{"code"!==n&&e.update(()=>{const e=h.$getSelection();h.$isRangeSelection(e)&&De.$wrapNodes(e,()=>Fe.$createCodeNode())}),l(!1)}},t.createElement("span",{className:"icon code"}),t.createElement("span",{className:"text"},"Code Block"),"code"===n&&t.createElement("span",{className:"active"}))))),t.createElement(nr,null)),"code"===n&&t.createElement(t.Fragment,null,t.createElement("select",{className:"toolbar-item code-language",onChange:R,value:f},t.createElement("option",{hidden:!0,value:""}),k.map(e=>t.createElement("option",{key:e,value:e},e)))),"code"!==n&&t.createElement(t.Fragment,null,t.createElement("button",{type:"button",onClick:()=>{e.dispatchCommand(h.FORMAT_TEXT_COMMAND,"bold")},className:"toolbar-item spaced "+(E?"active":""),"aria-label":"Format Bold"},t.createElement("i",{className:"format bold"})),t.createElement("button",{type:"button",onClick:()=>{e.dispatchCommand(h.FORMAT_TEXT_COMMAND,"italic")},className:"toolbar-item spaced "+(x?"active":""),"aria-label":"Format Italics"},t.createElement("i",{className:"format italic"})),t.createElement("button",{type:"button",onClick:()=>{e.dispatchCommand(h.FORMAT_TEXT_COMMAND,"underline")},className:"toolbar-item spaced "+(T?"active":""),"aria-label":"Format Underline"},t.createElement("i",{className:"format underline"})),t.createElement("button",{type:"button",onClick:()=>{e.dispatchCommand(h.FORMAT_TEXT_COMMAND,"strikethrough")},className:"toolbar-item spaced "+(b?"active":""),"aria-label":"Format Strikethrough"},t.createElement("i",{className:"format strikethrough"})),t.createElement("button",{type:"button",onClick:()=>{e.dispatchCommand(h.FORMAT_TEXT_COMMAND,"code")},className:"toolbar-item spaced "+(w?"active":""),"aria-label":"Insert Code"},t.createElement("i",{className:"format code"})),t.createElement("button",{type:"button",onClick:M,className:"toolbar-item spaced "+(N?"active":""),"aria-label":"Insert Link"},t.createElement("i",{className:"format link"})),N&&t.createElement(t.Fragment,null),t.createElement(nr,null),t.createElement("button",{type:"button",onClick:()=>{e.dispatchCommand(h.FORMAT_ELEMENT_COMMAND,"left")},className:"toolbar-item spaced","aria-label":"Left Align"},t.createElement("i",{className:"format left-align"})),t.createElement("button",{type:"button",onClick:()=>{e.dispatchCommand(h.FORMAT_ELEMENT_COMMAND,"center")},className:"toolbar-item spaced","aria-label":"Center Align"},t.createElement("i",{className:"format center-align"})),t.createElement("button",{type:"button",onClick:()=>{e.dispatchCommand(h.FORMAT_ELEMENT_COMMAND,"right")},className:"toolbar-item spaced","aria-label":"Right Align"},t.createElement("i",{className:"format right-align"})),t.createElement("button",{type:"button",onClick:()=>{e.dispatchCommand(h.FORMAT_ELEMENT_COMMAND,"justify")},className:"toolbar-item","aria-label":"Justify Align"},t.createElement("i",{className:"format justify-align"}))))}function ir(){const[e]=c.useLexicalComposerContext();return t.useEffect(()=>Fe.registerCodeHighlighting(e),[e]),null}var or,sr={};var lr,ar={};const cr="development"===process.env.NODE_ENV?function(){if(or)return sr;or=1;var e=pt,n=c,r=$e,i=h,o=t;function s(e,t){for(let n=0;n<t.length;n++){const r=t[n](e);if(r)return r}return null}const l=/[.,;\s]/;function a(e){return l.test(e)}function u(e){return a(e[e.length-1])}function d(e){return a(e[0])}function g(e){let t=e.getPreviousSibling();return i.$isElementNode(t)&&(t=t.getLastDescendant()),null===t||i.$isLineBreakNode(t)||i.$isTextNode(t)&&u(t.getTextContent())}function f(e){let t=e.getNextSibling();return i.$isElementNode(t)&&(t=t.getFirstDescendant()),null===t||i.$isLineBreakNode(t)||i.$isTextNode(t)&&d(t.getTextContent())}function p(e,t,n,r){if(!(e>0?a(n[e-1]):g(r)))return!1;return t<n.length?a(n[t]):f(r)}function m(e,t,n){const r=e.getChildren(),o=r.length;for(let t=0;t<o;t++){const o=r[t];if(!i.$isTextNode(o)||!o.isSimpleText())return _(e),void n(null,e.getURL())}const l=e.getTextContent(),a=s(l,t);if(null===a||a.text!==l)return _(e),void n(null,e.getURL());if(!g(e)||!f(e))return _(e),void n(null,e.getURL());const c=e.getURL();if(c!==a.url&&(e.setURL(a.url),n(a.url,c)),a.attributes){const t=e.getRel();t!==a.attributes.rel&&(e.setRel(a.attributes.rel||null),n(a.attributes.rel||null,t));const r=e.getTarget();r!==a.attributes.target&&(e.setTarget(a.attributes.target||null),n(a.attributes.target||null,r))}}function _(e){const t=e.getChildren();for(let n=t.length-1;n>=0;n--)e.insertAfter(t[n]);return e.remove(),t.map(e=>e.getLatest())}function N(t,n,l){o.useEffect(()=>{if(!t.hasNodes([e.AutoLinkNode]))throw Error("LexicalAutoLinkPlugin: AutoLinkNode not registered on editor");const o=(e,t)=>{l&&l(e,t)};return r.mergeRegister(t.registerNodeTransform(i.TextNode,t=>{const r=t.getParentOrThrow(),l=t.getPreviousSibling();e.$isAutoLinkNode(r)?m(r,n,o):e.$isLinkNode(r)||(!t.isSimpleText()||!d(t.getTextContent())&&e.$isAutoLinkNode(l)||function(t,n,r){const o=t.getTextContent();let l,a=o,c=0,u=t;for(;(l=s(a,n))&&null!==l;){const n=l.index,s=l.length,d=n+s;if(p(c+n,c+d,o,t)){let t;c+n===0?[t,u]=u.splitText(c+s):[,t,u]=u.splitText(c+n,c+n+s);const o=e.$createAutoLinkNode(l.url,l.attributes),a=i.$createTextNode(l.text);a.setFormat(t.getFormat()),a.setDetail(t.getDetail()),o.append(a),t.replace(o),r(l.url,null),c=0}else c+=d;a=a.substring(d)}}(t,n,o),function(t,n,r){const i=t.getPreviousSibling(),o=t.getNextSibling(),s=t.getTextContent();e.$isAutoLinkNode(i)&&!d(s)&&(i.append(t),m(i,n,r),r(null,i.getURL())),e.$isAutoLinkNode(o)&&!u(s)&&(_(o),m(o,n,r),r(null,o.getURL()))}(t,n,o))}))},[t,n,l])}return sr.AutoLinkPlugin=function({matchers:e,onChange:t}){const[r]=n.useLexicalComposerContext();return N(r,e,t),null},sr}():function(){if(lr)return ar;lr=1;var e=pt,n=c,r=$e,i=h,o=t;function s(e,t){for(let n=0;n<t.length;n++){let r=t[n](e);if(r)return r}return null}let l=/[.,;\s]/;function a(e){var t;return e=e.getPreviousSibling(),i.$isElementNode(e)&&(e=e.getLastDescendant()),!(t=null===e||i.$isLineBreakNode(e))&&(t=i.$isTextNode(e))&&(e=e.getTextContent(),t=l.test(e[e.length-1])),t}function u(e){return e=e.getNextSibling(),i.$isElementNode(e)&&(e=e.getFirstDescendant()),null===e||i.$isLineBreakNode(e)||i.$isTextNode(e)&&l.test(e.getTextContent()[0])}function d(e,t,n){var r=e.getChildren();let o=r.length;for(let t=0;t<o;t++){let o=r[t];if(!i.$isTextNode(o)||!o.isSimpleText())return g(e),void n(null,e.getURL())}null===(t=s(r=e.getTextContent(),t))||t.text!==r?(g(e),n(null,e.getURL())):a(e)&&u(e)?((r=e.getURL())!==t.url&&(e.setURL(t.url),n(t.url,r)),t.attributes&&((r=e.getRel())!==t.attributes.rel&&(e.setRel(t.attributes.rel||null),n(t.attributes.rel||null,r)),(r=e.getTarget())!==t.attributes.target&&(e.setTarget(t.attributes.target||null),n(t.attributes.target||null,r)))):(g(e),n(null,e.getURL()))}function g(e){let t=e.getChildren();var n=t.length;for(--n;0<=n;n--)e.insertAfter(t[n]);return e.remove(),t.map(e=>e.getLatest())}return ar.AutoLinkPlugin=function({matchers:t,onChange:c}){let[f]=n.useLexicalComposerContext();return function(t,n,c){o.useEffect(()=>{if(!t.hasNodes([e.AutoLinkNode]))throw Error("Minified Lexical error #77; visit https://lexical.dev/docs/error?code=77 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");let o=(e,t)=>{c&&c(e,t)};return r.mergeRegister(t.registerNodeTransform(i.TextNode,t=>{var r=t.getParentOrThrow(),f=t.getPreviousSibling();if(e.$isAutoLinkNode(r))d(r,n,o);else if(!e.$isLinkNode(r)){if(t.isSimpleText()&&(l.test(t.getTextContent()[0])||!e.$isAutoLinkNode(f))){f=r=t.getTextContent();let o=0,d=t;for(var h;(h=s(f,n))&&null!==h;){let n=h.index,s=h.length,g=n+s;var p=o+n,m=o+g,_=r,N=t;if((0<p?l.test(_[p-1]):a(N))&&(m<_.length?l.test(_[m]):u(N))){var y=void 0;0===o+n?[y,d]=d.splitText(o+s):[,y,d]=d.splitText(o+n,o+n+s),p=e.$createAutoLinkNode(h.url,h.attributes),(m=i.$createTextNode(h.text)).setFormat(y.getFormat()),m.setDetail(y.getDetail()),p.append(m),y.replace(p),c&&c(h.url,null),o=0}else o+=g;f=f.substring(g)}}r=t.getPreviousSibling(),h=t.getNextSibling(),y=t.getTextContent(),e.$isAutoLinkNode(r)&&!l.test(y[0])&&(r.append(t),d(r,n,o),t=r.getURL(),c&&c(null,t)),e.$isAutoLinkNode(h)&&!l.test(y[y.length-1])&&(g(h),d(h,n,o),t=h.getURL(),c&&c(null,t))}}))},[t,n,c])}(f,t,c),null},ar}();var ur=cr;const dr=/((https?:\/\/(www\.)?)|(www\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,gr=/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/,fr=[e=>{const t=dr.exec(e);return t&&{index:t.index,length:t[0].length,text:t[0],url:t[0]}},e=>{const t=gr.exec(e);return t&&{index:t.index,length:t[0].length,text:t[0],url:`mailto:${t[0]}`}}];function hr(){return t.createElement(ur.AutoLinkPlugin,{matchers:fr})}function pr(e){const[n]=c.useLexicalComposerContext();return t.useEffect(()=>{e.contentMarkdown&&n.update(()=>{Tt.$convertFromMarkdownString(e.contentMarkdown||"",Tt.TRANSFORMERS)})},[n,e.contentMarkdown]),null}function mr(e){const[n]=c.useLexicalComposerContext();return t.useEffect(()=>{if(e.contentJSON){const t=n.parseEditorState(e.contentJSON);n.setEditorState(t),n.update(()=>{})}},[n,e.contentJSON]),null}const _r={ltr:"ltr",rtl:"rtl",placeholder:"editor-placeholder",paragraph:"editor-paragraph",quote:"editor-quote",heading:{h1:"editor-heading-h1",h2:"editor-heading-h2",h3:"editor-heading-h3",h4:"editor-heading-h4",h5:"editor-heading-h5"},list:{nested:{listitem:"editor-nested-listitem"},ol:"editor-list-ol",ul:"editor-list-ul",listitem:"editor-listitem"},image:"editor-image",link:"editor-link",text:{bold:"editor-text-bold",italic:"editor-text-italic",overflowed:"editor-text-overflowed",hashtag:"editor-text-hashtag",underline:"editor-text-underline",strikethrough:"editor-text-strikethrough",underlineStrikethrough:"editor-text-underlineStrikethrough",code:"editor-text-code"},code:"editor-code",codeHighlight:{atrule:"editor-tokenAttr",attr:"editor-tokenAttr",boolean:"editor-tokenProperty",builtin:"editor-tokenSelector",cdata:"editor-tokenComment",char:"editor-tokenSelector",class:"editor-tokenFunction","class-name":"editor-tokenFunction",comment:"editor-tokenComment",constant:"editor-tokenProperty",deleted:"editor-tokenProperty",doctype:"editor-tokenComment",entity:"editor-tokenOperator",function:"editor-tokenFunction",important:"editor-tokenVariable",inserted:"editor-tokenSelector",keyword:"editor-tokenAttr",namespace:"editor-tokenVariable",number:"editor-tokenProperty",operator:"editor-tokenOperator",prolog:"editor-tokenComment",property:"editor-tokenProperty",punctuation:"editor-tokenPunctuation",regex:"editor-tokenVariable",selector:"editor-tokenSelector",string:"editor-tokenSelector",symbol:"editor-tokenProperty",tag:"editor-tokenProperty",url:"editor-tokenOperator",variable:"editor-tokenVariable"}};function Nr(){return t.createElement("div",{className:"editor-placeholder"})}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}('.markdown ul {\n  padding: 0;\n  margin: 0;\n  list-style-type: unset;\n}\n\n.markdown .ltr {\n  text-align: left;\n}\n\n.markdown .rtl {\n  text-align: right;\n}\n\n.editor-container {\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 0.25rem;\n  color: #333;\n  position: relative;\n}\n\n.display-container {\n  color: #333;\n  position: relative;\n  overflow: hidden;\n}\n\n.editor-inner {\n  border-bottom-left-radius: 0.25rem;\n  border-bottom-right-radius: 0.25rem;\n}\n\n.editor-inner,\n.display-inner {\n  background: #fff;\n  position: relative;\n}\n\n.content-display {\n  resize: none;\n  font-size: 1em;\n  position: relative;\n  padding: 1rem 0.75rem;\n}\n\n.editor-input {\n  min-height: 150px;\n  resize: none;\n  font-size: 1em;\n  caret-color: #333;\n  position: relative;\n  tab-size: 1;\n  outline: 0;\n  padding: 1rem 0.75rem;\n  caret-color: #333;\n}\n\n.editor-placeholder {\n  color: #999;\n  overflow: hidden;\n  position: absolute;\n  text-overflow: ellipsis;\n  top: 1em;\n  left: 0.75em;\n  font-size: 1em;\n  user-select: none;\n  display: inline-block;\n  pointer-events: none;\n}\n\n.editor-text-bold {\n  font-weight: bold;\n}\n\n.editor-text-italic {\n  font-style: italic;\n}\n\n.editor-text-underline {\n  text-decoration: underline;\n}\n\n.editor-text-strikethrough {\n  text-decoration: line-through;\n}\n\n.editor-text-underlineStrikethrough {\n  text-decoration: underline line-through;\n}\n\n.editor-text-code {\n  background-color: rgb(240, 242, 245);\n  padding: 1px 0.25rem;\n  font-family: Menlo, Consolas, Monaco, monospace;\n  font-size: 13px;\n}\n\n.editor-link {\n  color: rgb(33, 111, 219);\n  text-decoration: none;\n}\n\n.editor-code {\n  background-color: rgb(240, 242, 245);\n  font-family: Menlo, Consolas, Monaco, monospace;\n  display: block;\n  padding: 8px 8px 8px 52px;\n  line-height: 1.53;\n  font-size: 13px;\n  margin: 0;\n  margin-top: 8px;\n  margin-bottom: 8px;\n  tab-size: 2;\n  /* white-space: pre; */\n  overflow-x: auto;\n  position: relative;\n}\n\n.editor-code:before {\n  content: attr(data-gutter);\n  position: absolute;\n  background-color: #eee;\n  left: 0;\n  top: 0;\n  border-right: 1px solid #ccc;\n  padding: 8px;\n  color: #777;\n  white-space: pre-wrap;\n  text-align: right;\n  min-width: 25px;\n}\n\n.editor-code:after {\n  content: attr(data-highlight-language);\n  top: 0;\n  right: 3px;\n  padding: 3px;\n  font-size: 10px;\n  text-transform: uppercase;\n  position: absolute;\n  color: rgba(0, 0, 0, 0.5);\n}\n\n.editor-tokenComment {\n  color: slategray;\n}\n\n.editor-tokenPunctuation {\n  color: #999;\n}\n\n.editor-tokenProperty {\n  color: #905;\n}\n\n.editor-tokenSelector {\n  color: #690;\n}\n\n.editor-tokenOperator {\n  color: #9a6e3a;\n}\n\n.editor-tokenAttr {\n  color: #07a;\n}\n\n.editor-tokenVariable {\n  color: #e90;\n}\n\n.editor-tokenFunction {\n  color: #dd4a68;\n}\n\n.editor-paragraph {\n  margin: 0;\n  margin-bottom: 8px;\n  position: relative;\n}\n\n.editor-paragraph:last-child {\n  margin-bottom: 0;\n}\n\n.editor-heading-h1 {\n  font-size: 1.5em;\n  color: #333;\n  font-weight: 700;\n  margin: 0;\n  margin-bottom: 0.25rem;\n}\n\n.editor-heading-h2 {\n  font-size: 1.25em;\n  color: #333;\n  font-weight: 600;\n  margin: 0;\n  margin-bottom: 0.5rem;\n}\n\n.editor-quote {\n  margin: 0;\n  margin-bottom: 1rem;\n  margin-left: 1rem;\n  font-size: 0.95em;\n  color: #555;\n  border-left-color: rgba(0, 0, 0, 0.2);\n  border-left-width: 4px;\n  border-left-style: solid;\n  padding-left: 1rem;\n}\n\n.editor-list-ol {\n  padding: 0;\n  margin: 0;\n}\n\n.editor-list-ul {\n  padding: 0;\n  margin: 0;\n}\n\n.editor-listitem {\n  margin: 8px 32px 8px 32px;\n}\n\n.editor-nested-listitem {\n  list-style-type: none;\n}\n\npre::-webkit-scrollbar {\n  background: transparent;\n  width: 10px;\n}\n\npre::-webkit-scrollbar-thumb {\n  background: #999;\n}\n\n.toolbar {\n  display: flex;\n  border-top-left-radius: 0.25rem;\n  border-top-right-radius: 0.25rem;\n  margin-bottom: 1px;\n  background: #fff;\n  padding: 4px;\n  vertical-align: middle;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.2);\n}\n\n.toolbar button.toolbar-item {\n  border: 0;\n  display: flex;\n  background: none;\n  padding: 8px;\n  cursor: pointer;\n  vertical-align: middle;\n  color: #333;\n  align-items: center;\n  justify-content: center;\n}\n\n.toolbar button.toolbar-item:disabled {\n  cursor: not-allowed;\n}\n\n.toolbar button.toolbar-item i.format {\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  height: 18px;\n  width: 18px;\n  display: flex;\n  opacity: 0.4;\n}\n\n.toolbar button.toolbar-item:disabled i.format {\n  opacity: 0.2;\n}\n\n.toolbar button.toolbar-item.active {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.toolbar button.toolbar-item.active i {\n  opacity: 1;\n}\n\n.toolbar .toolbar-item:hover:not([disabled]) {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.toolbar .divider {\n  width: 1px;\n  background-color: rgba(0, 0, 0, 0.2);\n  margin: 0 4px;\n}\n\n.toolbar select.toolbar-item {\n  border: 0;\n  display: flex;\n  background: none;\n  border-radius: 0.25rem;\n  padding: 8px;\n  vertical-align: middle;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  width: 70px;\n  font-size: 14px;\n  color: #777;\n  text-overflow: ellipsis;\n}\n\n.toolbar select.code-language {\n  text-transform: capitalize;\n  width: auto;\n}\n\n.toolbar .toolbar-item .text {\n  display: flex;\n  line-height: 20px;\n  vertical-align: middle;\n  font-size: 14px;\n  color: #777;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  height: 20px;\n  width: auto;\n  text-align: left;\n}\n\n.toolbar .toolbar-item .icon {\n  display: flex;\n  width: 20px;\n  height: 20px;\n  user-select: none;\n  margin-right: 8px;\n  line-height: 16px;\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n#block-controls button:hover {\n  background-color: #efefef;\n}\n\n#block-controls button:focus-visible {\n  border-color: blue;\n}\n\n#block-controls span.block-type {\n  background-size: contain;\n  display: block;\n  width: 18px;\n  height: 18px;\n  margin: 2px;\n}\n\n#block-controls span.block-type.paragraph {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 448 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M448 64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32zm0 256c0-17.7-14.3-32-32-32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32zM0 192c0 17.7 14.3 32 32 32H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H32c-17.7 0-32 14.3-32 32zM448 448c0-17.7-14.3-32-32-32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32z%22%2F%3E%3C%2Fsvg%3E");\n}\n\n#block-controls span.block-type.h1 {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 width%3D%2216%22 height%3D%2216%22 fill%3D%22currentColor%22 class%3D%22bi bi-type-h1%22 viewBox%3D%220 0 16 16%22%3E  %3Cpath d%3D%22M8.637 13V3.669H7.379V7.62H2.758V3.67H1.5V13h1.258V8.728h4.62V13h1.259zm5.329 0V3.669h-1.244L10.5 5.316v1.265l2.16-1.565h.062V13h1.244z%22%2F%3E%3C%2Fsvg%3E");\n}\n\n#block-controls span.block-type.h2 {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 width%3D%2216%22 height%3D%2216%22 fill%3D%22currentColor%22 class%3D%22bi bi-type-h2%22 viewBox%3D%220 0 16 16%22%3E  %3Cpath d%3D%22M7.638 13V3.669H6.38V7.62H1.759V3.67H.5V13h1.258V8.728h4.62V13h1.259zm3.022-6.733v-.048c0-.889.63-1.668 1.716-1.668.957 0 1.675.608 1.675 1.572 0 .855-.554 1.504-1.067 2.085l-3.513 3.999V13H15.5v-1.094h-4.245v-.075l2.481-2.844c.875-.998 1.586-1.784 1.586-2.953 0-1.463-1.155-2.556-2.919-2.556-1.941 0-2.966 1.326-2.966 2.74v.049h1.223z%22%2F%3E%3C%2Fsvg%3E");\n}\n\n#block-controls span.block-type.quote {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 448 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M0 216C0 149.7 53.7 96 120 96h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V320 288 216zm256 0c0-66.3 53.7-120 120-120h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H320c-35.3 0-64-28.7-64-64V320 288 216z%22%2F%3E%3C%2Fsvg%3E");\n}\n\n#block-controls span.block-type.ul {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 512 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M64 144a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM64 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm48-208a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z%22%2F%3E%3C%2Fsvg%3E");\n}\n\n#block-controls span.block-type.ol {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 512 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M24 56c0-13.3 10.7-24 24-24H80c13.3 0 24 10.7 24 24V176h16c13.3 0 24 10.7 24 24s-10.7 24-24 24H40c-13.3 0-24-10.7-24-24s10.7-24 24-24H56V80H48C34.7 80 24 69.3 24 56zM86.7 341.2c-6.5-7.4-18.3-6.9-24 1.2L51.5 357.9c-7.7 10.8-22.7 13.3-33.5 5.6s-13.3-22.7-5.6-33.5l11.1-15.6c23.7-33.2 72.3-35.6 99.2-4.9c21.3 24.4 20.8 60.9-1.1 84.7L86.8 432H120c13.3 0 24 10.7 24 24s-10.7 24-24 24H32c-9.5 0-18.2-5.6-22-14.4s-2.1-18.9 4.3-25.9l72-78c5.3-5.8 5.4-14.6 .3-20.5zM224 64H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32s14.3-32 32-32z%22%2F%3E%3C%2Fsvg%3E");\n}\n\n#block-controls span.block-type.code {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 640 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z%22%2F%3E%3C%2Fsvg%3E");\n}\n\n.dropdown {\n  position: relative;\n}\n\n.dropdown ul {\n  z-index: 5;\n  position: absolute;\n  background-color: #fff;\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  box-shadow: 0 12px 28px 0 rgba(0, 0, 0, 0.2), 0 2px 4px 0 rgba(0, 0, 0, 0.1), inset 0 0 0 1px rgba(255, 255, 255, 0.5);\n  border-radius: 0.25rem;\n  top: 42px;\n}\n\n.dropdown .item {\n  padding: 0.5rem 1rem;\n  color: #333;\n  cursor: pointer;\n  line-height: 16px;\n  font-size: 0.85rem;\n  display: flex;\n  align-content: center;\n  flex-direction: row;\n  flex-shrink: 0;\n  justify-content: space-between;\n  background-color: #fff;\n  border: 0;\n  min-width: unset;\n  align-items: center;\n  width: 100%;\n}\n\n.dropdown .item .active {\n  display: flex;\n  width: 20px;\n  height: 20px;\n  background-size: contain;\n}\n\n.dropdown .item:first-child {\n  margin-top: 8px;\n}\n\n.dropdown .item:last-child {\n  margin-bottom: 8px;\n}\n\n.dropdown .item:hover {\n  background-color: #eee;\n}\n\n.dropdown .item .text {\n  display: flex;\n  line-height: 20px;\n  flex-grow: 1;\n  width: auto;\n  text-align: left;\n  white-space: nowrap;\n}\n\n.dropdown .item .icon {\n  display: flex;\n  width: 16px;\n  height: 16px;\n  user-select: none;\n  margin-right: 0.5rem;\n  line-height: 16px;\n  background-size: contain;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n.link-editor {\n  position: absolute;\n  z-index: 100;\n  top: -10000px;\n  left: -10000px;\n  margin-top: -6px;\n  max-width: 300px;\n  width: 100%;\n  opacity: 0;\n  background-color: #fff;\n  box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.3);\n  border-radius: 8px;\n  transition: opacity 0.5s;\n}\n\n.link-editor .link-input {\n  display: block;\n  width: calc(100% - 24px);\n  box-sizing: border-box;\n  margin: 8px 12px;\n  padding: 8px 12px;\n  border-radius: 15px;\n  background-color: #eee;\n  font-size: 15px;\n  color: rgb(5, 5, 5);\n  border: 0;\n  outline: 0;\n  position: relative;\n  font-family: inherit;\n}\n\n.link-editor div.link-edit {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 512 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z%22%2F%3E%3C%2Fsvg%3E");\n  background-size: 16px;\n  background-position: center;\n  background-repeat: no-repeat;\n  width: 35px;\n  vertical-align: -0.25em;\n  position: absolute;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  cursor: pointer;\n}\n\n.link-editor .link-input a {\n  color: rgb(33, 111, 219);\n  text-decoration: none;\n  display: block;\n  white-space: nowrap;\n  overflow: hidden;\n  margin-right: 30px;\n  text-overflow: ellipsis;\n}\n\n.link-editor .link-input a:hover {\n  text-decoration: underline;\n}\n\n.link-editor .button {\n  width: 20px;\n  height: 20px;\n  display: inline-block;\n  padding: 6px;\n  border-radius: 8px;\n  cursor: pointer;\n  margin: 0 2px;\n}\n\n.link-editor .button.hovered {\n  width: 20px;\n  height: 20px;\n  display: inline-block;\n  background-color: #eee;\n}\n\n.link-editor .button i,\n.actions i {\n  background-size: contain;\n  display: inline-block;\n  height: 20px;\n  width: 20px;\n  vertical-align: -0.25em;\n}\n\ni.undo {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 512 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M32.5 224H24c-13.3 0-24-10.7-24-24V72c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2L82.6 96.6c87.6-86.5 228.7-86.2 315.8 1c87.5 87.5 87.5 229.3 0 316.8s-229.3 87.5-316.8 0c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0c62.5 62.5 163.8 62.5 226.3 0s62.5-163.8 0-226.3c-62.2-62.2-162.7-62.5-225.3-1L169 183c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8H32.5z%22%2F%3E%3C%2Fsvg%3E");\n}\n\ni.redo {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 512 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M447.5 224H456c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L397.4 96.6c-87.6-86.5-228.7-86.2-315.8 1c-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L311 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H447.5z%22%2F%3E%3C%2Fsvg%3E");\n}\n\n.icon.paragraph {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 448 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M448 64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32zm0 256c0-17.7-14.3-32-32-32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32zM0 192c0 17.7 14.3 32 32 32H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H32c-17.7 0-32 14.3-32 32zM448 448c0-17.7-14.3-32-32-32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32z%22%2F%3E%3C%2Fsvg%3E");\n}\n\n.icon.large-heading,\n.icon.h1 {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 width%3D%2216%22 height%3D%2216%22 fill%3D%22currentColor%22 class%3D%22bi bi-type-h1%22 viewBox%3D%220 0 16 16%22%3E  %3Cpath d%3D%22M8.637 13V3.669H7.379V7.62H2.758V3.67H1.5V13h1.258V8.728h4.62V13h1.259zm5.329 0V3.669h-1.244L10.5 5.316v1.265l2.16-1.565h.062V13h1.244z%22%2F%3E%3C%2Fsvg%3E");\n}\n\n.icon.small-heading,\n.icon.h2 {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 width%3D%2216%22 height%3D%2216%22 fill%3D%22currentColor%22 class%3D%22bi bi-type-h2%22 viewBox%3D%220 0 16 16%22%3E  %3Cpath d%3D%22M7.638 13V3.669H6.38V7.62H1.759V3.67H.5V13h1.258V8.728h4.62V13h1.259zm3.022-6.733v-.048c0-.889.63-1.668 1.716-1.668.957 0 1.675.608 1.675 1.572 0 .855-.554 1.504-1.067 2.085l-3.513 3.999V13H15.5v-1.094h-4.245v-.075l2.481-2.844c.875-.998 1.586-1.784 1.586-2.953 0-1.463-1.155-2.556-2.919-2.556-1.941 0-2.966 1.326-2.966 2.74v.049h1.223z%22%2F%3E%3C%2Fsvg%3E");\n}\n\n.icon.bullet-list,\n.icon.ul {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 512 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M64 144a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM64 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm48-208a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z%22%2F%3E%3C%2Fsvg%3E");\n}\n\n.icon.numbered-list,\n.icon.ol {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 512 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M24 56c0-13.3 10.7-24 24-24H80c13.3 0 24 10.7 24 24V176h16c13.3 0 24 10.7 24 24s-10.7 24-24 24H40c-13.3 0-24-10.7-24-24s10.7-24 24-24H56V80H48C34.7 80 24 69.3 24 56zM86.7 341.2c-6.5-7.4-18.3-6.9-24 1.2L51.5 357.9c-7.7 10.8-22.7 13.3-33.5 5.6s-13.3-22.7-5.6-33.5l11.1-15.6c23.7-33.2 72.3-35.6 99.2-4.9c21.3 24.4 20.8 60.9-1.1 84.7L86.8 432H120c13.3 0 24 10.7 24 24s-10.7 24-24 24H32c-9.5 0-18.2-5.6-22-14.4s-2.1-18.9 4.3-25.9l72-78c5.3-5.8 5.4-14.6 .3-20.5zM224 64H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32s14.3-32 32-32zm0 160H480c17.7 0 32 14.3 32 32s-14.3 32-32 32H224c-17.7 0-32-14.3-32-32s14.3-32 32-32z%22%2F%3E%3C%2Fsvg%3E");\n}\n\n.icon.quote {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 448 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M0 216C0 149.7 53.7 96 120 96h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V320 288 216zm256 0c0-66.3 53.7-120 120-120h8c17.7 0 32 14.3 32 32s-14.3 32-32 32h-8c-30.9 0-56 25.1-56 56v8h64c35.3 0 64 28.7 64 64v64c0 35.3-28.7 64-64 64H320c-35.3 0-64-28.7-64-64V320 288 216z%22%2F%3E%3C%2Fsvg%3E");\n}\n\n.icon.code {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 640 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z%22%2F%3E%3C%2Fsvg%3E");\n}\n\ni.bold {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 384 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M0 64C0 46.3 14.3 32 32 32H80 96 224c70.7 0 128 57.3 128 128c0 31.3-11.3 60.1-30 82.3c37.1 22.4 62 63.1 62 109.7c0 70.7-57.3 128-128 128H96 80 32c-17.7 0-32-14.3-32-32s14.3-32 32-32H48V256 96H32C14.3 96 0 81.7 0 64zM224 224c35.3 0 64-28.7 64-64s-28.7-64-64-64H112V224H224zM112 288V416H256c35.3 0 64-28.7 64-64s-28.7-64-64-64H224 112z%22%2F%3E%3C%2Fsvg%3E");\n}\n\ni.italic {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 384 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M128 64c0-17.7 14.3-32 32-32H352c17.7 0 32 14.3 32 32s-14.3 32-32 32H293.3L160 416h64c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H90.7L224 96H160c-17.7 0-32-14.3-32-32z%22%2F%3E%3C%2Fsvg%3E");\n}\n\ni.underline {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 448 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M16 64c0-17.7 14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H128V224c0 53 43 96 96 96s96-43 96-96V96H304c-17.7 0-32-14.3-32-32s14.3-32 32-32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H384V224c0 88.4-71.6 160-160 160s-160-71.6-160-160V96H48C30.3 96 16 81.7 16 64zM0 448c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32z%22%2F%3E%3C%2Fsvg%3E");\n}\n\ni.strikethrough {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 512 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M161.3 144c3.2-17.2 14-30.1 33.7-38.6c21.1-9 51.8-12.3 88.6-6.5c11.9 1.9 48.8 9.1 60.1 12c17.1 4.5 34.6-5.6 39.2-22.7s-5.6-34.6-22.7-39.2c-14.3-3.8-53.6-11.4-66.6-13.4c-44.7-7-88.3-4.2-123.7 10.9c-36.5 15.6-64.4 44.8-71.8 87.3c-.1 .6-.2 1.1-.2 1.7c-2.8 23.9 .5 45.6 10.1 64.6c4.5 9 10.2 16.9 16.7 23.9H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H270.1c-.1 0-.3-.1-.4-.1l-1.1-.3c-36-10.8-65.2-19.6-85.2-33.1c-9.3-6.3-15-12.6-18.2-19.1c-3.1-6.1-5.2-14.6-3.8-27.4zM348.9 337.2c2.7 6.5 4.4 15.8 1.9 30.1c-3 17.6-13.8 30.8-33.9 39.4c-21.1 9-51.7 12.3-88.5 6.5c-18-2.9-49.1-13.5-74.4-22.1c-5.6-1.9-11-3.7-15.9-5.4c-16.8-5.6-34.9 3.5-40.5 20.3s3.5 34.9 20.3 40.5c3.6 1.2 7.9 2.7 12.7 4.3l0 0 0 0c24.9 8.5 63.6 21.7 87.6 25.6l0 0 .2 0c44.7 7 88.3 4.2 123.7-10.9c36.5-15.6 64.4-44.8 71.8-87.3c3.6-21 2.7-40.4-3.1-58.1H335.1c7 5.6 11.4 11.2 13.9 17.2z%22%2F%3E%3C%2Fsvg%3E");\n}\n\ni.code {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 640 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z%22%2F%3E%3C%2Fsvg%3E");\n}\n\ni.link {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 640 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M562.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L405.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C189.5 251.2 196 330 246 380c56.5 56.5 148 56.5 204.5 0L562.8 267.7zM43.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C57 372 57 321 88.5 289.5L200.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C416.5 260.8 410 182 360 132c-56.5-56.5-148-56.5-204.5 0L43.2 244.3z%22%2F%3E%3C%2Fsvg%3E");\n}\n\ni.left-align {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 448 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M288 64c0 17.7-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32H256c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H256c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z%22%2F%3E%3C%2Fsvg%3E");\n}\n\ni.center-align {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 448 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M352 64c0-17.7-14.3-32-32-32H128c-17.7 0-32 14.3-32 32s14.3 32 32 32H320c17.7 0 32-14.3 32-32zm96 128c0-17.7-14.3-32-32-32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32zM0 448c0 17.7 14.3 32 32 32H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H32c-17.7 0-32 14.3-32 32zM352 320c0-17.7-14.3-32-32-32H128c-17.7 0-32 14.3-32 32s14.3 32 32 32H320c17.7 0 32-14.3 32-32z%22%2F%3E%3C%2Fsvg%3E");\n}\n\ni.right-align {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 448 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M448 64c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32zm0 256c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32zM0 192c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 448c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z%22%2F%3E%3C%2Fsvg%3E");\n}\n\ni.justify-align {\n  background-image: url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 448 512%22%3E%3C!--! Font Awesome Pro 6.3.0 by %40fontawesome - https%3A%2F%2Ffontawesome.com License - https%3A%2F%2Ffontawesome.com%2Flicense (Commercial License) Copyright 2023 Fonticons%2C Inc. --%3E%3Cpath d%3D%22M448 64c0-17.7-14.3-32-32-32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32zm0 256c0-17.7-14.3-32-32-32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32zM0 192c0 17.7 14.3 32 32 32H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H32c-17.7 0-32 14.3-32 32zM448 448c0-17.7-14.3-32-32-32H32c-17.7 0-32 14.3-32 32s14.3 32 32 32H416c17.7 0 32-14.3 32-32z%22%2F%3E%3C%2Fsvg%3E");\n}'),exports.MarkdownDisplay=function(e){const n=t.useMemo(()=>({namespace:"lexical",theme:_r,onError(e){throw e},nodes:[ut.HeadingNode,ut.QuoteNode,We.ListItemNode,We.ListNode,Fe.CodeHighlightNode,Fe.CodeNode,pt.AutoLinkNode,pt.LinkNode],editable:!1}),[]);return t.createElement("div",{className:"markdown"},t.createElement(y.LexicalComposer,{initialConfig:n},t.createElement("div",{className:"display-container"},t.createElement("div",{className:"display-inner"},t.createElement(jt.RichTextPlugin,{contentEditable:t.createElement(w.ContentEditable,{className:"content-display"}),placeholder:t.createElement(t.Fragment,null),ErrorBoundary:D}),t.createElement(pr,{contentMarkdown:e.contentMarkdown}),t.createElement(mr,{contentJSON:e.contentJSON})))))},exports.MarkdownEditor=function(e){const n=t.useMemo(()=>({namespace:"lexical",theme:_r,onError(e){throw e},nodes:[ut.HeadingNode,ut.QuoteNode,We.ListItemNode,We.ListNode,Fe.CodeHighlightNode,Fe.CodeNode,pt.AutoLinkNode,pt.LinkNode]}),[]);var r;const i=t.useCallback((t,n)=>{e.onChange&&(clearTimeout(r),r=setTimeout(()=>{var r;const i=e.outputFormat||"markdown";if("markdown"===i&&n.update(()=>{var t;const n=Tt.$convertToMarkdownString(Tt.TRANSFORMERS);null===(t=e.onChange)||void 0===t||t.call(e,n)}),"json"===i){const n=JSON.stringify(t.toJSON());null===(r=e.onChange)||void 0===r||r.call(e,n)}},e.debounceOnChange||500))},[e.debounceOnChange,e.onChange,e.outputFormat]);return t.createElement("div",{className:"markdown"},t.createElement(y.LexicalComposer,{initialConfig:n},t.createElement("div",{className:"editor-container"},t.createElement(rr,null),t.createElement("div",{className:"editor-inner"},t.createElement(jt.RichTextPlugin,{contentEditable:t.createElement(w.ContentEditable,{className:"editor-input"}),placeholder:t.createElement(Nr,null),ErrorBoundary:D}),t.createElement(en.OnChangePlugin,{onChange:i}),t.createElement(pr,{contentMarkdown:e.initialMarkdown}),t.createElement(mr,{contentJSON:e.initialJSON}),t.createElement(mn.HistoryPlugin,null),t.createElement(xn.AutoFocusPlugin,null),t.createElement(ir,null),t.createElement($n.ListPlugin,null),t.createElement(wn.LinkPlugin,null),t.createElement(hr,null),t.createElement(Qn.MarkdownShortcutPlugin,{transformers:Tt.TRANSFORMERS})))))};
//# sourceMappingURL=index.js.map
